/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.8_ES6
*/
zingchart.setModule("dragging"),zingchart.bind(null,"node_mouseout",function(){document.body.style.cursor="default"}),zingchart.bind(null,"node_mouseup",function(){document.body.style.cursor="default"}),zingchart.bind(null,"node_click",function(){document.body.style.cursor="default"}),zingchart.bind(null,"node_mousedown",function(e){var a=zingchart.getLoader(e.id),t=zingchart.getGraph(a,e.graphid),n=zingchart.getModules(a);if(-1!==ZC.AV(n,"dragging")){e.ev.preventDefault();var i,d=e.ev.shiftKey,o=!0,r=!1,l=0,s=0,c=0,g=0,u=0,p=e.plotindex,f=e.nodeindex,h=e.value,x=[],v=(t=zingchart.getGraph(a,e.graphid)).getData(),m={};v.options&&(m=v.options.dragging||v.options);var b=zingchart.exec(e.id,"getobjectinfo",{object:"plot",plotindex:e.plotindex});if(b.xdata.dragging){var z=0;typeof m[ZC._[12]]!==ZC._[31]&&(z=parseInt(m[ZC._[12]],10)),typeof b.xdata["dragging-decimals"]!==ZC._[31]&&(z=parseInt(b.xdata["dragging-decimals"],10));var _=null;typeof b.xdata["dragging-min-value"]!==ZC._[31]&&(_=parseFloat(b.xdata["dragging-min-value"])),typeof b.xdata["dragging-max-value"]!==ZC._[31]&&(_=parseFloat(b.xdata["dragging-max-value"]));for(var C=0;C<b.scales.length;C++)-1===b.scales[C].indexOf(ZC._[51])&&-1===b.scales[C].indexOf(ZC._[52])||(i=b.scales[C]);var Z={};switch(-1===ZC.AV(["pie","pie3d","nestedpie"],b.type)&&(Z=zingchart.exec(e.id,"getobjectinfo",{object:"scale",name:i})),b.type){case"line":case"area":Z.inversed?document.body.style.cursor="ew-resize":document.body.style.cursor="ns-resize";break;case"hbar":case"hbar3d":case"hbullet":document.body.style.cursor="ew-resize";break;case"pie":case"nestedpie":case"pie3d":case"radar":document.body.style.cursor="move";break;default:document.body.style.cursor="ns-resize"}var y=1,F=zingchart.exec(e.id,"getobjectinfo",{object:"scale",name:"scale"});F&&F.sizeFactor&&(y=F.sizeFactor);var k,M,A=ZC.A5("#"+e.id+"-top");x=[].concat(zingchart.exec(e.id,"getseriesvalues",{plotindex:e.plotindex})),zingchart.SKIP.LEGEND=!0;var E=Z[ZC._[20]],V=function(t){o?(s=t.pageX,l=t.pageY,o=!1):(c=t.pageX-s,g=l-t.pageY),k=t.pageX,M=t.pageY,e.ev.pageX,e.ev.pageY,function(t){switch(b.type){case"line":case"area":Z.inversed?(u=c,g=0,E=Z[ZC._[19]]):(u=g,c=0);break;case"hbar":case"hbullet":case"hbar3d":u=c,g=0,E=Z[ZC._[19]];break;case"pie":case"nestedpie":case"pie3d":u=c,E=y*Math.min(Z[ZC._[19]],Z[ZC._[20]])/2-Z.offsetStart-Z.offsetEnd;break;case"radar":var n=[Z.x+Z[ZC._[19]]/2,Z.y+Z[ZC._[20]]/2],i=Math.sqrt((s-A.offset().left-n[0])*(s-A.offset().left-n[0])+(l-A.offset().top-n[1])*(l-A.offset().top-n[1])),o=Math.sqrt((k-A.offset().left-n[0])*(k-A.offset().left-n[0])+(M-A.offset().top-n[1])*(M-A.offset().top-n[1]));u=o-i,E=y*Math.min(Z[ZC._[19]],Z[ZC._[20]])/2-Z.offsetStart-Z.offsetEnd;break;default:u=g,c=0}if(Math.abs(u)>1){r=!0,zingchart.exec(e.id,"setmode",{mode:"static"});var p=zingchart.exec(e.id,"getselection");if(h=-1!==ZC.AV(["pie","pie3d","nestedpie"],b.type)?Math.max(0===z?1:1/z,parseFloat(e.value+u)):b.stacked&&"100%"===b.stackType?parseFloat((e.value+100*u/E).toFixed(z)):parseFloat((e.value+(Z.maxValue-Z.minValue)*u/E).toFixed(z)),d){for(var f=[],v=0;v<x.length;v++)null===ZC._n_(p)||null===ZC._n_(p[e.plotindex])||null!==ZC._n_(p[e.plotindex])&&-1!==ZC.AV(p[e.plotindex],v)?b.stacked&&"100%"===b.stackType?f[v]=parseFloat((x[v]+100*u/E).toFixed(z)):f[v]=parseFloat((x[v]+(Z.maxValue-Z.minValue)*u/E).toFixed(z)):f[v]=x[v],null!==ZC._n_(_)&&(f[v]=Math.max(f[v],_)),null!==ZC._n_(null)&&(f[v]=Math.min(f[v],null));zingchart.exec(e.id,"setseriesvalues",{plotindex:e.plotindex,values:f}),e["zingchart.plugins.dragging.update.type"]="plot",e["zingchart.plugins.dragging.update.values"]=f,zingchart.fireEvent("zingchart.plugins.dragging.update",a,e)}else null!==ZC._n_(_)&&(h=Math.max(h,_)),null!==ZC._n_(null)&&(h=Math.min(h,null)),zingchart.exec(e.id,"setnodevalue",{plotindex:e.plotindex,nodeindex:e.nodeindex,value:h}),e["zingchart.plugins.dragging.update.type"]="node",e["zingchart.plugins.dragging.update.value"]=h,zingchart.fireEvent("zingchart.plugins.dragging.update",a,e);zingchart.exec(e.id,"showtooltip",e)}}()};ZC.A5(document.body).bind(ZC._[48],V),ZC.A5(document.body).bind(ZC._[49],function(n){if(ZC.A5(document.body).unbind(ZC._[48],V),r){o=!0,zingchart.SKIP.LEGEND=!1,zingchart.exec(e.id,"setmode",{mode:""}),d?zingchart.exec(e.id,"update",{}):zingchart.exec(e.id,"setnodevalue",{plotindex:p,nodeindex:f,value:h});var i=t.AY.A4[p].FK(f);i&&i.P2(n,ZC._[49]),zingchart.fireEvent("zingchart.plugins.dragging.complete",a,e),document.body.style.cursor="default"}r=!1})}}});