/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.16
*/
ZC.WJ.push("pie3d"),ZC.A5C=ZC.A3U.CD({$i:function(C){this.b(C);var A=this;A.AF="pie3d",A.AY=new ZC.A88(A),A.CN=new ZC.SU,A.AJ["3d"]=!0,A.AJ["enable-animation"]=!1,A.AJ["x-angle-min"]=15,A.AJ["x-angle-max"]=75,A.AJ["y-angle-min"]=0,A.AJ["y-angle-max"]=0,A.AJ["z-angle-min"]=0,A.AJ["z-angle-max"]=0},clear:function(){this.b(),this.CN.clear()},paint:function(){var C=this;C.b(),C.SK(),C.flatten(),C.Q7(),C.FB.length&&(C.CN.clear(),C.KM(),C.SK()),-1===ZC.AV(C.G.KQ,"skip_interactivity")&&C.S7()}}),ZC.A88=ZC.A58.CD({ACU:function(){return new ZC.XK(this)}}),ZC.XK=ZC.W9.CD({$i:function(C){this.b(C);this.AF="pie3d",this.JJ=-1},parse:function(){this.b(),this.assign_a([["thickness","JJ","ia"]])},U3:function(){return new ZC.A7M(this)}}),ZC.A7M=ZC.LM.CD({bCXY:!0,U:null,$i:function(C){this.b(C)},parse:function(){this.b()},AB2:function(){this.b();var C=this.C.E;C.update.npv=C.update["node-percent-value"]=this.KA("%npv")},KA:function(C,A,n,i){var e=this,t=e.A.MU();ZC._cp_(A,t),-1===C.indexOf("%npv")&&-1===C.indexOf("%node-percent-value")||null!==ZC._n_(t.decimals)&&-1!==t.decimals||(t.decimals=1);var a=0,Z="0";e.A.A.KP[e.L]>0&&(Z=""+(a=100*e.AD/e.A.A.KP[e.L]));for(var r=0,o=0;o<e.A.A.A3.length;o++)e.A.A.A3[o].AP&&null!==ZC._n_(e.A.A.A3[o].R[e.L])&&0!==e.A.A.A3[o].R[e.L].AD&&(r=o);if(e.A.A.A3.length>1&&r===e.A.L){var s=0;if(null===ZC._n_(e.A.o.totals)){for(o=0;o<e.A.A.A3.length;o++)if(o!==e.A.L&&e.A.A.A3[o].AP&&null!==ZC._n_(e.A.A.A3[o].R[e.L])){var l=0,u="0";e.A.A.KP[e.L]>0&&(u=""+(l=100*e.A.A.A3[o].R[e.L].AD/e.A.A.KP[e.L])),null!==ZC._n_(t.decimals)&&(u=l.toFixed(ZC.BR(0,ZC._i_(t.decimals)))),s+=ZC._f_(u)}Z=""+(a=Math.max(0,100-s))}}null!==ZC._n_(t.decimals)&&(Z=a.toFixed(ZC.BR(0,ZC._i_(t.decimals))));var E,c=ZC._f_(e.A.A.KP[e.L]||"0");return E=ZC.AO.G5(c,t,e.A),e.CA=[["%node-percent-value",Z],["%npv",Z],["%pie-total-value",E]],C=e.b(C,A,n,i)},V7:function(C){var A,n=this,i=(n.B4+n.BL)/2%360,e=0;null!==ZC._n_(A=C["offset-r"])&&(e=ZC._f_(ZC._p_(A))),e<1&&(e*=n.AI);var t=new ZC.CE(n.C,(n.CP+.5*(n.AI-n.CP)+n.DX+e)*ZC.EF(i),(n.CP+.5*(n.AI-n.CP)+n.DX+e)*ZC.EL(i),0).EC;return[t[0],t[1],{reference:n,center:!0}]},setup:function(){var C=this,A=C.C.BM(C.A.BW("k")[0]),n=C.L%A.H7,i=Math.floor(C.L/A.H7);C.iX=A.iX+n*A.GM+A.GM/2+A.BK,C.iY=A.iY+i*A.GH+A.GH/2+A.BJ,C.I3||(C.copy(C.A),C.E6=C.A.E6,C.DH()&&C.parse(),C.I3=!0)},ABE:function(C){var A={},n="out";return null!==ZC._n_(C.o.placement)&&(n=C.o.placement),A.color="out"===n?this.A0:this.C2,A},AC6:function(C){var A,n=this,i="out";null!==ZC._n_(A=C.o.placement)&&(i=A);var e,t,a,Z,r,o=C.I,s=C.F,l=(n.B4+n.BL)/2%360,u=l;if("out"===i){l=u=n.A.A.YB["n"+n.L][n.A.L];var E=function(A,i){i<0&&(i=360+i),i%=360;var e=ZC.AQ.BN(n.iX,n.iY,A+n.DX+C.DX+20,i),t=n.C.ES["x-angle"];t>45&&n.A.A.A3.length>10&&(n.C.ES["x-angle"]=45+(t-45)/3),r=new ZC.CE(n.C,e[0]-ZC.AN.E1,e[1]-ZC.AN.E2,0),n.C.ES["x-angle"]=t,e[0]=r.EC[0],e[1]=r.EC[1];var a=e[0]+C.BK-o/2,Z=e[1]+C.BJ-s/2;return i>=0&&i<=90||i>=270&&i<=360?a+=o/2+10:a-=o/2+10,[a,Z]},c=E(n.AI,u);e=c[0],t=c[1],n.U=C;var h={x:e,y:t,width:o,height:s},p=zingchart.DEV.SPREADTYPE;Z=!0;for(var f=0,B=0,_=-1,d=0,L=0;Z&&L<1024;){Z=!1;for(var v=0,D=n.A.A.TT.length;v<D;v++)a=n.A.A.TT[v],(ZC.AQ.VD(h,a,n.A.A.A3.length>10?-8:-2)||h.x+C.I>n.C.N.iX+n.C.N.I||h.x<n.C.N.iX||h.y+C.F>n.C.N.iY+n.C.N.F||h.y<n.C.N.iY)&&(Z=!0,0===p?(f+=.4,_*=-1):1===p&&(B+=1),c=E(n.AI+B,u+f*_),h.x=c[0],h.y=c[1],L++,++d>100&&(d=0,0===p?(f=0,B+=4):1===p&&(B=0,f+=1,_*=-1)))}e=h.x,t=h.y,l=u+f,a={text:n.A.AK,x:h.x,y:h.y,width:o,height:s,plotindex:n.A.L,nodeindex:n.L},n.A.A.TT.push(a)}else if("in"===i){var P=n.CP<30?.65:.5,I=ZC.AQ.BN(n.iX,n.iY,n.CP+P*(n.AI-n.CP)+n.DX+C.DX,l);r=new ZC.CE(n.C,I[0]-ZC.AN.E1,I[1]-ZC.AN.E2,0),I[0]=r.EC[0],I[1]=r.EC[1],e=I[0]+C.BK-o/2,t=I[1]+C.BJ-s/2}else"center"===i&&(e=(r=new ZC.CE(n.C,n.iX-ZC.AN.E1,n.iY-ZC.AN.E2,0)).EC[0]+C.BK-o/2,t=r.EC[1]+C.BJ-s/2);return Z&&(e=-9999,t=-9999,C.AP=!1),null!==ZC._n_(C.o.x)&&(e=C.iX),null!==ZC._n_(C.o.y)&&(t=C.iY),e>=-2&&(e=ZC._a_(e)),t>=-2&&(t=ZC._a_(t)),[ZC._i_(e),ZC._i_(t),l]},H1:function(C,A){var n,i=this,e=i.b(C,A);if(C)return e;if(i.AP&&e.AP&&null!==ZC._n_(e.AK)&&""!==e.AK){var t="out";if(null!==ZC._n_(e.o.placement)&&(t=e.o.placement),"out"===t){var a=!0;if(null!==ZC._n_(n=e.o.connected)&&(a=ZC._b_(n)),a){var Z=new ZC.DT(i.A);Z.Z=Z.C8=i.A.CS("bl",0),Z.append(i.A.C3.o),Z.B9=i.A0,Z.DJ="line",Z.D=[];var r=e.E.positioninfo,o=(i.B4+i.BL)/2%360,s=0;o>=0&&o<=180&&(s=i.E.thickness/2);var l=ZC.AQ.BN(i.iX,i.iY,i.AI+i.DX+e.DX,o);(l=new ZC.CE(i.C,l[0]-ZC.AN.E1,l[1]-ZC.AN.E2,s).EC)[0]+=i.BK,l[1]+=i.BJ,Z.D.push(l);var u=ZC.AQ.BN(i.iX,i.iY,i.AI+i.DX+e.DX+20,o);(u=new ZC.CE(i.C,u[0]-ZC.AN.E1,u[1]-ZC.AN.E2,s).EC)[0]+=i.BK,u[1]+=i.BJ,e.iX>=i.iX?Z.D.push([u[0],u[1],r[0],r[1]+e.F/2]):Z.D.push([u[0],u[1],r[0]+e.I+2,r[1]+e.F/2]),Z.parse(),Z.IQ=function(C){return i.IQ(C)},Z.DH()&&Z.parse(),Z.AP&&Z.paint()}}}},paint:function(){var C,A,n,i,e,t,a,Z,r,o=this,s=o.C.CN,l=o.C.BM(o.A.BW("k")[0]),u=o.C.ES["x-angle"],E=o.C.ES["y-angle"];o.setup();var c="pie-sel-"+o.A.L+"-"+o.L;if("undefined"!=typeof o.o.detached&&(o.C.E[c]=ZC._b_(o.o.detached)),!(o.AD<0)){var h=ZC.BR(.7,ZC.EF(u));o.AI=ZC.CY(l.GH/h,l.GM)/2,null!==ZC._n_(o.A.o.size)?o.AI=o.A.AI:o.AI=l.JU*o.AI,o.CP<1&&(o.CP*=o.AI),o.CP=Math.max(0,o.CP),o.o.slice=o.CP,o.DX<1&&(o.DX*=o.AI),o.o["offset-r"]=o.DX;var p=o.A.JJ;-1===p&&(p=o.AI/5),o.E.thickness=p;var f=o.iX-ZC.AN.E1,B=o.iY-ZC.AN.E2;o.B4=ZC._i_(o.B4),o.BL=ZC._i_(o.BL);var _=(o.B4+o.BL)/2;o.C.E[c]&&(o.DX+=ZC._i_(.15*o.AI)),o.DX>0&&(f+=o.DX*ZC.EF(_),B+=o.DX*ZC.EL(_));var d=o.P=o.A.IJ(o,o);d.DG=o.K+"-3dfacet";var L=new ZC.CZ(o);if(L.copy(d),L.A0=ZC.AO.JQ(ZC.AO.GD(L.A0)),L.AE=ZC.AO.JQ(ZC.AO.GD(L.AE)),o.AD>=0||0===o.A.A.KP[o.L]){for(a=[],C=o.B4,a.push([f+o.CP*ZC.EF(C),B+o.CP*ZC.EL(C),0]),C=o.B4;C<=o.BL;C+=1)a.push([f+o.AI*ZC.EF(C),B+o.AI*ZC.EL(C),0]);for(C=o.BL,a.push([f+o.CP*ZC.EF(C),B+o.CP*ZC.EL(C),0]),C=o.BL;C>=o.B4;C-=1)a.push([f+o.CP*ZC.EF(C),B+o.CP*ZC.EL(C),0]);if((A=ZC.DM.DA(d,o.C,a)).K=o.K+"-facet1",s.add(A),n=null,o.B4%360>=0+E&&o.B4%360<180+E||o.BL%360>0+E){Z=o.B4,r=o.BL;var v=function(C,A,i){var e,t=[];for(e=C,t.push([f+o.AI*ZC.EF(e),B+o.AI*ZC.EL(e),0]),e=C;e<=A;e+=1)t.push([f+o.AI*ZC.EF(e),B+o.AI*ZC.EL(e),0]);for(e=A,t.push([f+o.AI*ZC.EF(e),B+o.AI*ZC.EL(e),p]),e=A;e>=C;e-=1)t.push([f+o.AI*ZC.EF(e),B+o.AI*ZC.EL(e),p]);(n=ZC.DM.DA(L,o.C,t)).MG=[.01,1,1,1],n.K=o.K+"-facet2"+i,s.add(n)};Z<180&&r>360?(v(Z=Z<0?Z+360:Z,180,1),v(360,r,2)):(Z=ZC.BR(Z,r>360?365:5),(r=ZC.CY(r,r>360?535:175))>Z&&v(Z,r,1))}if(t=null,o.CP>0+E&&o.BL>180+E){for(a=[],C=o.B4,Z=o.B4,o.B4<180+E&&o.BL>180+E&&(C=180+E,Z=180+E),a.push([f+o.CP*ZC.EF(C),B+o.CP*ZC.EL(C),0]),C=Z;C<=o.BL;C+=1)a.push([f+o.CP*ZC.EF(C),B+o.CP*ZC.EL(C),0]);for(C=o.BL,a.push([f+o.CP*ZC.EF(C),B+o.CP*ZC.EL(C),p]),C=o.BL;C>=Z;C-=1)a.push([f+o.CP*ZC.EF(C),B+o.CP*ZC.EL(C),p]);(t=ZC.DM.DA(L,o.C,a)).K=o.K+"-facet3",s.add(t)}var D=function(C,A,n){return[[f+C*ZC.EF(n),B+C*ZC.EL(n),0],[f+C*ZC.EF(n),B+C*ZC.EL(n),p],[f+A*ZC.EF(n),B+A*ZC.EL(n),p],[f+A*ZC.EF(n),B+A*ZC.EL(n),0]]};(i=ZC.DM.DA(L,o.C,{points:D(o.CP,o.AI,o.B4),mathpoints:D(o.CP+1,o.AI+1,o.B4-1)})).K=o.K+"-facet4",s.add(i),(e=ZC.DM.DA(L,o.C,{points:D(o.CP,o.AI,o.BL),mathpoints:D(o.CP+1,o.AI+1,o.BL+1)})).K=o.K+"-facet5",s.add(e);var P=o.C.K+"-node-area "+o.C.K+"-plotset-plot-"+o.A.L+"-node-area zc-node-area",I=ZC.Q.FO("poly",o.A.E9)+'class="'+P+'" id="'+o.K,K=o.A.A.H3;K.push(I+'--top" '+o.a11y()+' data-z-sort="1" coords="'+A.F1()+'" />'),n&&K.push(I+'--outer" data-z-sort="1" coords="'+n.F1()+'" />'),(o.CP>0||o.DX>0)&&(t&&K.push(I+'--inner" data-z-sort="2" coords="'+t.F1()+'" />'),K.push(I+'--start" data-z-sort="2" coords="'+i.F1()+'" />',I+'--end" data-z-sort="2" coords="'+e.F1()+'" />'))}o.A.U&&o.H1()}},X6:function(C,A){var n=this;if(n.b(C,A),"click"===A&&C.which<=1&&n.A.A7U){var i="pie-sel-"+n.A.L+"-"+n.L;n.C.E[i]="undefined"==typeof n.C.E[i]||!n.C.E[i],n.C.KC()}}});