/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.15
*/
ZC.WJ.push("pie"),ZC.A3U=ZC.JN.CD({$i:function(C){this.b(C),this.AF="pie",this.AY=new ZC.A58(this)},A2P:function(C){return C},MT:function(C){switch(C){case"m":return new ZC.TB(this);case"v":return new ZC.WA(this);case"r":return new ZC.A2B(this)}},ACN:function(){var C=this,n=C.MT("m","scale"),i=C.MT("v",ZC._[52]),A=C.MT("r","scale-r");n.BD="scale",n.K=C.K+"-scale",C.o[ZC._[11]]&&C.o[ZC._[11]].length&&C.o[ZC._[11]][0][ZC._[5]]&&(n.N4="1x"+C.o[ZC._[11]][0][ZC._[5]].length),i.BD=ZC._[52],i.K=C.K+"-scale-v",A.BD="scale-r",A.K=C.K+"-scale-r",C.BO.push(n,i,A),C.b()},clear_:function(){-1!==ZC.AV(["svg","vml"],this.G.AB)&&ZC.A3("#"+this.K+" .zc-layer").each(function(){/\-plot-\d+\-bl\-\d+\-/.test(this.id)&&ZC.A3(this).children().each(function(){/\-connector\-path/.test(this.id)&&ZC.Q.EW(this)})})}}),ZC.A58=ZC.LQ.CD({$i:function(C){this.b(C);C=this;C.KP=[],C.PB=[],C.TS=[]},ACU:function(){return new ZC.W9(this)},parseLayout:function(C){for(var n=this,i=(C&&(n.TS=[],n.PB=[]),n.A.BM("scale-r")),A=n.A.BM("scale"),t=.9,e=1,o=(10<=n.A4.length&&(e=1),20<=n.A4.length&&(e=1.25),30<=n.A4.length&&(e=1.5),i.DK),l=0,Z=n.A4.length;l<Z;l++)null!==ZC._n_(n.A4[l].o["ref-angle"])&&(o=n.A4[l].DK);for(l=0,Z=n.A4.length;l<Z;l++)if(n.C.E["plot"+l+".visible"]||"hide"===n.C.getToggleAction())for(var _,a,r,s=0,B=n.A4[l].S.length;s<B;s++)n.A4[l].S[s]&&(n.YB["n"+s]=n.YB["n"+s]||[],a=n.A4[l].S[s],null===ZC._n_(n.PB[s])&&(n.PB[s]=o),r=null!==ZC._n_(r=n.A4[l].o[ZC._[1]])?ZC._f_(r):n.PB[s],_=n.KP[s],_=0===(_=null!==ZC._n_(n.A4[l].o.totals)&&null!==ZC._n_(n.A4[l].o.totals[s])?n.KP[s]=ZC._f_(n.A4[l].o.totals[s]):_)?r+i.EM*(1/Z):0===a.AC&&n.A4[l].TT?r+i.EM*(.005*n.KP[s])/_:r+i.EM*a.AC/_,n.PB[s]=_,a.B4=r,a.BL=_,"out"===(a=a.H1(!0)).o[ZC._[7]])&&a.AP&&(r=ZC._i_((r+_)/2),n.YB["n"+s][l]=r-o,_=ZC.CY(A.I/2-e*a.I-a.DX-35,A.F/2-e*a.F-a.DX-15),t=ZC.CY(t,2*_/ZC.CY(A.I,A.F)));if("pie3d"===n.A.AF&&(t*=.75),t=ZC.BR(.1,ZC.CY(.9,t)),"auto"===A.o["size-factor"]&&(A.JU=t),C)for(var u in n.YB)n.YB[u]=ZC.AQ.ACI(n.YB[u],o)},parse:function(){var C=this;C.A.o.plot&&"auto"===C.A.o.plot.layout&&(null===ZC._n_(C.A.o.plot["ref-angle"])&&(C.A.o.plot["ref-angle"]=-90),C.o.sort(function(C,n){return n[ZC._[5]][0]-C[ZC._[5]][0]})),C.TS=[],C.KP=[],C.PB=[],C.YB={},C.b();for(var n=0,i=C.A4.length;n<i;n++)for(var A=0,t=C.A4[n].S.length;A<t;A++)C.A4[n].S[A]&&C.A4[n].S[A]&&(C.C.E["plot"+n+".visible"]||"hide"===C.C.getToggleAction())&&0===C.A4[n].S[A].AC&&C.A4[n].TT&&(C.KP[A]+=.005*C.KP[A]);C.parseLayout()}}),ZC.W9=ZC.I1.CD({$i:function(C){this.b(C);C=this;C.AF="pie",C.BO=["scale",ZC._[52],"scale-r"],C.PY=0,C.DK=0,C.TT=!1,C.A7U=!0,C.C3=null,C.P7="bg"},U2:function(){return new ZC.A8T(this)},parse:function(){var C,n=this;null===ZC._n_(n.o[ZC._[17]])&&(n.o[ZC._[17]]={}),"ring"!==n.A.A.o.type&&"ring3d"!==n.A.A.o.type||(n.PY=.35),n.BP=n.O6(),n.C2=n.BP[0],n.A0=n.BP[1],n.AE=n.BP[2],n.BX=n.BP[4],n.B9=n.BP[4],n.NR(),n.b(),n.C3=new ZC.CZ(n),n.C.A.B6.load(n.C3.o,["graph.plot.value-box.connector",n.AF+".plot.value-box.connector"]),null!==ZC._n_(C=n.C.o.plot)&&null!==ZC._n_(C[ZC._[17]])&&null!==ZC._n_(C=C[ZC._[17]].connector)&&n.C3.append(C),n.C3.append(n.o[ZC._[17]].connector),n.assign_a([["offset","DX","fp"],[ZC._[8],"PY","fp"],["show-zero","TT","b"],["detach","A7U","b"],["ref-angle","DK","i"]]),n.DK%=360;for(var i=0,A=n.S.length;i<A;i++)n.S[i]&&(n.S[i].CP=n.PY,n.S[i])&&(n.C.E["plot"+n.L+".visible"]||"hide"===n.C.getToggleAction())&&(null===ZC._n_(n.A.KP[i])&&(n.A.KP[i]=0),n.A.KP[i]+=ZC._f_(n.S[i].AC))},paint:function(){var C=this;C.b(),C.KI=C.CS("bl",0),C.PI(!0)}}),ZC.A8T=ZC.LM.CD({bCXY:!0,U:null,$i:function(C){this.b(C)},parse:function(){this.b()},AB2:function(){this.b();var C=this.C.E;C.update.npv=C.update["node-percent-value"]=this.K2("%npv")},K2:function(C,n,i,A){var t=this,e=t.A.MU(),o=(ZC._cp_(n,e),-1===C.indexOf("%npv")&&-1===C.indexOf("%node-percent-value")||null!==ZC._n_(e[ZC._[12]])&&-1!==e[ZC._[12]]||(e[ZC._[12]]=1),0),l="0";if(0<t.A.A.KP[t.L]&&(l=""+(o=100*t.AC/t.A.A.KP[t.L])),1<t.A.A.A4.length&&t.A.L===t.A.A.A4.length-1){var Z=0;if(null===ZC._n_(t.A.o.totals)){for(var _,a,r=0;r<t.A.A.A4.length-1;r++)t.A.A.A4[r].AP&&null!==ZC._n_(t.A.A.A4[r].S[t.L])&&(a="0",(_=0)<t.A.A.KP[t.L]&&(a=""+(_=100*t.A.A.A4[r].S[t.L].AC/t.A.A.KP[t.L])),null!==ZC._n_(e[ZC._[12]])&&(a=_.toFixed(ZC.BR(0,ZC._i_(e[ZC._[12]])))),Z+=ZC._f_(a));l=""+(o=Math.max(0,100-Z))}}null!==ZC._n_(e[ZC._[12]])&&(l=o.toFixed(ZC.BR(0,ZC._i_(e[ZC._[12]]))));o=ZC._f_(t.A.A.KP[t.L]||"0"),o=ZC.AO.G5(o,e,t.A);return t.CA=[["%node-percent-value",l],["%npv",l],["%pie-total-value",o]],C=t.b(C,n,i,A)},getTooltipPosition:function(C,n){var i,A,t,e=this,o=(e.B4+e.BL)/2%360;switch(n){case"out":A=(i=ZC.AQ.BN(e.iX,e.iY,e.AI+e.DX+C.DX,o))[0]+e.BK,t=i[1]+e.BJ,270<o&&o<=360?t-=C.F:90<o&&o<=180?A-=C.I:180<o&&o<=270&&(A-=C.I,t-=C.F);break;case"center":A=(i=ZC.AQ.BN(e.iX,e.iY,e.CP+.5*(e.AI-e.CP)+e.DX,o))[0]+e.BK,t=i[1]+e.BJ;break;default:A=e.iX+e.BK,t=e.iY+e.BJ}return{x:A,y:t}},V7:function(C){var n=this,i=(n.B4+n.BL)/2%360,A=0,C=((A=null!==ZC._n_(C=C["offset-r"])?ZC._f_(ZC._p_(C)):A)<1&&(A*=n.AI),ZC.AQ.BN(n.iX,n.iY,n.CP+.6*(n.AI-n.CP)+n.DX+A,i));return[C[0],C[1],{reference:n,center:!0}]},AC9:function(){var C=this,n=(C.B4+C.BL)/2%360,C=ZC.AQ.BN(C.iX,C.iY,C.CP+.5*(C.AI-C.CP)+C.DX,n);return[C[0],C[1]]},setup:function(){var C=this,n=C.C.BM(C.A.BW("k")[0]),i=C.L%n.H7,A=Math.floor(C.L/n.H7);C.iX=n.iX+i*n.GM+n.GM/2+n.BK,C.iY=n.iY+A*n.GH+n.GH/2+n.BJ,C.I3||(C.copy(C.A),C.E6=C.A.E6,C.DG()&&C.parse(!1),C.I3=!0)},ABE:function(C){var n={},i="out";return null!==ZC._n_(C=C.o[ZC._[7]])&&(i=C),n.color="out"===i?this.A0:this.C2,n},AC6:function(A){var C,n,t,i,e,o,l=this,Z="out",_=(null!==ZC._n_(r=A.o[ZC._[7]])&&(Z=r),A.I),a=A.F;r=(l.B4+l.BL)/2%360;if("out"===Z){var r=C=l.A.A.YB["n"+l.L][l.A.L],s=function(C,n){n<0&&(n=360+n),n%=360;var C=(t=ZC.AQ.BN(l.iX,l.iY,C+l.DX+A.DX+20,n))[0]+A.BK-_/2,i=t[1]+A.BJ-a/2;return 0<=n&&n<=90||270<=n&&n<=360?C+=_/2+10:C-=_/2+10,[C,i]},B=s(l.AI,C),u=B[0],h=B[1];l.U=A;for(var c={x:u,y:h,width:_,height:a},f=zingchart.DEV.SPREADTYPE,P=(v=!0,0),p=0,I=-1,L=0,X=0;v&&X<1024;)for(var v=!1,D=0,K=l.A.A.TS.length;D<K;D++)n=l.A.A.TS[D],(ZC.AQ.VD(c,n)||c.x+A.I>l.C.P.iX+l.C.P.I||c.x<l.C.P.iX||c.y+A.F>l.C.P.iY+l.C.P.F||c.y<l.C.P.iY)&&(v=!0,0===f?(P+=.4,I*=-1):1===f&&(p+=2),B=s(l.AI+p,C+P*I),c.x=B[0],c.y=B[1],X++,100<++L)&&((L=0)===f?(P=0,p+=2):1===f&&(p=0,P+=.4,I*=-1));u=c.x,h=c.y,r=C+P,n={text:l.A.AN,x:c.x,y:c.y,width:_,height:a,plotindex:l.A.L,nodeindex:l.L},l.A.A.TS.push(n)}else"in"===Z||"radial"===Z?(i=l.CP<30?.65:.5,u=(t=ZC._x_(l.B4,2)%360==ZC._x_(l.BL,2)%360?0===l.CP?[l.iX,l.iY]:ZC.AQ.BN(l.iX,l.iY,l.CP+.3*(l.AI-l.CP)+l.DX+A.DX,270):ZC.AQ.BN(l.iX,l.iY,l.CP+i*(l.AI-l.CP)+l.DX+A.DX,r))[0]-_/2+l.BK,h=t[1]-a/2+l.BJ):-1!==Z.indexOf("fixed=")?(i=Z.split(/=|;|,/),e=(l.AI+l.CP)/2,o=r,i[1]&&(e=-1<=(e=ZC.IO(i[1],!0))&&e<=1||-1!==i[1].indexOf("%")?l.CP+l.DX+e*(l.AI-l.CP):l.CP+l.DX+e),i[2]&&(o=-1<=(o=ZC.IO(i[2],!0))&&o<=1||-1!==i[2].indexOf("%")?l.B4+o*(l.BL-l.B4):l.B4+o),i[3]&&("+"===i[3].charAt(0)||"-"===i[3].charAt(0)?(A.AA=(o%=360)+ZC._f_(i[3]),90<A.AA&&A.AA<270&&(A.AA+=180)):A.AA=ZC._f_(i[3])),u=(t=ZC.AQ.BN(l.iX,l.iY,e,o))[0]-_/2,h=t[1]-a/2):"center"===Z&&(u=l.iX-_/2+l.BK,h=l.iY-a/2+l.BJ);return v&&(A.AP=!(h=u=-9999)),null!==ZC._n_(A.o.x)&&(u=A.iX),null!==ZC._n_(A.o.y)&&(h=A.iY),-2<=u&&(u=ZC._a_(u)),-2<=h&&(h=ZC._a_(h)),[ZC._i_(u),ZC._i_(h),r]},appendToValueBox:function(C){var n,i,A,t=this,e={};return"radial"===C.o[ZC._[7]]&&(n=.9*ZC._a_(t.AI-t.CP),i=Math.PI*(t.AI+t.CP)*.9*ZC._a_(t.BL-t.B4)/360,A=ZC._i_(Math.max(n,i)/(.75*C.DI)),null===ZC._n_(C.o.visible)?e.visible=1===t.A.A.A4.length||i>1.25*C.DI:e.visible=!C.J2||C.J2.visible,null===ZC._n_(C.o["max-chars"])&&(e["max-chars"]=A),null===ZC._n_(C.o.angle))&&(A=(t.B4+t.BL)/2%360,1<t.A.A.A4.length?n<i?0<A&&A<180?A-=90:A+=90:90<A&&A<270&&(A+=180):A=0,e.angle=A),e},H1:function(C,n){var i,A,t,e=this,n=e.b(C,n);if(C)return n;e.AP&&n.AP&&null!==ZC._n_(n.AN)&&""!==n.AN&&(C="out")===(C=null!==ZC._n_(i=n.o[ZC._[7]])?i:C)&&(C=!0,C=null!==ZC._n_(i=n.o.connected)?ZC._b_(i):C)&&((i=new ZC.DT(e.A)).Z=i.C8=e.A.CS("bl",0),i.append(e.A.C3.o),i.K=e.K+"-connector",i.B9=e.A0,i.DH="line",i.D=[],C=n.E.positioninfo,A=(e.B4+e.BL)/2%360,(t=ZC.AQ.BN(e.iX,e.iY,e.AI+e.DX,A))[0]+=e.BK,t[1]+=e.BJ,i.D.push(t),(t=ZC.AQ.BN(e.iX,e.iY,e.AI+e.DX+10,A))[0]+=e.BK,t[1]+=e.BJ,n.iX>=e.iX?"vml"===e.G.AB?i.D.push([C[0],C[1]+n.F/2]):i.D.push([t[0],t[1],C[0],C[1]+n.F/2]):"vml"===e.G.AB?i.D.push([C[0]+n.I+2,C[1]+n.F/2]):i.D.push([t[0],t[1],C[0]+n.I+2,C[1]+n.F/2]),i.parse(),i.IQ=function(C){return e.IQ(C)},i.DG()&&i.parse(),i.AP)&&i.paint()},paint:function(){var i=this;if(i.b(),!(i.AC<0)){var C=i.C.BM(i.A.BW("k")[0]),n=(i.setup(),"pie-sel-"+i.A.L+"-"+i.L),A=(typeof i.o.detached!==ZC._[31]&&(i.C.E[n]=ZC._b_(i.o.detached)),i.AI=ZC.CY(C.GH,C.GM)/2,null!==ZC._n_(i.A.o[ZC._[21]])?(e=ZC.IO(i.A.o[ZC._[21]],!1),i.AI=e<=1?i.AI*e:e):i.AI=C.JU*i.AI,i.CP<=1&&(i.CP*=i.AI),i.CP=Math.max(0,i.CP),i.o[ZC._[8]]=i.CP,i.DX<=1&&(i.DX*=i.AI),i.o["offset-r"]=i.DX,i.C.E[n]&&(i.DX+=ZC._i_(.15*i.AI)),i.O=i.A.IJ(i,i));if(i.H8(A),0<=i.AC||0===i.A.A.KP[i.L]){var t=new ZC.DT(i.A),e=(t.K=i.K,t.Z=i.A.CS("bl",1),t.C8=i.A.CS("bl",0),t.copy(A),i.iX),C=i.iY,o=(0<i.DX&&(e=(a=ZC.AQ.BN(i.iX,i.iY,i.DX,(i.B4+i.BL)/2))[0],C=a[1]),t.iX=e,t.iY=C,t.AI=i.AI,t.o[ZC._[21]]=i.AI,t.DH="pie",t.B4=ZC._f_(i.B4),t.BL=ZC._f_(i.BL),t.CP=i.CP,t.E.plotidx=i.A.L,t.E.nodeidx=i.L,t.parse(),i.G7=t,function(){var C,n;!i.A.KD&&i.AP&&(C=t.F1(),n=i.C.K+ZC._[34]+i.C.K+ZC._[35]+i.A.L+ZC._[6],n=ZC.Q.FP("poly",i.A.E9,i.A.IE)+'class="'+n+'" '+i.a11y()+' id="'+i.K+ZC._[30]+C+'" />',i.A.A.H3.push(n)),i.A.U&&i.H1()}),n=!1;if("sunburst"===i.C.o["plugin-type"]&&(n=!0),i.AP||!n)if(i.A.GG&&!i.C.HM){var l,Z=t,_={},n=(Z.iX=e,Z.iY=C,Z.B4=i.B4,Z.BL=i.BL,_.angleStart=i.B4,_.angleEnd=i.BL,_.x=e,_.y=C,i.A.LE);for(l in Z.C5=0,_.alpha=A.C5,2===n?(Z.BL=i.B4,_.angleEnd=i.BL):3===n?(Z.AI=i.CP,_.size=i.AI):4===n?(a=ZC.AQ.BN(i.iX,i.iY,1.2*i.AI,(i.B4+i.BL)/2),Z.iX=a[0],Z.iY=a[1],_.x=e,_.y=C):5===n&&(Z.B4=Z.BL=(i.B4+i.BL)/2,_.angleStart=i.B4,_.angleEnd=i.BL),i.A.FY)Z[ZC.E8.GO[ZC.EH(l)]]=i.A.FY[l],_[ZC.EH(l)]=A[ZC.E8.GO[ZC.EH(l)]];if(null===ZC._n_(i.C.EQ)&&(i.C.EQ={}),null!==ZC._n_(i.C.EQ[i.A.L+"-"+i.L]))for(l in i.C.EQ[i.A.L+"-"+i.L])Z[ZC.E8.GO[ZC.EH(l)]]=i.C.EQ[i.A.L+"-"+i.L][l];i.C.EQ[i.A.L+"-"+i.L]={},ZC._cp_(_,i.C.EQ[i.A.L+"-"+i.L]);var a=new ZC.E8(Z,_,i.A.JH,i.A.LC,ZC.E8.RN[i.A.LF],function(){o()});(a.AX=i).LU(a)}else t.paint(),o()}else i.A.U&&i.H1()}},A15:function(C){var n=this;ZC.move||n.MC({layer:C,type:"shape",initcb:function(){var C;this.copy(n),this.iX=n.iX,this.iY=n.iY,0<n.DX&&(C=ZC.AQ.BN(n.iX,n.iY,n.DX,(n.B4+n.BL)/2),this.iX=C[0],this.iY=C[1]),this.AI=n.AI,this.DH="pie",this.A0=n.A.BP[3],this.AE=n.A.BP[2],this.B4=ZC._f_(n.B4),this.BL=ZC._f_(n.BL),this.CP=n.CP},parsecb:function(){this.o[ZC._[21]]=n.AI,this.o[ZC._[8]]=n.CP,this.o["offset-r"]=n.DX}})},X6:function(C,n){var i=this;i.b(C,n),"click"===n&&C.which<=1&&i.A.A7U&&(zingchart.SKIP.ANIMATION=!0,zingchart.SKIP.EVENT=!0,n="pie-sel-"+i.A.L+"-"+i.L,i.C.E[n]=typeof i.C.E[n]===ZC._[31]||!i.C.E[n],i.C.KC(),zingchart.SKIP.EVENT=!1,zingchart.SKIP.ANIMATION=!1)}});