/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.16
*/
var WW={$i:function(e,i){this.b(e);var l=this;l.BE=e,l.IX=!1,l.Z=null,l.A78="",l.KV=1,l.H7=1,l.AF="scroll-"+(i||"y")},parse:function(){var e,i=this;i.K=i.BE.K+"-legend-"+i.AF;var l=i.BE.A.G.B6,n="("+i.BE.A.AF+")";i.B2=new ZC.HU(i.BE),l.load(i.B2.o,[n+".legend.scroll.bar",i.AF+".bar"]),null!==ZC._n_(e=i.o.bar)&&i.B2.append(e),i.B2.parse(),i.B3=new ZC.HU(i.BE),l.load(i.B3.o,[n+".legend.scroll.handle",i.AF+".handle"]),null!==ZC._n_(e=i.o.handle)&&i.B3.append(e),i.B3.parse()},paint:function(){var e,i=this;if(!i.IX){i.Z=ZC.AM(i.BE.A.K+"-legend-scroll-c");var l=ZC.AM(i.G.K+"-top");"scroll-y"===i.AF?(i.B2.iX=i.BE.iX+i.BE.I-i.B2.I-1,i.B2.iY=i.BE.EK,i.B2.F=i.BE.F-(i.BE.KN?i.BE.KN.F:0)-(i.BE.EK-i.BE.iY),e=Math.ceil(i.BE.B8.length/i.H7-i.BE.EJ/i.H7)+1,i.B3.F=i.B2.F/e,i.B3.iY=i.B2.iY,0!==i.BE.D6.min&&(i.B3.iY+=i.BE.D6.min/i.H7*i.B3.F),ZC.AM(i.K+"-legend-handle")?(ZC.A4("#"+i.K+"-legend-handle").css("left",i.B2.iX+"px").css("top",i.B3.iY+"px").css("height",i.B3.F-0*i.B3.AU+"px"),ZC.A4("#"+i.K+"-legend-bar").css("left",i.B2.iX+"px").css("top",i.B2.iY+"px"),ZC.A4("#"+i.BE.K+"-frame").css("left",i.BE.iX+"px").css("top",i.BE.EK+"px"),i.paint_()):(i.AAE=ZC.Q.HW({cls:"zc-abs zc-scroll zc-scroll-y-bar "+i.BE.K+"-scroll-y-legend-bar",id:i.K+"-legend-bar",wh:i.B2.I+"/"+i.B2.F,tl:i.B2.iY+"/"+i.B2.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.ZG=ZC.Q.HW({cls:"zc-abs zc-scroll zc-scroll-y-handle "+i.BE.K+"-scroll-y-legend-handle",id:i.K+"-legend-handle",wh:i.B2.I-0*i.B3.AU+"/"+(i.B3.F-0*i.B3.AU),tl:i.B3.iY+"/"+i.B2.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.ZG.style.cursor="pointer",i.paint_())):"scroll-x"===i.AF&&(i.B2.iX=i.BE.iX,i.B2.iY=i.BE.iY+i.BE.F-i.B2.F-1,i.B2.I=i.BE.I,e=Math.ceil(i.BE.B8.length/i.KV-i.BE.EJ/i.KV)+1,i.B3.I=i.B2.I/e,i.B3.iX=i.B2.iX,0!==i.BE.D6.min&&(i.B3.iX+=i.BE.D6.min/i.KV*i.B3.I),ZC.AM(i.K+"-legend-handle")?(ZC.A4("#"+i.K+"-legend-handle").css("left",i.B3.iX+"px").css("top",i.B2.iY+"px").css("width",i.B3.I-0*i.B3.AU+"px"),ZC.A4("#"+i.K+"-legend-bar").css("left",i.B2.iX+"px").css("top",i.B2.iY+"px"),ZC.A4("#"+i.BE.K+"-frame").css("left",i.BE.iX+"px").css("top",i.BE.EK+"px"),i.paint_()):(i.AAD=ZC.Q.HW({cls:"zc-abs zc-scroll zc-scroll-x-bar "+i.BE.K+"-scroll-x-legend-bar",id:i.K+"-legend-bar",wh:i.B2.I+"/"+i.B2.F,tl:i.B2.iY+"/"+i.B2.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.ZF=ZC.Q.HW({cls:"zc-abs zc-scroll zc-scroll-x-handle "+i.BE.K+"-scroll-x-legend-handle",id:i.K+"-legend-handle",wh:i.B3.I-0*i.B3.AU+"/"+(i.B2.F-0*i.B3.AU),tl:i.B2.iY+"/"+i.B3.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.ZF.style.cursor="pointer",i.paint_())),ZC.move||i.bind()}},paint_:function(){var e,i,l=this;"scroll-y"===l.AF?((e=new ZC.HU(l)).K=l.BE.K+"-scroll-y-legend-bar",e.copy(l.B2),e.Z=l.Z,e.iX=l.B2.iX,e.iY=l.B2.iY,e.I=l.B2.I,e.F=l.B2.F,e.paint(),(i=new ZC.HU(l)).K=l.BE.K+"-scroll-y-legend-handle",i.copy(l.B3),i.Z=l.Z,i.iX=l.B2.iX,i.iY=l.B3.iY,i.I=l.B3.I,i.F=l.B3.F,i.paint()):"scroll-x"===l.AF&&((e=new ZC.HU(l)).K=l.BE.K+"-scroll-x-legend-bar",e.copy(l.B2),e.Z=l.Z,e.iX=l.B2.iX,e.iY=l.B2.iY,e.I=l.B2.I,e.F=l.B2.F,e.paint(),(i=new ZC.HU(l)).K=l.BE.K+"-scroll-x-legend-handle",i.copy(l.B3),i.Z=l.Z,i.iX=l.B3.iX,i.iY=l.B2.iY,i.I=l.B3.I,i.F=l.B2.F,i.paint())},update:function(e){var i,l,n,o,a,t,r=this,d=r.BE;if("scroll-y"===r.AF){if(e<r.B3.iY&&!1,e===r.B3.iY)return;r.B3.iY=e,ZC.A4("#"+r.K+"-legend-handle").css("top",e+"px"),i=r.B3.iY-r.B2.iY,o=Math.ceil(d.B8.length/r.H7-d.EJ/r.H7)+1,l=r.B2.F/o,t=r.H7}else if("scroll-x"===r.AF){if(e>r.B3.iX&&!1,e===r.B3.iX)return;r.B3.iX=e,ZC.A4("#"+r.K+"-legend-handle").css("left",e+"px"),i=r.B3.iX-r.B2.iX,o=Math.ceil(d.B8.length/r.KV-d.EJ/r.KV)+1,l=r.B2.I/o,t=r.KV}n=Math.round(i/l),a=d.B8.length-d.EJ,d.B8.length%t&&(a+=t-d.B8.length%t),d.D6.min=Math.min(n*t,a),d.D6.max=d.D6.min+d.EJ,d.WE(),d.clear(!1),d.parse(),d.paint(),r.paint_()},unbind:function(){var e=this;ZC.A4("."+e.BE.K+"-"+e.AF+"-legend-handle").unbind("mousedown touchstart",e.RK),ZC.A4("."+e.BE.K+"-"+e.AF+"-legend-bar").unbind("click",e.RM)},bind:function(){var e=this,i=e.G.K,l=0,n=0;e.RK=function(o){if(o.preventDefault(),!(o.button>1)){for(var a=o.target;a&&"BODY"!==a.tagName.toUpperCase();){if(-1!==ZC.Q.TD(a).indexOf("zc-"+e.AF+"-handle"))break;a=a.parentNode}if((ZC.mobile||!(o.which>1))&&a){var t=ZC.Q.MJ(o),r=ZC.A4("#"+i+"-top").offset();if("scroll-y"===e.AF){var d=t[1]-r.top;n=d-e.B3.iY}else if("scroll-x"===e.AF){var A=t[0]-r.left;l=A-e.B3.iX}return ZC.A4(document.body).bind("mousemove touchmove",e.RL),ZC.A4(document.body).bind("mouseup touchend",e.MB),e.IX=!0,!1}}},e.RL=function(o){if(e.IX){var a=ZC.Q.MJ(o),t=ZC.A4("#"+i+"-top").offset();if("scroll-y"===e.AF){var r=a[1]-t.top;r-n<e.B2.iY&&(r=e.B2.iY+n),r-n+e.B3.F>e.B2.iY+e.B2.F&&(r=e.B2.iY+e.B2.F+n-e.B3.F),e.update(r-n)}else if("scroll-x"===e.AF){var d=a[0]-t.left;d-l<e.B2.iX&&(d=e.B2.iX+l),d-l+e.B3.I>e.B2.iX+e.B2.I&&(d=e.B2.iX+e.B2.I+l-e.B3.I),e.update(d-l)}}return!1},e.MB=function(){return e.G.KQ=e.A78.split(","),e.IX&&(ZC.A4(document.body).unbind("mousemove touchmove",e.RL),ZC.A4(document.body).unbind("mouseup touchend",e.MB),e.IX=!1,e.bind()),!1},e.A3T=function(i){(i.detail?-120*i.detail:i.wheelDelta)/120>0?e.update(ZC.BR(e.B2.iY,e.B3.iY-e.B3.F)):e.update(ZC.CY(e.B2.iY+e.B2.F-e.B3.F,e.B3.iY+e.B3.F))},e.RM=function(l){var n=ZC.Q.MJ(l),o=ZC.A4("#"+i+"-top").offset();"scroll-y"===e.AF?n[1]-o.top>e.B3.iY?e.update(ZC.CY(e.B2.iY+e.B2.F-e.B3.F,e.B3.iY+e.B3.F)):e.update(ZC.BR(e.B2.iY,e.B3.iY-e.B3.F)):"scroll-x"===e.AF&&(n[0]-o.left>e.B3.iX?e.update(ZC.CY(e.B2.iX+e.B2.I-e.B3.I,e.B3.iX+e.B3.I)):e.update(ZC.BR(e.B2.iX,e.B3.iX-e.B3.I)))},ZC.A4("."+e.BE.K+"-"+e.AF+"-legend-handle").bind("mousedown touchstart",e.RK),ZC.A4("."+e.BE.K+"-"+e.AF+"-legend-bar").bind("click",e.RM)}};ZC.WW=ZC.CZ.CD(WW);var V5={$i:function(e){this.b(e);var i=this;i.NY="legend",i.B8=null,i.Q8=null,i.N5="x1",i.I5="hide",i.R6="",i.PX="",i.UV=!1,i.V2=!1,i.TR="none",i.UK="header",i.EJ=9999,i.D3=null,i.BQ=null,i.ZD=null,i.A2=null,i.NO=null,i.FS=null,i.KN=null,i.QI=0,i.MI=0,i.YL=!0,i.EK=0,i.GQ=0,i.sAlign="",i.K2="",i.D6={enabled:!1,min:-1,max:-1,page:-1,pages:-1},i.M5=!1,i.ND=!1,i.NE=-1,i.PW=!1,i.A4W=1,i.WV=0,i.LH=!1,i.XO=!1,i.YS=!1,i.XQ=[]},highlightItem:function(e){var i,l=this,n=!1,o=ZC.move,a=l.LH;-1!==e&&(a=l.LH||l.A.AY.A3[e].LH),l.o.item&&null!==ZC._n_(i=l.o.item["highlight-item"])&&(n=ZC._b_(i),null===ZC._n_(l.o["highlight-legend"])&&null===l.A.AY.A3[e].o["highlight-legend"]&&(a=n)),(n||a)&&(n&&(l.E["highlight-item"]=e),a&&(l.E["highlight-legend"]=ZC._i_(e)),l.scrollTo(ZC._i_(e)),l.WE(),l.clear(!0,!1),l.YL=!0,l.parse(),l.fixPlacement(!0),l.paint(),ZC.move=o)},scrollTo:function(e){var i,l,n=this,o=!1;if(n.D3)return e>=0&&(e<n.D6.min||e>=n.D6.max)&&(o=!0,"scroll"===n.TR?(e%(l="scroll-y"===n.D3.AF?n.D3.H7:n.D3.KV)&&(e-=e%l),n.D6.min=e,n.D6.max=e+n.EJ,n.D6.max>n.B8.length&&(n.D6.min=n.B8.length-n.EJ,n.B8.length%l&&(n.D6.min=n.D6.min+(l-n.B8.length%l)),n.D6.max=n.B8.length)):"page"===n.TR&&(i=Math.floor(e/n.EJ),n.D6.min=i*n.EJ,n.D6.max=n.D6.min+n.EJ,n.D6.page=i+1)),o},parse:function(){var e,i,l,n,o=this;if(o.E["force-margins"]=!0,o.QI=0,o.MI=0,null!==ZC._n_(e=o.A.A.E["graph-"+o.A.K+"-legend-info"])&&(null!==ZC._n_(e.x)&&(o.o.x=e.x-o.A.iX),null!==ZC._n_(e.y)&&(o.o.y=e.y-o.A.iY)),ZC.move)o.FS&&o.FS.parse(),o.KN&&o.KN.parse();else{n=o.A.G.B6;var a="("+o.A.AF+")";o.b(),o.assign_a([["collapse","M5","b"],["minimize","UV","b"],["draggable","V2","b"],["shared","PW","b"],["overflow","TR"],["max-items","EJ","i"],["group","A4W","i"],["drag-handler","UK"],["highlight-plot","WV","b"],["highlight-legend","LH","b"],["align","sAlign"],["vertical-align","K2"]]),o.M5&&!o.UV&&(o.M5=!1),zingchart.DEV.MEDIARULES&&(o.E["forced-align-position"]||(o.alignPosition({align:o.sAlign,"vertical-align":o.K2,layout:o.N5}),o.E["forced-align-position"]=!0)),o.WV&&null===ZC._n_(o.o["highlight-legend"])&&(o.LH=o.WV),o.BQ=new ZC.DN(o),n.load(o.BQ.o,a+".legend.item",!1,!0),o.o.item&&null===ZC._n_(o.o.item.visible)&&(o.o.item.visible=!0),o.BQ.append(o.o.item),o.BQ.parse(),o.ZD=new ZC.DN(o),n.load(o.ZD.o,a+".legend.item-off",!1,!0),o.o["item-off"]&&null===ZC._n_(o.o["item-off"].visible)&&(o.o["item-off"].visible=!0),o.ZD.append(o.o["item-off"]),o.ZD.parse(),o.A2=new ZC.DT(o),n.load(o.A2.o,a+".legend.marker",!1,!0),o.o.marker&&null===ZC._n_(o.o.marker.visible)&&(o.o.marker.visible=!0),o.A2.append(o.o.marker),o.A2.E.type="default",o.A2.E["show-marker"]=!0,o.A2.E["show-line"]=!1,null!==ZC._n_(e=o.A2.o.type)&&(o.A2.E.type=e),null!==ZC._n_(e=o.A2.o["show-line"])&&(o.A2.E["show-line"]=ZC._b_(e)),null!==ZC._n_(e=o.BQ.o["marker-style"])&&(o.A2.E.type=e),null!==ZC._n_(e=o.BQ.o["show-line"])&&(o.A2.E["show-line"]=ZC._b_(e)),null!==ZC._n_(e=o.BQ.o["show-marker"])&&(o.A2.o.visible=ZC._b_(e)),o.A2.parse(),o.NO=new ZC.DT(o),n.load(o.NO.o,a+".legend.marker-off",!1,!0),o.o["marker-off"]&&(o.o["marker-off"].visible=!0),o.NO.append(o.o["marker-off"]),o.NO.E.type="default",o.NO.E["show-marker"]=!0,o.NO.E["show-line"]=!1,null!==ZC._n_(e=o.NO.o.type)&&(o.NO.E.type=e),null!==ZC._n_(e=o.NO.o["show-line"])&&(o.NO.E["show-line"]=ZC._b_(e)),null!==ZC._n_(e=o.BQ.o["marker-style"])&&(o.NO.E.type=e),null!==ZC._n_(e=o.BQ.o["show-line"])&&(o.NO.E["show-line"]=ZC._b_(e)),null!==ZC._n_(e=o.BQ.o["show-marker"])&&(o.NO.o.visible=ZC._b_(e)),o.NO.parse(),(null!==ZC._n_(e=o.o.header)||o.V2||o.UV)&&(o.FS=new ZC.DN(o),o.FS.NY="legendheader",o.FS.GN="zc-legend-item "+o.K+"-header",o.FS.K=o.K+"-header",n.load(o.FS.o,a+".legend.header"),o.FS.o.text=o.FS.o.text||"\xa0",o.FS.append(e),o.FS.parse(),o.FS.AP||(o.FS=null)),null!==ZC._n_(e=o.o.footer)&&(o.KN=new ZC.DN(o),o.KN.NY="legendfooter",o.KN.GN="zc-legend-item "+o.K+"-footer",o.KN.K=o.K+"-footer",n.load(o.KN.o,a+".legend.footer"),o.KN.append(e),o.KN.parse(),o.KN.AP||(o.KN=null));var t=o.A.AY.A3;null!==ZC._n_(e=o.o.layout)?o.N5=e:25*t.length>o.A.F&&(o.N5="x"+Math.ceil(25*t.length/o.A.F)),null!==ZC._n_(e=o.o["toggle-action"])&&(o.I5=e),o.R6=o.PX=o.I5,null!==ZC._n_(o.o.item)&&null!==ZC._n_(e=o.o.item["toggle-action"])&&(o.R6=e),null!==ZC._n_(o.o.marker)&&null!==ZC._n_(e=o.o.marker["toggle-action"])&&(o.PX=e);var r=function(e){if(t[i]&&t[i].FQ(0)){var l=ZC.AO.OA(o.BQ.o,t[i].o);e=t[i].FQ(0).KA(e,l)}return e},d=[];o.B8=[];var A=0;for(i=0,l=t.length;i<l;i++){var s=o.A.AY.MA[i];if(t[s].o["skip-paint"]||null!==ZC._n_(t[s].o["show-in-legend"])&&!ZC._b_(t[s].o["show-in-legend"]))t[s].bShowInLegend=!1;else if(!t[s].o["legend-item"]||null===ZC._n_(t[s].o["legend-item"].visible)||ZC._b_(t[s].o["legend-item"].visible)){var g=new ZC.DN(o);g.copy(o.BQ),g.append(t[s].o["legend-item"]),null===ZC._n_(g.o.text)&&null!==ZC._n_(e=t[s].A62)&&(g.o.text=e),null===ZC._n_(g.o.text)&&null!==ZC._n_(e=t[s].AK)&&(g.o.text=e),g.AK=null===ZC._n_(g.o.text)?"Series "+(s+1):g.o.text,g.E.order=s,g.E.index=s,null!==ZC._n_(t[s].o["legend-item"])&&null!==ZC._n_(e=t[s].o["legend-item"].order)&&(g.E.order=ZC._i_(e)),d.push([A,s,g.E.order]),A++,-1!==g.AK.indexOf("%")&&(g.KA=r),g.parse(),o.B8.push(g)}else t[s].bShowInLegend=!1}for(d.sort(function(e,i){return e[2]-i[2]}),i=0;i<d.length;i++)d[i][2]=i,t[d[i][1]].o["legend-item"]=t[d[i][1]].o["legend-item"]||{},t[d[i][1]].o["legend-item"].order=d[i][2],o.B8[d[i][0]].E.order=d[i][2];(e=o.A.E["legend-info"])&&(o.ND=e.collapsed)}if(o.B8&&o.A2){"page"===o.TR?((e=o.A.E["legend-info"])?(o.D6.min=e.min,o.D6.max=e.max,o.D6.page=e.page):(o.D6.min=0,o.D6.max=o.EJ,o.D6.page=1),o.D6.pages=Math.ceil(o.B8.length/o.EJ),o.D6.page>o.D6.pages&&(o.D6.page=o.D6.pages,o.D6.min=(o.D6.page-1)*o.EJ,o.D6.max=o.D6.page*o.EJ-1),o.D6.page=ZC.CY(o.D6.page,o.D6.pages)):"scroll"===o.TR?(e=o.A.E["legend-info"])?(o.D6.min=e.min,o.D6.max=e.max,o.D6.page=e.page):(o.D6.min=0,o.D6.max=o.EJ,o.D6.page=1):(o.D6.min=0,o.D6.max="hidden"===o.TR?o.EJ:o.B8.length,o.D6.page=1),o.WE(!1),o.B8.sort(function(e,i){return e.E.order-i.E.order}),o.o["reverse-series"]&&o.B8.reverse();var C=.9*o.A.I;null!==ZC._n_(o.o.width)&&(C=o.I);var Z=0,c=0,p=-ZC.MAX,u=-ZC.MAX,B=o.A2.E["show-line"]?3:2,m=0,h=1,E=1;if("float"===o.N5){for(i=0,l=o.B8.length;i<l;i++)if(m+=o.B8[i].AP?1:0,!(i<o.D6.min||i>=o.D6.max||o.ND)&&o.B8[i].AP){var f=o.B8[i].I+o.B8[i].E0+o.B8[i].EA+B*o.B8[i].DI;u=ZC.BR(u,o.B8[i].F+o.B8[i].EB+o.B8[i].DW),Z+f>C?(p=ZC.BR(p,Z),c+=u,Z=f,u=ZC.BR(u,o.B8[i].F+o.B8[i].EB+o.B8[i].DW)):Z+=f}p=ZC.BR(p,Z),u!==-ZC.MAX&&(c+=u),p!==-ZC.MAX&&(Z=p)}else{var _=0;for(i=0,l=o.B8.length;i<l;i++)m+=o.B8[i].AP?1:0,i<o.D6.min||i>=o.D6.max||o.ND||(_+=o.B8[i].AP?1:0);var v=ZC.AQ.A2F(o.N5,_);for(h=v[0],E=v[1],i=0,l=o.B8.length;i<l;i++)(i<o.D6.min||i>=o.D6.max||o.ND)&&("scroll"!==o.TR||m<=o.EJ)||o.B8[i].AP&&(p=ZC.BR(p,o.B8[i].I+o.B8[i].E0+o.B8[i].EA+B*o.B8[i].DI),u=ZC.BR(u,o.B8[i].F+o.B8[i].EB+o.B8[i].DW),1===E&&(c+=o.B8[i].F+o.B8[i].EB+o.B8[i].DW));Z=E*p,c=h*u}if("page"===o.TR&&m>o.EJ&&(o.D6.enabled=!0),"scroll"===o.TR&&m>o.EJ&&(o.D3||(!h||h>E?(o.D3=new ZC.WW(o,"y"),n.load(o.D3.o,".scroll-y")):(o.D3=new ZC.WW(o,"x"),n.load(o.D3.o,".scroll-x")),o.D3.append(o.o.scroll),o.D3.KV=h,o.D3.H7=E,o.D3.parse()),o.ND||("scroll-y"===o.D3.AF?Z+=o.D3.B2.I:c+=o.D3.B2.F)),o.FS){var F=o.FS.I;o.V2&&"icon"===o.UK?(F+=15,o.UV&&(F+=25)):o.UV&&(F+=15),Z=ZC.BR(Z,F)}o.KN&&(Z=ZC.BR(Z,o.KN.I));var K=!1,D=!1;if(null===ZC._n_(o.o.width)&&(o.o.width=Z,K=!0),null===ZC._n_(o.o.height)&&(o.o.height=c,D=!0),o.iX=-1,o.iY=-1,!ZC.move&&o.FS&&null!==ZC._n_(e=o.A.A.E["legend"+o.A.L+"-xy-ratio"])){o.locate();var b=o.I+o.EN+o.FM,I=o.F+o.FH+o.FR,Y=o.PW?o.A.A:o.A;o.iX=Y.I*e[0],o.iX=ZC.BR(o.iX,1.1),o.o.x=o.iX=ZC.CY(o.iX,Y.I-b-2),o.iY=(Y.F-o.FS.F)*e[1],o.iY=ZC.BR(o.iY,1.1),o.o.y=o.iY=ZC.CY(o.iY,Y.F-I-o.FS.F-2)}if(o.locate(),null!==ZC._n_(o.o.position)&&"undefined"!=typeof o.E["position-info"]?(o.E["position-info"][0]>.5&&(o.QI+=o.EN+o.FM),o.E["position-info"][1]>.5?o.MI+=o.FH+o.FR:(o.FS&&(o.MI-=o.FS.F),o.KN&&(o.MI-=o.KN.F),o.D6&&o.D6.enabled&&(o.MI-=20))):((0===o.A.iX||o.iX+o.I/2>o.A.iX+o.A.I/2)&&(o.QI+=o.EN+o.FM),(0===o.A.iY||o.iY+o.F/2>o.A.iY+o.A.F/2)&&(o.MI+=o.FH+o.FR)),!ZC.move&&(e=o.A.A.E["graph-"+o.A.K+"-legend-info"])&&(e.x&&(o.iX=e.x),e.y&&(o.iY=e.y)),o.GQ=o.F,o.EK=o.iY,o.FS&&(o.F+=o.FS.F,o.EK+=o.FS.F,o.MI+=o.FS.F),o.KN&&(o.F+=o.KN.F,o.MI+=o.KN.F),o.D6.enabled&&!o.ND){var X=new ZC.DN(o);X.AK=" ",X.append(o.o["page-status"]),null!==ZC._n_(X.o.text)&&""!==X.o.text||(X.o.text="#"),X.parse(),o.F+=X.F+4,o.MI+=X.F+4}K&&(o.o.width=null),D&&(o.o.height=null),o.ND||(o.I+=o.EN+o.FM,o.F+=o.FH+o.FR),o.E["default-width"]&&(o.I=o.E["default-width"])}},alignPosition:function(e){var i=this;if(null!==ZC._n_(e)){var l=i.A.G.B6.B6.graph.legend,n=e.align||l.align,o=e["vertical-align"]||l["vertical-align"],a=e.layout||l.layout;(n||o)&&("center"===n?(null===ZC._n_(i.o.layout)&&(a=i.o.layout="horizontal"),i.o.position="50% "):i.o.position="left"===n?"0% ":"100% ",i.o.position+="middle"===o?"50%":"bottom"===o?"100%":"0%","horizontal"!==a&&"middle"!==o||(i.o["adjust-layout"]=!0))}},WE:function(e){var i=this;void 0===e&&(e=!0),i.A.E["legend-info"]={collapsed:i.ND,min:i.D6.min,max:i.D6.max,page:i.D6.page},e&&(i.A.A.E["graph-"+i.A.K+"-legend-info"]={x:i.iX,y:i.iY})},clear:function(e,i){null===ZC._n_(e)&&(e=!1),null===ZC._n_(i)&&(i=!1);var l=this,n=l.A.K+"-legend-",o=null;ZC.A4("."+n+"item",o).remove(),ZC.A4("."+n+"header",o).remove(),ZC.A4("."+n+"footer",o).remove(),ZC.A4("#"+n+"page-status",o).remove(),e&&!i||(ZC.move||l.unbind(),ZC.A4("."+n+"page-area",o).remove(),ZC.A4("."+n+"header-area",o).remove(),ZC.A4("."+n+"item-area",o).remove(),ZC.A4("."+n+"marker-area",o).remove()),ZC.move?ZC.Q.IW(ZC.AM(n+"c"),l.A.G.AC,l.A.iX,l.A.iY,l.A.I,l.A.F):ZC.Q.IW(ZC.AM(n+"c"),l.A.G.AC,l.iX-2*l.AU-2*l.JZ,l.iY-2*l.AU-2*l.JZ,l.I+4*l.AU+4*l.JZ,l.F+4*l.AU+4*l.JZ),l.D3&&ZC.Q.IW(ZC.AM(n+"scroll-c"),l.A.G.AC,l.A.iX,l.A.iY,l.A.I,l.A.F)},unbind:function(){var e=this;ZC.A4("#"+e.K+"-frame").die(ZC.Q.C1("mouseover"),e.zc_legend_mouseover).die(ZC.Q.C1("mouseout"),e.zc_legend_mouseout),ZC.A4("#"+e.K+"-move-area").die(ZC.Q.C1("mousedown"),e.Z6),ZC.A4("#"+e.K+"-minimize-area").die(ZC.Q.C1("click"),e.Y2),ZC.A4("."+e.K+"-page-area").die(ZC.Q.C1("click"),e.YZ),e.D3&&e.D3.unbind(),e.BQ&&e.BQ.o.reorder&&ZC.A4("."+e.A.K+"-legend-item-area").die("mousedown",e.W7)},fixPlacement:function(e){var i=this;if(i.YL&&null===ZC._n_(i.o.y)||e){if(!i.o.position&&e||(i.iX-=i.QI),i.iX<i.E0&&(i.E0<i.EA||-2===i.EA)&&(i.iX=i.E0),!i.o.position&&e||(i.iY-=i.MI,i.EK-=i.MI),i.iY<i.EB&&(i.EB<i.DW||-2===i.DW)){var l=i.EK-i.iY;i.iY=i.EB,i.EK=i.EB+l}i.YL=!1}},EP:function(e){var i=this;i.FS&&i.FS.EP(e),i.KN&&i.KN.EP(e);for(var l=0;l<i.XQ.length;l++)i.XQ[l].EP(e)},paint:function(e){var i,l,n,o,a,t,r,d,A,s,g,C,Z,c,p,u,B=this;if(B.AP&&(B.E["default-width"]||(B.E["default-width"]=B.I),B.B8)){var m=ZC.AM(B.G.K+"-top"),h=B.A.AY.A3,E=0;for(t=0,r=B.B8.length;t<r;t++)t<B.D6.min||t>=B.D6.max||B.ND||(E+=B.B8[t].AP?1:0);B.A4U=!0,B.b(),B.FS&&(B.FS.iX=B.iX,B.FS.iY=B.iY,B.FS.I=B.I,B.FS.Z=B.FS.C8=B.Z,B.FS.paint(),ZC.move||"canvas"!==B.A.A.AC&&B.FS.EP(),B.V2&&"icon"===B.UK&&((n=new ZC.DT(B)).Z=B.Z,n.B9="#000",n.B1=1,n.DJ="line",B.A.G.B6.load(n.o,"("+B.A.AF+").legend.icon"),n.append(B.o.icon),o=B.FS.iX+B.FS.I-10,a=B.FS.iY+B.FS.F/2,n.D=[[o-7,a],[o+7,a],null,[o,a-7],[o,a+7],null,[o-6,a-1],[o-6,a+1],null,[o-5,a-2],[o-5,a+2],null,[o+6,a-1],[o+6,a+1],null,[o+5,a-2],[o+5,a+2],null,[o-1,a-6],[o+1,a-6],null,[o-2,a-5],[o+2,a-5],null,[o-1,a+6],[o+1,a+6],null,[o-2,a+5],[o+2,a+5]],n.parse(),n.paint()),B.UV&&((l=new ZC.DT(B)).Z=B.Z,l.B9=ZC.AO.AAB(B.A0,"#fff","#000"),l.B1=1,B.A.G.B6.load(l.o,"("+B.A.AF+").legend.icon"),l.append(B.o.icon),l.DJ="line",o=B.FS.iX+B.FS.I-10-(B.V2&&"icon"===B.UK?20:0),a=B.FS.iY+B.FS.F/2,l.D=[[o-7,a-2],[o+2,a-2],[o+2,a+7],[o-7,a+7],[o-7,a-2],[o+2,a-2],null,[o-4,a-5],[o+5,a-5],[o+5,a+4],[o-4,a+4],[o-4,a-5],[o+5,a-5]],l.parse(),l.paint())),B.KN&&(B.KN.iX=B.iX,B.KN.iY=B.iY+B.F-B.KN.F,B.KN.I=B.I,B.KN.Z=B.KN.C8=B.Z,B.KN.paint(),ZC.move||"canvas"!==B.A.A.AC&&B.KN.EP());var f=ZC.AQ.A2F(B.N5,E),_=f[0],v=f[1],F=B.I/v,K=B.GQ/_,D=0,b=0;B.Q8=[];var I,Y=0,X=-ZC.MAX,y=B.A2.E["show-line"]?3:2,x=null,N=function(i){var l=i;if(null===ZC._n_(e)&&(e=0),h[I]&&h[I].R[e]){var n=ZC.AO.OA(B.BQ.o,h[I].o);i=h[I].FQ(e).KA(i,n)}return B.XO=B.XO||i!==l,i},Q=0;for(B.XO=!1,t=0,r=B.B8.length;t<r;t++)if(!(t-Q<B.D6.min||t-Q>=B.D6.max||B.ND)){var w=new ZC.DN(B);w.copy(B.B8[t]),B.E["highlight-legend"]===t&&(w.append({bold:!0}),null!==ZC._n_(w.o["highlight-state"])&&w.append(w.o["highlight-state"])),I=w.E.index;var M=new ZC.DN(B);M.NY="legenditem",M.K=B.K+"-item_"+I,M.GN="zc-legend-item "+B.K+"-item",M.copy(w),B.A.E["plot"+I+".visible"]&&"off"!==h[I].o["legend-status"]||M.append(B.ZD.o),M.append(h[I].o["legend-item"]),M.KA=N,M.parse(),M.AP?("float"===B.N5?(X=ZC.BR(X,w.F),null===ZC._n_(x)?(w.iX=B.iX+B.EN+w.E0+y*w.DI,w.iY=B.EK+B.FH+w.EB,Y=B.EK):(w.iX=x.iX+x.I+x.EA+w.E0+y*w.DI,ZC._i_(w.iX+w.I+w.EA)>ZC._i_(B.iX+B.I)&&(w.iX=B.iX+B.EN+w.E0+y*w.DI,Y+=X+w.EB+w.DW,X=-ZC.MAX),w.iY=Y+B.FH+w.EB)):(w.iX=B.iX+(0===b?B.EN:0)+b*F+w.E0+y*w.DI,w.iY=B.EK+B.FH+D*K+w.EB,++b===v&&(b=0,D++)),x=w,M.iX=w.iX=ZC._i_(w.iX),M.iY=w.iY=ZC._i_(w.iY),M.Z=M.C8=B.Z,M.iX+=B.BK,M.iY+=B.BJ,I===B.NE&&(B.E["calculate-y"]&&(B.E["calculate-y"]=!1,B.E["dragged-offset-y"]=B.E["dragged-y"]-M.iY),M.iY=B.E["dragged-y"]-B.E["dragged-offset-y"]-M.DI/4),M.paint(),"undefined"!=typeof B.E.showhide&&null!==ZC._n_(B.E.showhide)||ZC.move||("canvas"!==B.A.A.AC?M.EP():B.XQ.push(M))):Q++;var S=B.A2.E.type;null!==ZC._n_(i=h[I].o["legend-marker"])&&null!==ZC._n_(i.type)&&(S=i.type);var z,P=!1;switch("match"!==S&&"inherit"!==S||(P=!0,null!==ZC._n_(i=h[I].A2.o.type)?(S=i,B.A2.o.type=null):S="default"),-1!==ZC.AV(["default","square"],S)?z=new ZC.HU(B):(z=new ZC.DT(B)).DJ=S,z.NY="legendmarker",z.append(B.A2.o),B.A.E["plot"+I+".visible"]&&"off"!==h[I].o["legend-status"]||z.append(B.NO.o),z.NC=h[I].NC,h[I].AF){case"pie":case"pie3d":case"nestedpie":case"vbar":case"vbar3d":case"hbar":case"hbar3d":case"vbullet":case"hbullet":case"area":case"area3d":case"gauge":case"vfunnel":case"hfunnel":case"venn":z.A0=h[I].A0,z.AE=h[I].AE,z.GT=h[I].GT,z.HQ=h[I].HQ;break;case"scatter":case"hscatter":case"bubble":case"hbubble":z.A0="-1"!==h[I].A2.A0?h[I].A2.A0:h[I].A0,z.AE="-1"!==h[I].A2.AE?h[I].A2.AE:h[I].AE,z.GT=""!==h[I].A2.GT?h[I].A2.GT:h[I].GT,z.HQ=""!==h[I].A2.HQ?h[I].A2.HQ:h[I].HQ;break;default:z.A0=h[I].B9,z.AE=h[I].B9}if("line"!==z.DJ&&"area"!==z.DJ||(z.B9=z.A0,z.B1=2),P){var G=-1,W=!0;null!==ZC._n_(z.o.size)&&(G=z.o.size),null!==ZC._n_(z.o.visible)&&(W=z.o.visible),z.append(h[I].A2.o),-1!==G&&(z.o.size=G),z.o.visible=W}z.o["line-style"]="solid",z.o.type=z.DJ,z.append(h[I].o["legend-marker"]),P&&(z.o.type=z.DJ),z.E["show-marker"]=!0,z.E["show-line"]=!1,null!==ZC._n_(i=z.o["show-line"])&&(z.E["show-line"]=ZC._b_(i)),null!==ZC._n_(i=M.o["show-line"])&&(z.E["show-line"]=ZC._b_(i)),null!==ZC._n_(i=M.o["show-marker"])&&(z.o.visible=ZC._b_(i)),-1!==ZC.AV(["default","square"],S)&&null!==ZC._n_(i=z.o.size)&&(null===ZC._n_(z.o.width)&&(z.o.width=2*ZC._i_(i)),null===ZC._n_(z.o.height)&&(z.o.height=2*ZC._i_(i))),z.K=B.K+"-marker_"+I,z.Z=z.C8=B.Z,z.iX=M.iX-y*M.DI+(y-1)*M.DI/2+M.DI/2,z.iY=M.iY+(M.F-M.DI)/2+M.DI/2,z.parse(),B.E["highlight-legend"]===t&&(z.append({size:z.AI+1,width:z.I+2,height:z.F+2}),h[I]&&h[I].R[e]&&h[I].R[e].GL&&z.append({A0:h[I].R[e].GL.A0,AE:h[I].R[e].GL.AE}),null!==ZC._n_(B.o.marker)&&z.append(B.o.marker["highlight-state"]),z.parse()),"line"===z.DJ?(z.o.points=[[z.iX-1.75*z.AI,z.iY],[z.iX+1.75*z.AI,z.iY]],z.parse()):"area"===z.DJ&&(z.o.points=[[z.iX-1.75*z.AI,z.iY+z.AI],[z.iX+1.75*z.AI,z.iY+z.AI],[z.iX+1*z.AI,z.iY-z.AI/2],[z.iX,z.iY],[z.iX-1.25*z.AI,z.iY-z.AI],[z.iX-1.75*z.AI,z.iY+z.AI]],z.parse());var k=z.iX+z.BK,J=z.iY+z.BJ;-1!==ZC.AV(["default","square"],S)&&(z.iX-=z.I/2,z.iY-=z.F/2);var R="On";if(B.A.E["plot"+I+".visible"]&&"off"!==h[I].o["legend-status"]||(z.C6/=4,R="Off"),M.AP&&z.E["show-line"]){var H=ZC.Q.EE(B.Z,B.A.G.AC),O=new ZC.CZ(B);O.Z=B.Z,O.copy(h[I]),O.o["line-style"]=B.A2.GE,O.append(h[I].o),O.append(B.A2.o),O.append(h[I].o["legend-item"]),O.append(h[I].o["legend-marker"]),O.o["top-state"]=null,O.o["bottom-state"]=null,O.parse(),B.A.E["plot"+I+".visible"]||(O.C6=.25);var V=[],U=z.AP?2:1;d="box"===z.DJ?z.I/2:z.AI,V.push([k-U*d-(O.B1>1?1:0),J-(O.B1>1?.5:0)]),V.push([k+U*d,J-(O.B1>1?.5:0)]),O.D0=!0,ZC.CO.paint(H,O,V)}I===B.NE&&(z.iY=B.E["dragged-y"]-B.E["dragged-offset-y"]/2),z.AP&&M.AP&&z.paint(),B.Q8.push(z);var L=!0;if(null!==ZC._n_(i=B.BQ.o.toggle)&&(L=ZC._b_(i)),B.E["item.toggle"]=L,M.AP||z.AP){if(-1===ZC.AV(B.A.G.KQ,"skip_interactivity")){var T=z.BK+("box"===z.DJ?z.iX+z.I/2:z.iX),q=z.BJ+("box"===z.DJ?z.iY+z.F/2:z.iY);d="box"===z.DJ?z.I/2:z.AI,A="box"===z.DJ?z.F/2:z.AI;var $=(z.E["show-line"]?2:1)*d;if(!ZC.AM(M.K+"-area")&&(z.AP&&"disabled"!==B.PX&&"disabled"!==z.o["toggle-action"]&&(ZC.AM(z.K+"-area")||ZC.Q.HW({cls:B.K+"-marker-area zc-legend-marker-area zc-abs",id:z.K+"-area",wh:2*$+"/"+2*A,tl:q-A+"/"+(T-$),opacity:0,background:"#fff",cursor:z.IE,p:m,zidx:1})),M.AP&&"disabled"!==B.R6&&"disabled"!==M.o["toggle-action"])){ZC.AM(M.K+"-area")||ZC.Q.HW({cls:B.K+"-item-area zc-legend-item-area zc-abs",id:M.K+"-area",wh:M.I+"/"+M.F,tl:M.iY+M.BJ+"/"+(M.iX+M.BK),opacity:0,background:"#fff",cursor:M.IE,p:m,tabindex:-1,role:"img","aria-label":"Legend item. "+M.AK+". "+R,zidx:1});var j=B.K+"-item-a11yarea zc-legend-item-a11yarea zc-abs",ee=ZC.Q.FO("poly",B.A.E9,B.IE)+'class="'+j+'" id="'+M.K+"-a11yarea";B.A.AY.H3=B.A.AY.H3||[],B.A.AY.H3.push(ee+'" coords="0,0,0,0" data-z-sort="-199" data-coords="'+M.F1()+'" tabindex="0" role="button" aria-label="Legend item. '+M.AK+". "+R+'" data-landmark="'+(0===t?"true":"")+'" />')}}}else h[t].bShowInLegend=!1}if(B.D3&&!B.ND&&(B.D3.paint(),ZC.AM(B.K+"-scroll-c").style.display="block"),B.D3&&B.ND&&(ZC.AM(B.K+"-scroll-c").style.display="none"),B.D6.enabled&&!B.ND){var ie=new ZC.DN(B);ie.Z=ie.C8=B.Z,ie.K=B.K+"-page-status",ie.AK=ZC.HG["legend-pagination"].replace("%page%",B.D6.page).replace("%pages%",B.D6.pages),ie.append(B.o["page-status"]),ie.parse(),B.I<ie.I+48&&(ie.AK=B.D6.page+"/"+B.D6.pages,ie.parse()),ie.iX=B.iX+B.I/2-ie.I/2,ie.iY=B.iY+B.F-(B.KN?B.KN.F:0)-ie.F-4,ie.AP&&ie.paint();var le=B.A.G.B6,ne="("+B.A.AF+")",oe={"background-color":"#999"},ae={"background-color":"#f90"};le.load(oe,ne+".legend.page-off"),le.load(ae,ne+".legend.page-on"),(g=new ZC.DT(B)).Z=g.C8=B.Z,g.K=B.K+"-page-prev",g.A0=g.AE=B.D6.page>1?ae["background-color"]:oe["background-color"],g.append(B.D6.page>1?B.o["page-on"]:B.o["page-off"]),s=B.iX+B.I/2-ie.I/2-6,C=ie.iY+ie.F/2,g.parse(),g.AI=ZC.BR(g.AI,8),u=ZC._i_(.75*g.AI),g.D=[[s,C-u],[s,C+u],[s-g.AI,C],[s,C-u]],g.parse(),g.AP&&g.paint(),(c=new ZC.DT(B)).Z=c.C8=B.Z,c.K=B.K+"-page-next",c.A0=c.AE=B.D6.page<B.D6.pages?ae["background-color"]:oe["background-color"],c.append(B.D6.page<B.D6.pages?B.o["page-on"]:B.o["page-off"]),Z=B.iX+B.I/2+ie.I/2+6,p=ie.iY+ie.F/2,c.parse(),c.AI=ZC.BR(c.AI,8),u=ZC._i_(.75*c.AI),c.D=[[Z,p-u],[Z,p+u],[Z+c.AI,p],[Z,p-u]],c.parse(),c.AP&&c.paint()}if(!ZC.move){var te,re,de=B.F,Ae=B.iY;B.FS&&(de-=B.FS.F,Ae+=B.FS.F),ZC.AM(B.K+"-frame")?ZC.A4("#"+B.K+"-frame").css("top",Ae+"px").css("left",B.iX+"px").css("width",B.I+"px").css("height",de+"px"):ZC.Q.HW({cls:"zc-abs zc-legend-frame "+B.G.K+"-legend-frame "+B.K+"-frame",id:B.K+"-frame",wh:B.I+"/"+de,tl:Ae+"/"+B.iX,opacity:0,background:"#fff",p:m,zidx:0}),B.D6.enabled&&!B.ND&&(B.D6.page>1&&ZC.Q.HW({cls:B.K+"-page-area zc-legend-page-area zc-abs",id:B.K+"-page-prev-area",wh:g.AI+"/"+2*g.AI,tl:ZC._i_(C+g.BJ-g.AI)+"/"+ZC._i_(s+g.BK-g.AI),opacity:0,p:m,zidx:1}),B.D6.page<B.D6.pages&&ZC.Q.HW({cls:B.K+"-page-area zc-legend-page-area zc-abs",id:B.K+"-page-next-area",wh:c.AI+"/"+2*c.AI,tl:ZC._i_(p+g.BJ-c.AI)+"/"+ZC._i_(Z+c.BK),opacity:0,p:m,zidx:1})),B.FS&&B.V2&&("icon"===B.UK?(re=ZC._i_(B.FS.iY+ZC.MAPTX+n.BJ)+"/"+ZC._i_(B.FS.iX+B.FS.I-20+ZC.MAPTX+n.BK),te="20/"+B.FS.F):(re=ZC._i_(B.FS.iY+ZC.MAPTX)+"/"+ZC._i_(B.FS.iX+ZC.MAPTX),te=B.FS.I-(B.UV?23:0)+"/"+B.FS.F),ZC.Q.HW({cls:B.K+"-header-area zc-legend-header-area zc-abs",id:B.K+"-move-area",wh:te,tl:re,opacity:0,p:m,zidx:1})),B.UV&&(B.V2&&"icon"===B.UK?(re=ZC._i_(B.FS.iY+ZC.MAPTX+l.BJ)+"/"+ZC._i_(B.FS.iX+B.FS.I-41+ZC.MAPTX+l.BK),te="20/"+B.FS.F):(re=ZC._i_(B.FS.iY+ZC.MAPTX+l.BJ)+"/"+ZC._i_(B.FS.iX+B.FS.I-22+ZC.MAPTX+l.BK),te="20/"+B.FS.F),ZC.Q.HW({cls:B.K+"-header-area zc-legend-header-area zc-abs",id:B.K+"-minimize-area",wh:te,tl:re,opacity:0,p:m,zidx:1})),B.OY=0,B.A03=0,B.zc_legend_mouseover=function(){B.YS=!0},B.zc_legend_mouseout=function(){B.YS=!1},B.Z6=function(e){if(e.preventDefault(),B.G.hideCM(),ZC.move=!0,ZC.mobile||!(e.which>1)){B.A.A.E["graph-"+B.A.K+"-legend-info"]=null;var i=ZC.Q.MJ(e),l=ZC.A4("#"+B.A.A.K+"-top").offset();B.OY=i[0]-l.left-B.FS.iX,B.A03=i[1]-l.top-B.FS.iY,B.oldcursor=document.body.style.cursor,document.body.style.cursor="move",ZC.A4(document.body).bind(ZC.Q.C1("mousemove"),B.Z7),ZC.A4(document.body).bind(ZC.Q.C1("mouseup"),B.A0W)}},B.Z7=function(e){var i=ZC.Q.MJ(e),l=ZC.A4("#"+B.A.A.K+"-top").offset(),n=i[0]-l.left-B.OY,o=i[1]-l.top-B.A03;if(B.PW?(n=ZC.BR(n,B.G.iX+2),n=ZC.CY(n,B.G.iX+B.G.I-B.I-2),o=ZC.BR(o,B.G.iY+2),o=ZC.CY(o,B.G.iY+B.G.F-B.F-4)):(n=ZC.BR(n,B.A.iX+2),n=ZC.CY(n,B.A.iX+B.A.I-B.I-2),o=ZC.BR(o,B.A.iY+2),o=ZC.CY(o,B.A.iY+B.A.F-B.F-4)),B.PW||(n-=B.A.iX,o-=B.A.iY),B.o.x=n,B.o.y=o,B.o.position=null,B.clear(!0),B.parse(),B.paint(),B.FS){var a=B.PW?B.A.A:B.A;B.A.A.E["legend"+B.A.L+"-xy-ratio"]=[n/a.I,o/(a.F-B.FS.F)]}},B.A0W=function(){ZC.move=!1,document.body.style.cursor=B.oldcursor,delete B.oldcursor,ZC.A4(document.body).unbind(ZC.Q.C1("mousemove"),B.Z7),ZC.A4(document.body).unbind(ZC.Q.C1("mouseup"),B.A0W),B.XQ=[],B.clear(!1),B.parse(),B.paint(),B.WE()},B.YZ=function(e){B.E["default-width"]=null,-1!==(e.targetid||e.target.id).indexOf("-page-next-area")?(B.D6.min+=B.EJ,B.D6.max+=B.EJ,B.D6.page+=1):(B.D6.min-=B.EJ,B.D6.max-=B.EJ,B.D6.page-=1),(!(i=B.A.A.E["graph-"+B.A.K+"-legend-info"])||null===ZC._n_(i.x)&&null===ZC._n_(i.y))&&(B.iX=null,B.iY=null),B.WE(),B.A.KC()},B.Y2=function(e){var i=B.ND?"legendmaximize":"legendminimize";e&&(B.A.A.E["legend-toggling"]=1),zingchart.exec(B.A.G.K,i,{graphid:B.A.L}),e&&(B.A.A.E["legend-toggling"]=0),e&&(B.A.A.E["g"+B.A.L+"-legend-collapsed"]="legendminimize"===i)},B.MS=function(e){ZC.move=!0;var i=ZC.Q.MJ(e),l=ZC.A4("#"+B.A.A.K+"-top").offset(),n=i[0]-l.left,o=i[1]-l.top;B.E["dragged-x"]=n,B.E["dragged-y"]=o,B.WE(),B.clear(!1),B.parse(),B.paint()},B.W7=function(e){if(e.preventDefault(),B.G.hideCM(),B.IE=document.body.style.cursor,document.body.style.cursor="move",ZC.mobile||!(e.which>1)){var i=new RegExp("-legend-item_([0-9]+)-area","g").exec(e.target.id);i&&(B.E["dragged-offset-y"]=0,B.E["calculate-y"]=!0,B.E["dragged-x"]=0,B.E["dragged-y"]=0,B.NE=ZC._i_(i[1]),B.iDragPos=ZC.AV(B.A.AY.MA,B.NE),ZC.A4(document.body).bind(ZC.Q.C1("mousemove"),B.MS),ZC.A4(document.body).bind(ZC.Q.C1("mouseup"),B.XG))}},B.XG=function(){var e=B.NE,i=B.iDragPos;if(B.NE=-1,B.iDragPos=-1,B.E["calculate-y"]=!1,document.body.style.cursor=B.IE,ZC.move||(e=-1,i=-1),ZC.A4(document.body).unbind(ZC.Q.C1("mousemove"),B.MS),ZC.A4(document.body).unbind(ZC.Q.C1("mouseup"),B.XG),ZC.move&&-1!==e){for(var l=B.A.AY.A3,n=B.A.AY.MA,o=0,a=l.length;o<a;o++)l[o].o["legend-item"]=l[o].o["legend-item"]||{},null===ZC._n_(l[o].o["legend-item"].order)&&(l[o].o["legend-item"].order=ZC._i_(l[o].o["z-index"]||o+1));for(var t=l[e].o["legend-item"].order,r=-1,d=0,A=B.Q8.length;d<A;d++)B.E["dragged-y"]-B.E["dragged-offset-y"]/2>B.Q8[d].iY&&(r=d);for(l[e].o["legend-item"].order=-1===r?.5:l[n[r]].o["legend-item"].order+.5,d=0,A=B.Q8.length;d<A;d++)r>i?l[d].o["legend-item"].order<l[e].o["legend-item"].order&&l[d].o["legend-item"].order>t&&l[d].o["legend-item"].order--:l[d].o["legend-item"].order>l[e].o["legend-item"].order&&l[d].o["legend-item"].order<t&&l[d].o["legend-item"].order++;for(l[e].o["legend-item"].order=r>i?Math.floor(l[e].o["legend-item"].order):Math.ceil(l[e].o["legend-item"].order),d=0,A=B.Q8.length;d<A;d++)B.A.o.series[d]["z-index"]=l[d].o["legend-item"].order}B.A.AY.E["plot-sort"]=!0,ZC.move=!1,B.clear(!1),B.A.KC()},ZC.A4("#"+B.K+"-frame").live(ZC.Q.C1("mouseover"),B.zc_legend_mouseover).live(ZC.Q.C1("mouseout"),B.zc_legend_mouseout),ZC.A4("#"+B.K+"-move-area").live(ZC.Q.C1("mousedown"),B.Z6),ZC.A4("#"+B.K+"-minimize-area").live(ZC.Q.C1("click"),B.Y2),ZC.A4("."+B.K+"-page-area").live(ZC.Q.C1("click"),B.YZ),B.BQ.o.reorder&&ZC.A4("."+B.A.K+"-legend-item-area").live("mousedown",B.W7)}B.E.showhide=null,1===B.A.A.E["legend-toggling"]||ZC.move||(B.M5&&null===ZC._n_(B.A.A.E["g"+B.A.L+"-legend-collapsed"])||B.A.A.E["g"+B.A.L+"-legend-collapsed"]&&!B.ND)&&(window.setTimeout(function(){B.Y2(!0)},0),B.A.A.E["g"+B.A.L+"-legend-collapsed"]=!0)}},gc:function(){ZC.AO.gc(this,["B8","D","Q8","Z","C8","o","J2","IB","KN","FS","BQ","ZD","G","A","A2","NO","D6"])}};ZC.V5=ZC.DN.CD(V5),ZC.WJ.push("legend"),ZC.JM.prototype.ACQ=function(){if(!zingchart.SKIP.LEGEND){var e,i=this;if(i.BE){if(i.BE.PW&&i.L!==i.A.AG.length-1&&!i.BE.o.force)return;i.BE.Z=i.BE.C8=i.G.usc()?i.G.mc("top"):ZC.AM(i.K+"-legend-c"),i.BE.paint(),-1===ZC.AV(i.G.KQ,"skip_interactivity")&&(i.O4=function(e){var l,n;if(!ZC.move){i.A7&&i.A.A7&&i.A7.AP&&i.A.A7.onmouseover(e);var o=e.targetid||e.target.id,a=ZC._i_(o.replace(i.K,"").replace("-legend-item_","").replace("-legend-marker_","").replace("-area","").replace("-marker","")),t=i.AY.A3[a];if(t.FW&&(i.BE.WV||t.I9)&&t.R.length)for(l=0,n=t.R.length;l<n;l++)if(null!==t.R[l]&&t.R[l].J1&&(t.FQ(l).A15("highlight"),i.BE.PW))for(var r=0;r<i.A.AG.length;r++)if(i.A.AG[r].BE&&i.A.AG[r].BE.PW&&i.A.AG[r].AY.A3[t.L]){var d=i.A.AG[r].AY.A3[t.L];d.FQ(l)&&d.FQ(l).A15("highlight")}ZC.move=!0;var A=t.L;t.o["legend-item"]&&null!==ZC._n_(t.o["legend-item"].order)&&(A=ZC._i_(t.o["legend-item"].order)),i.BE.o["reverse-series"]&&(A=i.AY.A3.length-1-A),i.BE.highlightItem(A),ZC.move=!1;var s=i.AY.A3[a].V6(e);i.E["legend-action-index"]=a,ZC.AO.C0("legend_mouseover",i.A,s)}},i.PU=function(e){ZC.move||i.A7&&i.A.A7&&i.A7.AP&&i.A.A7.onmousemove(e)},i.PQ=function(e){if(!ZC.move){if(i.A7&&i.A.A7&&i.A7.AP&&i.A.A7.onmouseout(e),i.LN(),i.BE.PW)for(var l=0;l<i.A.AG.length;l++)i.A.AG[l].BE&&i.A.AG[l].BE.PW&&i.A.AG[l].LN();ZC.move=!0,i.BE.highlightItem(-1),ZC.move=!1;var n=ZC._c_(i.E["legend-action-index"],0),o=i.AY.A3[n].V6(e);ZC.AO.C0("legend_mouseout",i.A,o)}},i.zc_legend_mousescroll=function(e){i.BE.D3&&"scroll-y"===i.BE.D3.AF&&(e.preventDefault(),i.BE.D3.A3T(e))},i.QY=function(l){if(i.E.legend_toggle_action=!0,!(ZC.move||(zingchart.SJ(l),"mouseup"===l.type&&l.which>1))){var n,o,a,t=l.targetid||l.target.id,r=ZC._b_(i.BE.BQ.o.reorder);ZC.mobile&&i.G.A7&&i.G.A7.hide();var d="item";-1!==t.indexOf("-legend-marker_")&&(d="marker"),i.LN(),l.preventDefault();var A=i.BE.I5;"item"===d?A=i.BE.R6:"marker"===d&&(A=i.BE.PX),i.A.KK&&"hide"===A&&(A="remove"),i.E["legend-last-trigger"]=d;var s=ZC._i_(t.replace(i.K+"-legend-item_","").replace(i.K+"-legend-marker_","").replace("-a11yarea","").replace("-area",""));if(i.o.series&&i.o.series[s]){if(null!==ZC._n_(e=i.o.series[s]["legend-item"])){var g=e.url||"",C=e.target||"";""!==g&&i.V8(l,g,C)}i.o.series[s].visible=!0}var Z,c,p,u=i.AY.A3[s].V6(l);switch(u.visible=ZC._b_(i.E["plot"+s+".visible"]),u.toggleaction=A,ZC.AO.C0("legend_click",i.A,u),ZC.AO.C0("legend_"+d+"_click",i.A,u),A){default:break;case"hide":case"remove":if(l.shiftKey){var B=0;for(n=0,o=i.AY.A3.length;n<o;n++)if(n!==s&&(a=++B===o-1,i.QM({"ignore-legend":r,KC:a,plotindex:n,"toggle-action":A}),i.BE.PW))for(Z=0,c=i.G.AG.length;Z<c;Z++)(p=i.G.AG[Z]).BE&&p.BE.PW&&p.BE.A4W===i.BE.A4W&&p.K!==i.K&&p.QM({"ignore-legend":!0,KC:a,plotindex:n,"toggle-action":A})}else if(i.QM({"ignore-legend":r,KC:1,plotindex:s,"toggle-action":A}),i.BE.PW)for(Z=0,c=i.G.AG.length;Z<c;Z++)(p=i.G.AG[Z]).BE&&p.BE.PW&&p.BE.A4W===i.BE.A4W&&p.K!==i.K&&p.QM({"ignore-legend":!0,KC:1,plotindex:s,"toggle-action":A})}"hide"===A&&i.E.hooks&&(i.P3(),i.R5())}},ZC.A4("."+i.K+"-legend-item-area").live("mouseup touchstart",i.QY).live("DOMMouseScroll",i.zc_legend_mousescroll).live("mousewheel",i.zc_legend_mousescroll),ZC.A4("."+i.K+"-legend-marker-area").live("mouseup touchstart",i.QY).live("DOMMouseScroll",i.zc_legend_mousescroll).live("mousewheel",i.zc_legend_mousescroll),ZC.A4("#"+i.K+"-legend-frame").live("DOMMouseScroll",i.zc_legend_mousescroll).live("mousewheel",i.zc_legend_mousescroll),ZC.mobile||(ZC.A4("."+i.K+"-legend-item-area").live(ZC.Q.C1("mouseover"),i.O4).live(ZC.Q.C1("mouseout"),i.PQ).live(ZC.Q.C1("mousemove"),i.PU),ZC.A4("."+i.K+"-legend-marker-area").live(ZC.Q.C1("mouseover"),i.O4).live(ZC.Q.C1("mouseout"),i.PQ).live(ZC.Q.C1("mousemove"),i.PU)))}}};