/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.15
*/
zingchart.setModule("wordcloud"),function(){var o;ZC.AFW=((o=function(){this.AFD=9,this.AFE=99,this.AFF=2,this.EJ=100,this.AFG=15,this.AFH=5,this.ZJ=!1,this.DR="word",this.AC5=[],this.AN="",this.aWords=[],this.oWordsMap=null,this.CW="spiral",this.AF9="palette",this.C2="#000",this.bNormalize=!1,this.AGQ=function(){for(var t=(16777215*Math.random()+1<<0).toString(16);t.length<6;)t="0"+t;return"#"+t},this.K2=function(){var t,e={};if(""!==this.AN){if("word"===this.DR)var o=this.AN.replace(/[\:\;\,\.\{\}\[\]\(\)\?\!\/\=\+\-]/g," ").split(" ");else if("character"===this.DR)for(o=[],t=this.AFF=0;t<this.AN.length;t++)" "!==this.AN[t]&&o.push(this.AN[t]);for(t=0;t<o.length;t++){var a=this.bNormalize?o[t].toLowerCase():o[t];if(o[t].length>=this.AFF&&-1===ZC.AV(this.AC5,o[t]))if(this.bNormalize){var l,r=!1;for(l in e)l.toLowerCase()===a&&(r=!0,e[l]++);r||(e[o[t]]=1)}else null===ZC._n_(e[o[t]])&&(e[o[t]]=0),e[o[t]]++}}if(0<this.aWords.length)for(this.oWordsMap={},t=0;t<this.aWords.length;t++){var i=this.aWords[t];null!==ZC._n_(i.text)&&(e[(this.oWordsMap[i.text]=i).text]=i.count||0)}return e},this.intersectRect=function(t,e){return!(e.iX>t.iX+t.I||e.iX+e.I<t.iX||e.iY>t.iY+t.F||e.iY+e.F<t.iY)}}).getDefaults=function(t){var e={};return ZC._cp_(o.B6,e),o.NS[t]&&ZC._cp_(o.NS[t],e),e},o.B6={palette:["#6a921f","#007fa3","#a62b02","#b79007","#563d02","#0b32a0"]},o.NS={light:{palette:["#7CA82B","#29A2CC","#D31E1E","#EF8535","#A14BC9","#A05F18","#265E96","#6B7075"]},dark:{palette:["#7CA82B","#29A2CC","#D31E1E","#EF8535","#A14BC9","#A05F18","#265E96","#6B7075"]}},o),zingchart.bind(null,"dataparse",function(G,t){for(var e,X,o,S,a=zingchart.getLoader(G.id),l=0,k=t[ZC._[16]].length;l<k;l++)if(t[ZC._[16]][l].type&&"wordcloud"===t[ZC._[16]][l].type){var r=t[ZC._[16]][l].type,i=t[ZC._[16]][l],I=ZC.AFW.getDefaults(G.theme),n={};for(i.options&&(n=i.options[r]||i.options),ZC._todash_(n,!0,["words"]),i[ZC._[10]]=i[ZC._[10]]||[],o=i[ZC._[10]].length-1;0<=o;o--)(i[ZC._[10]][o]["data-word-cloud"]||i[ZC._[10]][o].dataWordCloud)&&i[ZC._[10]].splice(o,1);i.plotarea=i.plotarea||{},null===ZC._n_(i.plotarea.margin)&&(i.plotarea.margin=5);var C,_=new ZC.AFW,h=(null!==ZC._n_(e=n.text)&&(_.AN=e),null!==ZC._n_(e=n.words)&&(_.aWords=e),null!==ZC._n_(e=n.aspect)&&(_.CW=e),null!==ZC._n_(e=n.ignore)&&(_.AC5=e),null!==ZC._n_(e=n.token)&&(_.DR=e),null!==ZC._n_(e=n["min-length"])&&(_.AFF=ZC._i_(e)),null!==ZC._n_(e=n["min-font-size"])&&(_.AFD=ZC._i_(e)),null!==ZC._n_(e=n["max-font-size"])&&(_.AFE=ZC._i_(e)),null!==ZC._n_(e=n["max-items"])&&(_.EJ=ZC._i_(e)),null!==ZC._n_(e=n["color-type"])&&(_.AF9=e),null!==ZC._n_(e=n.color)&&(_.C2=ZC.AO.GD(e)),null!==ZC._n_(e=n.palette)?_.BP=e:_.BP=I.palette,null!==ZC._n_(e=n["step-angle"])&&(_.AFG=ZC._i_(e)),null!==ZC._n_(e=n["step-radius"])&&(_.AFH=ZC._i_(e)),null!==ZC._n_(e=n.rotate)&&(_.ZJ=ZC._b_(e)),null!==ZC._n_(e=n.normalize)&&(_.bNormalize=ZC._b_(e)),{}),s=(null!==ZC._n_(e=n.style)&&ZC._cp_(e,h),zingchart.getInstance(a,"textbox")),p=(s.append(h),s.parse(),_.AFD=ZC.BR(4,_.AFD),_.AFE=ZC.BR(4,_.AFE),_.AFD>=_.AFE&&(_.AFE=_.AFD+2),zingchart.getGraphInfo(a,t,l)),Z=[],A=p.plotarea.x+p.plotarea.width/2,u=p.plotarea.y+p.plotarea.height/2,r=1,Y=("spiral"===_.CW?r=_.ZJ?.65:.55:"flow-top"!==_.CW&&"flow-center"!==_.CW||(_.ZJ=!1,r=.75),p.plotarea.width*p.plotarea.height*r),F=_.K2(),f=[],c=-Number.MAX_VALUE,d=Number.MAX_VALUE;for(C in F)f.push({text:C,count:F[C],hits:F[C]});for(f.sort(function(t,e){return t.count<e.count?1:t.count>e.count?-1:0}),-1!==_.EJ&&f.splice(_.EJ,f.length-_.EJ),w=0;w<f.length;w++)c=ZC.BR(f[w].count,c),d=ZC.CY(f[w].count,d);for(w=0;w<f.length;w++)f[w].count=c===d?50:10+90*(f[w].count-d)/(c-d);for(var g=function(t){for(w=0;w<f.length;w++)f[w].fontSize=Math.max(_.AFD,ZC._i_(_.AFD+f[w].count/100*(_.AFE-_.AFD))-t),f[w].width=ZC.Q.A48(a.K,f[w].text,s.GJ,f[w].fontSize,s.sFontWeight,s.FL)+s.ER+s.FO,f[w].height=1.1*f[w].fontSize+s.FJ+s.FX},W=(g(0),!1);!W;){for(var W=!0,L=0,w=0;w<f.length;w++)L+=f[w].width*f[w].height;Y<L&&(W=!1,_.AFE--,_.AFE<=_.AFD+4&&_.AFD--,g(0),_.AFD<5||_.AFE<5)&&(W=!0)}null===ZC._n_(n["step-radius"])&&(_.AFH=(_.AFE-_.AFD+.25*_.AFD*_.AFF+1)/10);for(var E=!0,x=-1;E&&x<_.AFE-_.AFD;){Z=[],i[ZC._[10]]=[],g(x+=1);var D,E=!1,b=0,H=0,P=_.AFE/2,K=_.AFE/2,Q=[];for(w=0,X=f.length;w<X;w++){var m=!0,y=A,v=u,V=_.C2;switch(_.AF9){case"random":V=_.AGQ();break;case"palette":V=_.BP[w%_.BP.length]}var O=!_.ZJ||w%4==0||w%4==3?0:90,z=!1,N=f[w].text,B={padding:0,dataWordCloud:!0},U=(ZC._cp_(h,B),ZC._cp_({angle:O,"font-size":Math.max(_.AFD,f[w].fontSize-x),text:N,color:V},B),null!==ZC._n_(n.style)&&null!==ZC._n_(e=n.style[ZC._[71]])&&(B[ZC._[71]]={},ZC._cp_(e,B[ZC._[71]])),N),J=(B.tooltip={visible:!1,"background-color":"#fff",color:"#333","border-width":1,"border-color":"#999",padding:10,text:U},null!==ZC._n_(n.style)&&null!==ZC._n_(e=n.style.tooltip)&&ZC._cp_(e,B.tooltip),B.tooltip.text=B.tooltip.text.replace("%text",N).replace("%hits",f[w].hits),_.oWordsMap&&null!==ZC._n_(_.oWordsMap[N])&&(ZC._cp_(_.oWordsMap[N],B),ZC._cp_(_.oWordsMap[N].style,B)),0),j=0,q=0,T=_.AFD/2;for("flow-top"===_.CW?q=1:"flow-center"===_.CW&&(q=w%2==0?1:-1),Q[w]=0;m&&!E;){var $,M=f[w].width,R=f[w].height;if("spiral"===_.CW?(y=A+(0===w?0:P)*ZC.EF(b)-M/2,v=u+(0===w?0:K)*ZC.EL(b)-R/2):"flow-center"===_.CW?(y=0===w?A-M/2:p.plotarea.x+J,v=u-R/2+j):"flow-top"===_.CW&&(y=0===w?A-M/2:p.plotarea.x+J,v=p.plotarea.y+j),90==O&&"flow-top"===_.CW&&(v=ZC.BR(v,p.plotarea.y+R)),B.x=ZC._i_(y),B.y=ZC._i_(v),m=!1,90==O&&($=M,y=ZC._i_(y+M/2-R/2),v=ZC._i_(v+R/2-M/2),M=R,R=$),y<p.plotarea.x||y+M>p.plotarea.x+p.plotarea.width||v<p.plotarea.y||v+R>p.plotarea.y+p.plotarea.height)if("spiral"===_.CW){if(!(Q[w]<200)){E=z=!0;break}Q[w]++,m=!0}else if("flow-top"===_.CW||"flow-center"===_.CW){if(y+M>p.plotarea.x+p.plotarea.width&&(m=!0,J=-T,j+=q*T),v+R>p.plotarea.y+p.plotarea.height){z=!0;break}if(v<p.plotarea.y){z=!0;break}}if(D={iX:y,iY:v,I:M,F:R,DI:Math.max(f[w].fontSize-x,_.AFD),AN:f[w].text,GJ:s.GJ},!m)for(o=0,S=Z.length;o<S;o++)if(_.intersectRect(Z[o],D)){J+=Z[o].I,m=!0;break}"spiral"===_.CW?m?H+360<(b+=_.AFG)&&(P+=_.AFH,K+=_.AFH*(p.plotarea.height/p.plotarea.width),b=H=5*w%360):(P=K=_.AFE/2,b=H=5*w%360):"flow-top"!==_.CW&&"flow-center"!==_.CW||m&&(J+=T)}z||D.iX<p.plotarea.x||D.iX+D.I>p.plotarea.x+p.plotarea.width||D.iY<p.plotarea.y||D.iY+D.F>p.plotarea.y+p.plotarea.height||(Z.push(D),i[ZC._[10]].push(B))}"flow-top"!==_.CW&&"flow-center"!==_.CW||f.length>Z.length&&(E=!0)}}return t})}();