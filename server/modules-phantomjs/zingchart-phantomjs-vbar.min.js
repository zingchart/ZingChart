/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.13
*/
ZC.WI.push("vbar"),ZC.A2M=ZC.NL.CC({$i:function(A){this.b(A);var i=this;i.AF="vbar",i.AZ=new ZC.A0J(i),i.AJ["enable-guide"]=!0,i.AJ["enable-preview"]=!0,i.AJ["enable-scroll"]=!0},MT:function(A,i){switch(A){case"x":var e=this.b(A,i);return e.DE=!0,e;case"y":return this.b(A,i)}}}),ZC.A0J=ZC.LN.CC({ACU:function(){return new ZC.QW(this)}}),ZC.A2A=ZC.W7.CC({$i:function(A){this.b(A);var i=this;i.AF="bar",i.sMetaType="bar",i.F4=.1,i.D4=0,i.bKeyWidth=!1,i.YV=-1,i.CG=.1,i.CT=.1,i.F0=0,i.TP=!1,i.LX=[],i.P3="bg",i.A3N=!0,i.N5=!1},parse:function(){var A=this;if(A.BP=A.O2(),A.C2=A.BP[0],A.B8=A.BP[1],A.BX=A.BP[1],A.A0=A.BP[1],A.AE=A.BP[2],A.NR(),A.b(),"histogram"===A.CW&&(A.F4=A.CG=A.CT=0),A.assign_a([["group-bars","A3N","b"],["show-zero","TP","b"],["offset-values","LX"],["bar-space","F4","fp"],["bar-width","D4","fp"],["key-width","bKeyWidth","b"],["bar-max-width","YV","fp"],["bars-space-left","CG","fp"],["bars-space-right","CT","fp"],["bars-overlap","F0","fp"],["smart-sampling","N5","b"]]),A.A3N||(A.F0=1),0===A.F4&&0===A.CG&&0===A.CT&&(A.FD=!1),A.B0=A.C.BM(A.BW("k")[0]),A.CN=A.C.BM(A.BW("v")[0]),null!==ZC._n_(A.o.column)){var i=A.o.column.split("/");if(2===i.length){var e=ZC._i_(i[0]),C=ZC._i_(i[1]),t=A.CG;A.CG>=1&&(t=A.CG/A.B0.AB);var a=A.CT;A.CT>=1&&(a=A.CT/A.B0.AB);var n=1-t-a,r=ZC._x_(n/(3*C+1));A.CG=t+r+3*(e-1)*r,A.CT=1-A.CG-2*r}}},SP:function(){var A,i=this;if(i.RO)return i.RO;if(i.o["fast-dimensions"]&&i.A.A3[0].RO)return i.A.A3[0].RO;i.bKeyWidth&&(i.assign_a([["bar-width","D4","fp"]]),i.D4=((i.B0.CK?i.B0.F:i.B0.I)-i.B0.A9-i.B0.BS)*(i.D4/(i.B0.BD-i.B0.AY)));var e,C=i.B0.AB*i.Y,t=0;for(i.A.K5[i.AF]=i.A.K5[i.AF]||[],A=0;A<i.A.K5[i.AF].length;A++){var a=i.A.K5[i.AF][A][0];i.A.A3[a].BO[0]===i.BO[0]&&t++}if(i.LR)for(t=0,A=0;A<i.A.A3.length;A++)"bar"===i.A.A3[A].sMetaType&&(t=ZC.BQ(t,i.A.A3[A].R.length));if(null===ZC._n_(i.B0.EU)&&(i.B0.EU=0,i.B0.WU={}),i.CE&&null!==ZC._n_(i.B0.WU["stack-"+i.E0]))e=i.B0.WU["stack-"+i.E0];else{for(e=i.B0.EU,A=0;A<i.L;A++)if((i.A.A3[A].AN||"hide"===i.C.getToggleAction())&&i.BO[0]===i.A.A3[A].BO[0]&&i.A.A3[A].AF===i.AF&&(!i.CE||i.A.A3[A].E0!==i.E0)&&!i.A.A3[A].HP){e++;break}i.B0.EU=e,i.B0.WU["stack-"+i.E0]=e}for(var n=!0,r=0,o=[],s=0;s<i.A.A3.length;s++)i.A.A3[s].D4<=1?n=!1:null!==ZC._n_(i.A.A3[s].D4)&&(i.A.A3[s].CE&&-1!==ZC.AV(o,i.A.A3[s].E0)||(o.push(i.A.A3[s].E0),r+=i.A.A3[s].D4));var l=i.CG;l<=1&&(l*=C);var h,Z=i.CT;Z<=1&&(Z*=C),l=ZC._i_(l),Z=ZC._i_(Z);var p,F,_,u,f=i.F0;return n?(h=r,0===i.F0||t<=1?((p=i.F4)<=1&&(p*=h/t),Z=(_=C-h-(p=ZC.BQ(0,p))*(t-1))-(l=_*(u=0===Z?1:l/Z)/(1+u)),l<1&&(l=Z=0,p=C-h,t>1&&(p/=t-1),p<0&&(h=C-l-Z-(p=0)*(t-1))),F=(h=ZC.BQ(h,1*t))/t):t>1&&(p=0,F=h/t,f<=1&&(f*=F),Z=(_=C-(h=t*(F-(f=ZC.CY(f,F)))+f)-p*(t-1))-(l=_*(u=0===Z?1:l/Z)/(1+u)),l<1&&(h-=1-l))):(h=C-l-Z,0===i.F0||t<=1?((p=i.F4)<=1&&(p*=h/t),Z=(_=C-h-(p=ZC.BQ(0,p))*(t-1))-(l=_*(u=0===Z?1:l/Z)/(1+u)),l<1&&(l=Z=0,p=C-h,t>1&&(p/=t-1),p<0&&(h=C-l-Z-(p=0)*(t-1))),F=(h=ZC.BQ(h,1*t))/t):t>1&&(p=0,F=h/t,f>1&&(f=F/f),f*=F=h/(t-t*f+f),Z=(_=C-h-p*(t-1))-(l=_*(u=0===Z?1:l/Z)/(1+u)),l<1&&(h-=1-l))),-1!==i.YV&&F>i.YV&&!i.E.bw&&(i.D4=i.YV),i.RO={AB:C,EU:e,CG:l,CT:Z,F4:p,D4:F,F0:f},{AB:C,EU:e,CG:l,CT:Z,F4:p,D4:F,F0:f}},paint:function(){var A=this;A.b(),A.KG=A.CQ("bl",0);var i=A.FD;A.A2L=!1,A.SA=null;var e=1;A.B0.EG&&(e=A.R.length/(A.B0.DR-A.B0.D6)),0!==A.E7.length||A.HW||A.C.KK||"svg"!==A.H.AC||!(A.B0.A1-A.B0.W>2048||A.B0.EG&&e*(A.B0.A1-A.B0.W)>2048)||(A.A2L=!0,null===ZC._n_(A.o["rect-shortcut"])&&(A.FD=!0)),A.FD||(A.A2L=!1),A.PD(),A.FD=i,A.RefNode=null,A.W1=null}}),ZC.QW=ZC.A2A.CC({$i:function(A){this.b(A),this.AF="vbar"},TY:function(){return new ZC.ZI(this)}}),ZC.ZI=ZC.LJ.CC({setup:function(){this.T6()},V4:function(){var A=this;A.paint(!0);var i=A.C.BM(A.A.BW("v")[0]);return[A.iX+A.I/2,A.iY+(i.AW?A.F:0),{reference:A,center:!0}]},AC7:function(A){var i=this,e="top-out",C=i.C.BM(i.A.BW("v")[0]),t=i.AD>=C.H9&&!C.AW||i.AD<C.H9&&C.AW?1:-1;A=i.setupValueBoxWH(A),null!==ZC._n_(A.o.placement)&&(e=A.o.placement);var a=A.I,n=A.F,r=i.iX+i.I/2-a/2,o=i.iYVal-n/2,s=A.AA%180==90,l=s?a/2:n/2,h=s?a/2-n/2:0;switch(e){case"top-out":case"top":o-=t*(l+5);break;case"top-in":o+=t*(l+5);break;case"middle":o+=t*(i.F/2);break;case"bottom-in":o+=t*(i.F-l-5);break;case"bottom-out":case"bottom":o+=t*(i.F+n/2+5)}if(null!==ZC._n_(A.o.x)||null!==ZC._n_(A.o.y))null!==ZC._n_(A.o.x)&&(r=A.iX),null!==ZC._n_(A.o.y)&&(o=A.iY);else{var Z=ZC._c_(i.A.o.tolerance,5);if(!ZC.AO._boxoverlap2_(i,i.C.P,Z))return[-1,-1]}var p=A.o.tolerance||[i.C.P.E9,i.C.P.E8,i.C.P.DU,i.C.P.DZ];return i.C.AJ["3d"]||(r=ZC.BQ(i.C.P.iX+0-p[3],r),r=ZC.CY(i.C.P.iX+i.C.P.I-a-0+p[1],r),o-h<i.C.P.iY+5-p[0]&&(o=i.C.P.iY+5-p[0]+h),o+h>i.C.P.iY+i.C.P.F-n-5+p[2]&&(o=i.C.P.iY+i.C.P.F-n-5+p[2]-h)),[ZC._i_(r),ZC._i_(o)]},getPMap:function(){var A=this.b();return this.addPMap(A,"barWidth","I"),A},paint:function(A){var i,e=this;if(e.b(),!e.C.AJ["3d"]){void 0===A&&(A=!1);var C=e.A.B0,t=e.A.CN;e.setup();var a,n,r,o,s,l=t.H9,h=t.AR(l),Z=e.A.SP(),p=Z.AB,F=Z.EU,_=Z.CG,u=Z.CT,f=Z.F4,v=Z.D4,c=Z.F0;if(A?F=e.A.E["node-"+e.L+"-bar-index"]:e.A.E["node-"+e.L+"-bar-index"]=Z.EU,e.A.CE){a=0;for(var d=e.A.A.KF[F],B=0;B<d.length;B++){var D=e.A.A.A3[d[B]].R[e.L];D&&(a+=D.AD)}}var E=1,b=1;if(e.A.CE&&(e.CP!==e.AD&&(E=(a-e.CP+e.AD)/a),b=(a-e.CP)/a),t.AW){var W=E;E=b,b=W}e.A.LR&&(F=e.L);var Y=e.iX-p/2+_+F*(v+f)-F*c;if(Y=ZC._l_(Y,e.iX-p/2+_,e.iX+p/2-u),e.A.D4>0){var P=v;(v=e.A.D4)<=1&&(v*=P),Y+=(P-v)/2}var I=v,L=e.iY,g=null!==ZC._n_(e.A.LX[e.L])?e.A.LX[e.L]:0;if(L=e.A.CE&&"100%"===e.A.KR?t.AR(100*(e.CP+g)/e.A.A.F8[e.L]["%total-"+e.A.E0]):t.AR(e.CP+g),e.A.CE){n="100%"===e.A.KR?t.AR(100*(e.CP-e.AD+g)/e.A.A.F8[e.L]["%total-"+e.A.E0]):t.AR(e.CP-e.AD+g),L=ZC._i_(L),n=ZC._i_(n);var X=!t.AW&&e.AD>=0||t.AW&&e.AD<=0?-1:1,N=0,K=0;""!==e.A.PW?(N=e.WY(e.A.PW)[0],K=0):N=e.A.AU,""!==e.A.NQ?(K=e.WY(e.A.NQ)[0],N=0):K=e.A.AU,N!==K&&(X=0),r=L-n+X*N,e.AD<0&&(L=n),t.AW?r>0&&(r=ZC._a_(r),L=n):r<0&&(r=ZC._a_(r),L=n-r),t.AW&&e.AD<0&&(r+=K)}else n=t.AR(g),(r=L-n)<0?(r=ZC._a_(r),L=n-r):L=n;if(e.A.TP&&e.A.CE&&e.A.L>0&&e.A.A.A3[e.A.L-1].R[e.L]&&0===e.A.A.A3[e.A.L-1].R[e.L].AD&&(r-=1,L+=t.AW?1:-1),r<2&&(e.AD>0||e.A.TP)&&(r=1,t.AW?e.A.CE&&(e.A.L>0&&(L-=1),(0===e.A.L||e.AD>0&&e.AD===e.CP)&&(L+=1)):e.A.CE?(0===e.A.L||e.AD>0&&e.AD===e.CP)&&(L-=2):L=g?n-1:h-2),e.I=I,e.F=r,e.iX=Y,e.iY=L,t.AW?e.AD>=t.H9?e.iYVal=L+e.F:e.iYVal=L:e.AD>=t.H9?e.iYVal=L:e.iYVal=L+e.F,e.C.CX){var y="middle";e.C.CX.o.marker&&null!==ZC._n_(i=e.C.CX.o.marker.alignment)&&(y=i),null!==ZC._n_(e.A.o["guide-marker"])&&null!==ZC._n_(i=e.A.o["guide-marker"].alignment)&&(y=i),"node"===y&&(e.E.A5N=e.iX+e.I/2)}if(!A){var T;e.setNodeData({x:Y,y:L,w:I,h:r});var w=!0;if("none"!==e.A.J1||e.C.IW[e.A.L]||e.C.KK||e.A.SZ&&e.A.SZ[e.L]?(T=e.O=e.A.IG(e,e.O),w=!1):T=e.O,(0!==e.A.E7.length||e.A.HW||e.O.o.override||e.C.KK)&&(w=!1),e.AN){var H;switch(e.A.CW){default:0!==e.A.E7.length||e.A.HW||"undefined"==typeof e.A.TN||e.O.o.override||e.C.KK?(H=new ZC.HQ(e.A)).copy(T):H=e.A.TN,e.A.HW&&(e.H4(H),H.parse()),H.FD=e.A.FD,H.K=e.K,H.iX=Y,H.iY=L,H.I=e.I,H.F=e.F,C.AB<5&&H.I<5?(H.I=ZC.BQ(1,H.I)+1,H.N2=!1,H.D0=!1):H.N2=!0,H.I<5&&C.A1!==C.W&&e.C.P.I/(C.A1-C.W)<1&&(H.QS=!0);break;case"pyramid":case"cone":0!==e.A.E7.length||e.A.HW||"undefined"==typeof e.A.TN||e.O.o.override||e.C.KK?(H=new ZC.DQ(e.A)).copy(T):H=e.A.TN,e.A.HW&&(e.H4(H),H.parse()),H.K=e.K,t.AW&&!e.A.CE?(s=e.AD>=0?0:e.F,o=e.AD>=0?e.F:0):(s=e.AD>=0?e.F:0,o=e.AD>=0?0:e.F),H.D=[],H.D.push([Y+e.I/2-E*e.I/2,L+s],[Y+e.I/2+E*e.I/2,L+s]),e.A.CE&&0!==b?H.D.push([Y+e.I/2+b*e.I/2,L+o],[Y+e.I/2-b*e.I/2,L+o]):H.D.push([Y+e.I/2,L+o]),H.D.push([H.D[0][0],H.D[0][1]]),e.setNodeData({points:H.D}),H.iX=Y,H.iY=L,H.locate(2)}H.Z=e.A.CQ("bl",1),H.C7=e.A.CQ("bl",0),e.paintPreview(T,w);var G=e.C.K+"-node-area "+e.C.K+"-plotset-plot-"+e.A.L+"-node-area zc-node-area";H.DG=G;var O=ZC._c_(e.A.o.tolerance,5),R=function(){if("undefined"!=typeof e.paint_&&e.paint_(),e.N8(ZC.Q.EC(H.Z,e.H.AC)),ZC.AO._boxoverlap2_(e,e.C.P,O)&&e.A.FU&&-1===ZC.AV(e.H.KP,"skip_segment_tracking")){var A=I<5?.5:-.5,i=r<3?.5:-.5,C=ZC.Q.FS("rect",e.A.EA,H.IK)+'class="'+G+'" '+e.a11y()+' id="'+e.K+'" coords="'+ZC._i_(Y+e.A.BK+ZC.MAPTX-A)+","+ZC._i_(L+e.A.BI+ZC.MAPTX-i)+","+ZC._i_(Y+e.A.BK+I+ZC.MAPTX+A)+","+ZC._i_(L+e.A.BI+r+ZC.MAPTX+i)+'" />';e.A.A.HE.push(C)}e.A.U&&e.A.U.AN&&e.GY()};if(e.A.GE&&!e.C.HJ){var m=H,U={};m.iX=Y,m.iY=L,m.I=I,m.F=r,U.x=Y,U.y=L,U.width=I,U.height=r;var S,Q=e.A.LB,x=e.C.P;for(S in m.C5=0,U.alpha=T.C5,2===Q?(m.iY=x.iY+x.F/2,m.F=1,U.height=e.F,U.y=L):3===Q?(m.iY=x.iY,m.F=1,U.height=e.F,U.y=L):4===Q?(m.iY=x.iY+x.F,m.F=1,U.height=e.F,U.y=L):5===Q?(m.iX=x.iX,m.I=1,U.width=e.I,U.x=Y):6===Q?(m.iX=x.iX+x.I,m.I=1,U.width=e.I,U.x=Y):7===Q?(m.iX=x.iX+x.I/2,m.I=1,U.width=e.I,U.x=Y):8===Q?(m.iX=Y-x.I,U.x=Y):9===Q?(m.iX=Y+x.I,U.x=Y):10===Q?(m.iY=L-x.F,U.y=L):11===Q?(m.iY=L+x.F,U.y=L):12===Q?(m.I=1,U.width=e.I):13===Q&&(m.F=1,U.height=e.F),e.A.FY)m[ZC.E6.GM[ZC.EF(S)]]=e.A.FY[S],U[ZC.EF(S)]=T[ZC.E6.GM[ZC.EF(S)]];if(null===ZC._n_(e.C.EO)&&(e.C.EO={}),null!==ZC._n_(e.C.EO[e.A.L+"-"+e.L]))for(S in e.C.EO[e.A.L+"-"+e.L])m[ZC.E6.GM[ZC.EF(S)]]=e.C.EO[e.A.L+"-"+e.L][S];if(e.C.EO[e.A.L+"-"+e.L]={},ZC._cp_(U,e.C.EO[e.A.L+"-"+e.L]),ZC.AO._boxoverlap2_(e,e.C.P,O)){var M=new ZC.E6(m,U,e.A.JG,e.A.L9,ZC.E6.RL[e.A.LC],function(){R()});M.AX=e,M.OD=function(){e.N8(ZC.Q.EC(H.Z,e.H.AC))},e.LS(M)}}else{if(H.AN||0===e.A.E7.length&&!e.A.HW)if(e.A.W1||(e.A.W1={iX:H.iX,iY:H.iY,F:H.F}),e.A.A2L)if(e.A.SA)if(e.A.SA.el&&"RECT"===e.A.SA.el.tagName.toUpperCase()){var k=!1;if(e.A.N5&&e.A.W1&&ZC._a_(H.iX-e.A.W1.iX)<.75&&ZC._a_(H.iY-e.A.W1.iY)<1.5&&ZC._a_(H.F-e.A.W1.F)<1.5&&(k=!0),!k){e.A.W1={iX:H.iX,iY:H.iY,F:H.F};var V=e.A.SA.el.cloneNode(!1);V.setAttribute("id",e.K),V.setAttribute("x",e.iX),V.setAttribute("y",e.iY),V.setAttribute("height",e.F),e.A.SA.df?e.H.G3[H.Z.id].appendChild(V):e.A.SA.el.parentNode.appendChild(V)}}else H.paint();else H.paint(),e.A.SA={id:H.K+"-path"},zingchart.DEV.DOMFRAGMENTS&&document.querySelector&&e.H.G3&&e.H.G3[H.Z.id]?(e.A.SA.df=!0,e.A.SA.el=e.H.G3[H.Z.id].querySelector("#"+H.K+"-path")):(e.A.SA.df=!1,e.A.SA.el=ZC.AL(e.A.SA.id));else ZC.AO._boxoverlap2_(e,e.C.P,O)&&H.paint();H.AN&&R()}"svg"===e.H.AC&&e.A.applyJsRuleSvg(e.A,e.K+"-path",e.M0()),0!==e.A.E7.length||e.A.HW||"undefined"!=typeof e.A.TN||e.O.o.override||e.C.KK||e.A.GE||(e.A.TN=H)}}}},paintPreview:function(A,i){var e,C,t=this;if(t.C.B6&&t.C.B6.HZ&&t.A.QQ){var a=t.C.P,n=t.C.B6,r=n.AT,o=(t.iX-a.iX)/a.I,s=(t.iY-a.iY)/a.F;t.A.VW?e=t.A.VW:(e=new ZC.HQ(t.A),t.A.VW=e,e.copy(A),(C=t.A.o["preview-state"])&&(e.append(C),e.parse())),i||(e.copy(A),(C=t.A.o["preview-state"])&&(e.append(C),e.parse())),e.K=t.K+"-preview",e.DG=t.A.K+"-preview",e.iX=r.iX+r.AU+o*(r.I-2*r.AU),e.iY=r.iY+r.AU+s*(r.F-2*r.AU),e.I=t.I/a.I*(r.I-2*r.AU),e.F=t.F/a.F*(r.F-2*r.AU),r.I/t.A.R.length<10?(e.I=e.I+.5,e.N2=!1,e.D0=!1):(e.N2=!0,e.D0=!0),e.Z=e.C7=n.Z,e.paint()}},A13:function(A){var i=this;if(A=A||"hover",!ZC.move){var e="";switch(i.A.CW){default:e="box";break;case"pyramid":e="shape"}i.M9({layer:A,type:e,initcb:function(){this.A0=i.A.BP[3],this.B8=i.A.BP[1],this.BX=i.A.BP[1],this.AE=i.A.BP[2]},setupcb:function(){switch(i.A.CW){default:this.iX=i.getNodeData("x"),this.iY=i.getNodeData("y"),this.I=i.getNodeData("w"),this.F=i.getNodeData("h");var A=i.C.P;this.iY<A.iY&&(this.F=this.F-(A.iY-this.iY),this.iY=A.iY),this.iY+this.F>A.iY+A.F&&(this.F=A.iY+A.F-this.iY);break;case"pyramid":case"cone":this.D=i.getNodeData("points")}}}),i.N8(ZC.Q.EC(i.C.K+"-hover-c",i.H.AC),!0),i.A.RO=null}}});