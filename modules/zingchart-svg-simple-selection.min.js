/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.15
*/
zingchart.setModule("svg-simple-selection"),function(){var v=[{zcattr:ZC._[0],svgattr:"fill",svgdefault:"none"},{zcattr:"alpha",svgattr:"fill-opacity",svgdefault:"1"},{zcattr:ZC._[61],svgattr:"stroke",svgdefault:"none"},{zcattr:ZC._[62],svgattr:"stroke-width",svgdefault:"0"}],c=ZC.CO._append_;function p(t,e,a,r,i){e["p"+a]=e["p"+a]||{},t.CF["p"+a]=t.CF["p"+a]||{},i?(e["p"+a]["n"+r]=!0,t.CF["p"+a]["n"+r]=!0):(delete e["p"+a]["n"+r],delete t.CF["p"+a]["n"+r]);var n,e="#"+t.K+ZC._[35]+a+"-node-"+r+"-path",s=ZC.A3(e),e="#"+t.K+ZC._[35]+a+"-node-"+r+"-preview-path",l=ZC.A3(e);if(i)for(n=0;n<v.length;n++)i[v[n].zcattr]&&(s.attr("data-"+v[n].svgattr,s.attr(v[n].svgattr)||v[n].svgdefault).attr(v[n].svgattr,i[v[n].zcattr]),l.length)&&l.attr("data-"+v[n].svgattr,l.attr(v[n].svgattr)||v[n].svgdefault).attr(v[n].svgattr,i[v[n].zcattr]);else for(n=0;n<v.length;n++)s.attr("data-"+v[n].svgattr)&&(s.attr(v[n].svgattr,s.attr("data-"+v[n].svgattr)),l.length)&&l.attr(v[n].svgattr,s.attr("data-"+v[n].svgattr))}ZC.CO._append_=function(t,e,a){var r=e.G,i=zingchart.getModules(r);if(-1!==ZC.AV(i,"svg-simple-selection")&&-1!==a.id.indexOf(ZC._[35])){var i=a.id.split(ZC._[35])[0].replace(r.K+"-graph-",""),r=zingchart.getGraph(r,i),n=r.K;if(r&&("vbar"===r.AF||"hbar"===r.AF)&&ZC.SSS&&ZC.SSS[n]){var s,l=ZC.SSS[n].selection;for(s in l){var o=s.replace("p","");if(ZC.SSS[n].defs["series-"+o])for(var d in l["p"+o]){d=d.replace("n","");if(-1!==a.id.indexOf(ZC._[35]+o+"-node-"+d+"-path")||-1!==a.id.indexOf(ZC._[35]+o+"-node-"+d+"-preview-path")){var g=ZC.SSS[n].defs["series-"+o][ZC._[73]];if(g)for(var p=0;p<v.length;p++)g[v[p].zcattr]&&(a.setAttribute("data-"+v[p].svgattr,a.getAttribute(v[p].svgattr)||v[p].svgdefault),a.setAttribute(v[p].svgattr,g[v[p].zcattr]))}}}}}c(t,e,a)},zingchart.bind(null,"load",function(t){for(var e,a,r,i,n,s=zingchart.getLoader(t.id),l=zingchart.exec(t.id,"getgraphlength"),o=0;o<l;o++){var d=zingchart.getGraph(s,o);if(d){var g=d.K;if(ZC.SSS[g]&&ZC.SSS[g].selection)for(e in ZC.SSS[g].selection)if(r=parseInt(e.replace("p",""),10),ZC.SSS[g].defs["series-"+r])for(a in n=ZC.SSS[g].defs["series-"+r][ZC._[73]],ZC.SSS[g].selection[e])i=parseInt(a.replace("n",""),10),p(d,ZC.SSS[g].selection,r,i,n)}}}),zingchart.bind(null,"gcomplete",function(t){var e=zingchart.getLoader(t.id),a=zingchart.getGraph(e,t.graphid),t=zingchart.getModules(e);if(-1!==ZC.AV(t,"svg-simple-selection")&&("vbar"===a.AF||"hbar"===a.AF)){var r,i,n,s,l,o,d,g,p,c=a.K;if(JSON.stringify(a.CF)!==JSON.stringify(ZC.SSS[c].selection)){for(i in r=ZC.SSS[c].selection)for(n in r["p"+(s=i.replace("p",""))])for(l=n.replace("n",""),o="#"+a.K+ZC._[35]+s+"-node-"+l+"-path",d=ZC.A3(o),g="#"+a.K+ZC._[35]+s+"-node-"+l+"-preview-path",p=ZC.A3(g),C=0;C<v.length;C++)d.attr("data-"+v[C].svgattr)&&(d.attr(v[C].svgattr,d.attr("data-"+v[C].svgattr)),p.length)&&p.attr(v[C].svgattr,d.attr("data-"+v[C].svgattr));for(i in ZC.SSS[c].selection={},r=a.CF)for(n in r["p"+(s=i.replace("p",""))])if(l=n.replace("n",""),o="#"+a.K+ZC._[35]+s+"-node-"+l+"-path",d=ZC.A3(o),g="#"+a.K+ZC._[35]+s+"-node-"+l+"-preview-path",p=ZC.A3(g),ZC.SSS[c].defs["series-"+s]){for(var S=ZC.SSS[c].defs["series-"+s][ZC._[73]],C=0;C<v.length;C++)S[v[C].zcattr]&&(d.attr("data-"+v[C].svgattr,d.attr(v[C].svgattr)||v[C].svgdefault).attr(v[C].svgattr,S[v[C].zcattr]),p.length)&&p.attr("data-"+v[C].svgattr,p.attr(v[C].svgattr)||v[C].svgdefault).attr(v[C].svgattr,S[v[C].zcattr]);ZC.SSS[c].selection[i]=ZC.SSS[c].selection[i]||{},ZC.SSS[c].selection[i][n]=!0}}}}),zingchart.bind(null,"dataparse",function(t,e){var a,r=zingchart.getLoader(t.id),r=zingchart.getModules(r);if(-1!==ZC.AV(r,"svg-simple-selection"))for(var i=0,n=e[ZC._[16]].length;i<n;i++){var s=e[ZC._[16]][i],l=(ZC._todash_(s),s.id||"id"+i),l=t.id+"-graph-"+l;if("bar"===s.type||"vbar"===s.type||"hbar"===s.type)for(var o={plot:{"selection-mode":"none","selected-state":{}}},d=s.plot||{},g=((a=d["selection-mode"])&&(o.plot["selection-mode"]=a,s.plot["selection-mode"]="none"),(a=d[ZC._[73]])&&(o.plot[ZC._[73]]={},ZC._cp_(a,o.plot[ZC._[73]])),s[ZC._[11]]||[]),p=0,c=g.length;p<c;p++)g[p]&&(o["series-"+p]={"selection-mode":o.plot["selection-mode"],"selected-state":{}},ZC._cp_(o.plot[ZC._[73]],o["series-"+p][ZC._[73]]),(a=g[p]["selection-mode"])&&(o["series-"+p]["selection-mode"]=a),(a=g[p][ZC._[73]])&&ZC._cp_(a,o["series-"+p][ZC._[73]]),s[ZC._[11]][p]["selection-mode"]="none");ZC.SSS=ZC.SSS||{},ZC.SSS[l]={defs:o,selection:{}}}return e}),zingchart.bind(null,"node_click",function(t){var e=zingchart.getLoader(t.id),a=zingchart.getGraph(e,t.graphid),e=zingchart.getModules(e);if(-1!==ZC.AV(e,"svg-simple-selection")&&("vbar"===a.AF||"hbar"===a.AF)){var r,i,n,s,l=a.K;if(ZC.SSS&&ZC.SSS[l]){var e=t.plotindex,o=ZC.SSS[l].selection;if(e=ZC.SSS[l].defs["series-"+e]){var d=e["selection-mode"],e=e[ZC._[73]],g=!1;if(!(g=o["p"+t.plotindex]&&o["p"+t.plotindex]["n"+t.nodeindex]?!0:g))switch(d){case"plot":if(o["p"+t.plotindex])for(r in o["p"+t.plotindex])n=r.replace("n",""),p(a,o,t.plotindex,n,null);break;case"graph":for(i in o)if(s=i.replace("p",""),ZC.SSS[l].defs["series-"+s]&&"graph"===ZC.SSS[l].defs["series-"+s]["selection-mode"])for(r in o["p"+s])p(a,o,s,n=r.replace("n",""),null)}p(a,o,t.plotindex,t.nodeindex,g?null:e)}}}})}();