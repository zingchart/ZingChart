/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.2_ES6
*/
zingchart.setModule("dragging"),zingchart.bind(null,"node_mouseout",function(){document.body.style.cursor="default"}),zingchart.bind(null,"node_mouseup",function(){document.body.style.cursor="default"}),zingchart.bind(null,"node_click",function(){document.body.style.cursor="default"}),zingchart.bind(null,"node_mousedown",function(e){var a=zingchart.getLoader(e.id),t=(zingchart.getGraph(a,e.graphid),zingchart.getModules(a));if(-1!==ZC.AV(t,"dragging")){e.ev.preventDefault();var n,i=e.ev.shiftKey,d=!0,l=!1,g=0,r=0,o=0,c=0,s=0,u=e.plotindex,p=e.nodeindex,h=e.value,x=[],v=zingchart.getGraph(a,e.graphid).getData(),m={};v.options&&(m=v.options.dragging||v.options);var z=zingchart.exec(e.id,"getobjectinfo",{object:"plot",plotindex:e.plotindex});if(z.xdata.dragging){var f=0;typeof m[ZC._[12]]!==ZC._[31]&&(f=parseInt(m[ZC._[12]],10)),typeof z.xdata["dragging-decimals"]!==ZC._[31]&&(f=parseInt(z.xdata["dragging-decimals"],10));var b=null;typeof z.xdata["dragging-min-value"]!==ZC._[31]&&(b=parseFloat(z.xdata["dragging-min-value"])),typeof z.xdata["dragging-max-value"]!==ZC._[31]&&(b=parseFloat(z.xdata["dragging-max-value"]));for(var _=0;_<z.scales.length;_++)-1===z.scales[_].indexOf(ZC._[51])&&-1===z.scales[_].indexOf(ZC._[52])||(n=z.scales[_]);switch(z.type){case"hbar":case"hbar3d":case"hbullet":document.body.style.cursor="ew-resize";break;case"pie":case"nestedpie":case"pie3d":case"radar":document.body.style.cursor="move";break;default:document.body.style.cursor="ns-resize"}if(-1===ZC.AV(["pie","pie3d","nestedpie"],z.type))var y=zingchart.exec(e.id,"getobjectinfo",{object:"scale",name:n});x=[].concat(zingchart.exec(e.id,"getseriesvalues",{plotindex:e.plotindex})),zingchart.SKIP.LEGEND=!0;var C=ZC._[20],Z=function(t){d?(r=t.pageX,g=t.pageY,d=!1):(o=t.pageX-r,c=g-t.pageY),t.pageX,t.pageY,e.ev.pageX,e.ev.pageY,function(){switch(z.type){case"hbar":case"hbullet":case"hbar3d":s=o,c=0,C=ZC._[19];break;case"pie":case"nestedpie":case"pie3d":case"radar":s=(o+c)/2;break;default:s=c,o=0}if(Math.abs(s)>1){l=!0,zingchart.exec(e.id,"setmode",{mode:"static"});var t=zingchart.exec(e.id,"getselection");if(h=-1!==ZC.AV(["pie","pie3d","nestedpie"],z.type)?Math.max(0===f?1:1/f,parseFloat(e.value+s)):z.stacked&&"100%"===z.stackType?parseFloat((e.value+100*s/y[C]).toFixed(f)):parseFloat((e.value+(y.maxValue-y.minValue)*s/y[C]).toFixed(f)),i){for(var n=[],d=0;d<x.length;d++)null===ZC._n_(t)||null===ZC._n_(t[e.plotindex])||null!==ZC._n_(t[e.plotindex])&&-1!==ZC.AV(t[e.plotindex],d)?z.stacked&&"100%"===z.stackType?n[d]=parseFloat((x[d]+100*s/y[C]).toFixed(f)):n[d]=parseFloat((x[d]+(y.maxValue-y.minValue)*s/y[C]).toFixed(f)):n[d]=x[d],null!==ZC._n_(b)&&(n[d]=Math.max(n[d],b)),null!==ZC._n_(null)&&(n[d]=Math.min(n[d],null));zingchart.exec(e.id,"setseriesvalues",{plotindex:e.plotindex,values:n}),e["zingchart.plugins.dragging.update.type"]="plot",e["zingchart.plugins.dragging.update.values"]=n,zingchart.fireEvent("zingchart.plugins.dragging.update",a,e)}else null!==ZC._n_(b)&&(h=Math.max(h,b)),null!==ZC._n_(null)&&(h=Math.min(h,null)),zingchart.exec(e.id,"setnodevalue",{plotindex:e.plotindex,nodeindex:e.nodeindex,value:h}),e["zingchart.plugins.dragging.update.type"]="node",e["zingchart.plugins.dragging.update.value"]=h,zingchart.fireEvent("zingchart.plugins.dragging.update",a,e);zingchart.exec(e.id,"showtooltip",e)}}()};ZC.A4(document.body).bind(ZC._[48],Z),ZC.A4(document.body).bind(ZC._[49],function(){ZC.A4(document.body).unbind(ZC._[48],Z),l&&(d=!0,zingchart.SKIP.LEGEND=!1,zingchart.exec(e.id,"setmode",{mode:""}),i?zingchart.exec(e.id,"update",{}):zingchart.exec(e.id,"setnodevalue",{plotindex:u,nodeindex:p,value:h}),zingchart.fireEvent("zingchart.plugins.dragging.complete",a,e),document.body.style.cursor="default"),l=!1})}}});