/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.16-hf1
*/
ZC.WJ.push("scalemarkers");var A0N={$i:function(e){this.b(e);var i=this;i.C6=.95,i.L=0,i.AF=null,i.M=null,i.FA=null,i.A64=!1,i.BA="bottom",i.A9=0,i.BU=0,i.MM="normal",i.O9="normal",i.KE=[5,5],i.A0C=[0,0],i.YQ=""},parse:function(){this.b();var e,i=this;i.assign_a([["type","AF"],["value-range","A64","b"],["offset-start","A9","i"],["offset-end","BU","i"],["placement","BA"],["pair-scale","YQ"],["label-placement","MM"],["label-alignment","O9"],["range","FA"]]),null===ZC._n_(i.o.alpha)&&(i.o.alpha="area"===i.AF?.25:.95),null!==ZC._n_(e=i.o["label-tolerance"])&&("object"==typeof e&&e.length?(i.KE[0]=ZC._i_(e[0]||"5"),i.KE[1]=ZC._i_(e[1]||"5")):i.KE[0]=i.KE[1]=ZC._i_(e||"5")),i.assign_a([["alpha","C6","f",0,1]]),null===ZC._n_(e=i.o.label)&&null===ZC._n_(i.o.text)||(i.M=new ZC.DN(i),i.A.A.A.B6.load(i.M.o,["("+i.A.AF+").SCALE.marker.label"]),null!==ZC._n_(i.o.text)&&i.M.append({text:i.o.text}),i.M.append(e),i.M.parse(),i.A0C=[i.M.BK,i.M.BJ])},paint:function(){var e,i,A,M,l,a,n,t,s=this;if(s.FA)if(-1===s.A.BD.indexOf("scale-r")){if(s.AP){var o,C,p,B,r=s.A,F=s.A.A.N.AU,c=r.A.K+"-scales-"+("top"===s.BA?"f":"b")+"l-0-c";s.Z=s.C8=ZC.AM(r.G.usc()?r.G.K+"-main-c":c),e=ZC.Q.EE(s.Z,r.G.AC),a=[];var Z,h=0,K=0;s.BK>-1&&s.BK<1&&(s.BK=Math.ceil(s.BK*r.AA)),s.BJ>-1&&s.BJ<1&&(s.BJ=Math.ceil(s.BJ*r.AA)),s.M&&(s.M.Z=r.G.usc()?r.G.mc():ZC.AM(r.A.K+"-scales-ml-0-c"),s.M.K=s.A.A.K+"-"+s.A.BD.replace(/\-/g,"_")+"-marker_"+s.L,s.M.GN=s.A.K+"-marker-label "+s.A.A.K+"-scale-marker-label zc-scale-marker-label");var f=s.A.A,E=function(e,i){var A;return-1!==(i+"").indexOf("%")?(A=ZC._f_(i.replace("%","")),A="k"===e.AF?ZC._i_(A*(e.DQ-e.D4)/100):A*(e.GW-e.FP)/100):A=i,s.A64||"v"===e.AF?e.AR(A):e.II(A)};if("poly"===s.AF){var X,Y,g,N;for(f=s.A.A,"k"===r.AF?(X=r,Y=""===s.YQ?f.BW("v")[0]:f.BM(s.YQ)||f.BW("v")[0]):"v"===r.AF&&(Y=r,X=""===s.YQ?f.BW("k")[0]:f.BM(s.YQ)||f.BW("k")[0]),n=0,t=s.FA.length;n<t;n++)g=E(X,s.FA[n][0]),N=Y.AR(s.FA[n][1]),a.push([g,N]),h+=g,K+=N;if(h/=a.length,K/=a.length,a.length>=3){if(a[0].join("/")!==a[a.length-1].join("/")&&a.push([a[0][0],a[0][1]]),r.A.AJ["3d"])for(r.A.O7(),A=0,M=a.length;A<M;A++)l=new ZC.CE(r.A,a[A][0]-ZC.AN.E1,a[A][1]-ZC.AN.E2,ZC.AN.FE),a[A][0]=l.EC[0],a[A][1]=l.EC[1];(Z=new ZC.DT(s.A)).K=r.K+"-marker-"+s.L,Z.Z=Z.C8=r.G.usc()?r.G.mc():ZC.AM(c),"canvas"===r.G.AC&&(i=Z.Z.getContext("2d")),Z.copy(s),Z.B1=0,Z.AU=0,Z.EU=0,Z.G3=0,Z.D=a,Z.parse(),"canvas"===r.G.AC&&(i.save(),i.beginPath(),i.rect(f.N.iX-2,f.N.iY-2,f.N.I+4,f.N.F+4),i.clip()),Z.paint(),"canvas"===r.G.AC&&i.restore()}}else if("line"===s.AF){if(-1!==r.BD.indexOf("scale-x")?1===s.FA.length?o=C=E(r,s.FA[0]):2===s.FA.length&&(o=E(r,s.FA[0]),C=E(r,s.FA[1])):-1!==r.BD.indexOf("scale-y")&&(1===s.FA.length?o=C=E(r,s.FA[0]):2===s.FA.length&&(o=E(r,s.FA[0]),C=E(r,s.FA[1]))),-1!==r.BD.indexOf("scale-x")&&r.CM||-1!==r.BD.indexOf("scale-y")&&!r.CM){if(a.push([r.iX+s.A9,o],[r.iX+r.I-s.BU,C]),s.o&&s.o.tooltip){f.o.labels=f.o.labels||[];for(var d=r.BD.replace(/\-/g,"")+"marker"+this.L,D=0;D<f.o.labels.length;D++)f.o.labels[D].id&&f.o.labels[D].id===d&&f.o.labels.splice(D,1);f.o.labels.push({id:d,cls:"zcScaleMarkerLabel",x:r.iX,y:o-s.B1,width:r.I,height:2*s.B1,alpha:0,tooltip:s.o.tooltip})}s.M&&("opposite"===s.MM?s.M.iX=r.iX+r.I-s.M.I-s.BU:s.M.iX=r.iX+s.A9,"opposite"===s.MM?s.M.iY=C-(r.AX?0:s.M.F):s.M.iY=o-(r.AX?0:s.M.F))}else{if(a.push([o,r.iY+r.F-s.A9],[C,r.iY+s.BU]),s.o&&s.o.tooltip){f.o.labels=f.o.labels||[];for(d=r.BD.replace(/\-/g,"")+"marker"+this.L,D=0;D<f.o.labels.length;D++)f.o.labels[D].id&&f.o.labels[D].id===d&&f.o.labels.splice(D,1);f.o.labels.push({id:d,cls:"zcScaleMarkerLabel",x:o-s.B1,y:r.iY,width:2*s.B1,height:r.F,alpha:0,tooltip:s.o.tooltip})}s.M&&("opposite"===s.MM?s.M.iX=C-(r.AX?s.M.I:0):s.M.iX=o-(r.AX?s.M.I:0),"opposite"===s.MM?s.M.iY=r.iY+s.M.I-s.M.F+s.BU:s.M.iY=r.iY+r.F-s.M.F-s.A9)}if(r.A.AJ["3d"])for(r.A.O7(),A=0,M=a.length;A<M;A++)l=new ZC.CE(r.A,a[A][0]-ZC.AN.E1,a[A][1]-ZC.AN.E2,ZC.AN.FE),a[A][0]=l.EC[0],a[A][1]=l.EC[1];2===a.length&&("canvas"===r.G.AC&&(e.save(),e.beginPath(),e.rect(f.N.iX-2,f.N.iY-2,f.N.I+4,f.N.F+4),e.clip()),ZC.CO.setup(e,s),ZC.CO.paint(e,s,a),"canvas"===r.G.AC&&e.restore())}else if("area"===s.AF){if(-1!==r.BD.indexOf("scale-x")?2===s.FA.length?(o=p=E(r,s.FA[0]),C=B=E(r,s.FA[1])):4===s.FA.length&&(o=E(r,s.FA[0]),C=E(r,s.FA[1]),p=E(r,s.FA[2]),B=E(r,s.FA[3])):-1!==r.BD.indexOf("scale-y")&&(2===s.FA.length?(o=p=r.AR(s.FA[0]),C=B=r.AR(s.FA[1])):4===s.FA.length&&(o=r.AR(s.FA[0]),C=r.AR(s.FA[1]),p=r.AR(s.FA[2]),B=r.AR(s.FA[3]))),C=o===C?C+1:C,B=p===B?B+1:B,-1!==r.BD.indexOf("scale-x")&&r.CM||-1!==r.BD.indexOf("scale-y")&&!r.CM?(a.push([r.iX+F,o],[r.iX+r.I-F,p],[r.iX+r.I-F,B],[r.iX+F,C],[r.iX+F,o]),s.M&&("opposite"===s.MM?s.M.iX=r.iX+r.I-s.M.I-s.BU:s.M.iX=r.iX+s.A9,"opposite"===s.MM?s.M.iY=C-(r.AX?0:s.M.F):s.M.iY=o-(r.AX?0:s.M.F))):(a.push([o,r.iY+r.F-F],[p,r.iY+F],[B,r.iY+F],[C,r.iY+r.F-F],[o,r.iY+r.F-F]),s.M&&("opposite"===s.MM?s.M.iX=C-(r.AX?s.M.I:0):s.M.iX=o-(r.AX?s.M.I:0),"opposite"===s.MM?s.M.iY=r.iY+s.M.I-s.M.F+s.BU:s.M.iY=r.iY+r.F-s.M.F-s.A9)),a.length>=4){if(r.A.AJ["3d"])for(r.A.O7(),A=0,M=a.length;A<M;A++)l=new ZC.CE(r.A,a[A][0]-ZC.AN.E1,a[A][1]-ZC.AN.E2,ZC.AN.FE),a[A][0]=l.EC[0],a[A][1]=l.EC[1];(Z=new ZC.DT(s.A)).K=r.K+"-marker-"+s.L,Z.Z=Z.C8=r.G.usc()?r.G.mc():ZC.AM(c),"canvas"===r.G.AC&&(i=Z.Z.getContext("2d")),Z.copy(s),Z.B1=0,Z.AU=0,Z.EU=0,Z.G3=0,Z.D=a,Z.parse(),Z.BK=s.BK,Z.BJ=s.BJ,"canvas"===r.G.AC&&(i.save(),i.beginPath(),i.rect(f.N.iX-2,f.N.iY-2,f.N.I+4,f.N.F+4),i.clip()),Z.paint(),"canvas"===r.G.AC&&i.restore()}}else s.M=null;var x=!0,I=r.A.N;2===a.length&&(-1!==r.BD.indexOf("scale-x")&&r.CM||-1!==r.BD.indexOf("scale-y")&&!r.CM?ZC.DS(a[0][1],I.iY-s.KE[1],I.iY+I.F+s.KE[1])&&ZC.DS(a[1][1],I.iY-s.KE[1],I.iY+I.F+s.KE[1])||(x=!1):ZC.DS(a[0][0],I.iX-s.KE[0],I.iX+I.I+s.KE[0])&&ZC.DS(a[1][0],I.iX-s.KE[0],I.iX+I.I+s.KE[0])||(x=!1));var b=s.O9;if(s.M&&x&&("poly"===s.AF?(s.M.iX=ZC._i_(h-s.M.I/2),s.M.iY=ZC._i_(K-s.M.F/2)):("auto"===s.O9&&(b=-1!==r.BD.indexOf("scale-x")&&!r.CM||-1!==r.BD.indexOf("scale-y")&&r.CM?o<r.iX+r.I/2?"normal":"opposite":o>r.iY+r.F/2?"normal":"opposite"),s.M.BK=s.M.BJ=0,(-1!==r.BD.indexOf("scale-x")&&!r.CM||-1!==r.BD.indexOf("scale-y")&&r.CM)&&null===ZC._n_(s.M.o.angle)&&(s.M.AB=270),-1!==r.BD.indexOf("scale-x")&&!r.CM||-1!==r.BD.indexOf("scale-y")&&r.CM?(s.M.AB%180==90&&(s.M.BK-=(r.AX?-1:1)*(s.M.I/2-s.M.F/2),s.M.BJ-=s.M.I/2-s.M.F/2,"opposite"===s.MM&&(s.M.BJ=-s.M.I/2+s.M.F/2),"opposite"===b&&(s.M.BK-=s.M.F)),s.M.AB%180==0&&("opposite"===s.MM&&(s.M.BJ=-s.M.I+s.M.F),"opposite"===b&&(s.M.BK-=s.M.I))):(s.M.AB%180==90&&(s.M.BK-=s.M.I/2-s.M.F/2,s.M.BJ-=(r.AX?-1:1)*(s.M.I/2-s.M.F/2),"opposite"===s.MM&&(s.M.BK=s.M.I/2-s.M.F/2),"opposite"===b&&(s.M.BJ+=s.M.I)),s.M.AB%180==0&&"opposite"===b&&(s.M.BJ+=s.M.F)),s.M.BK+=s.A0C[0]+s.BK,s.M.BJ+=s.A0C[1]+s.BJ),r.A.AJ["3d"]&&(l=new ZC.CE(r.A,s.M.iX-ZC.AN.E1,s.M.iY-ZC.AN.E2,ZC.AN.FE),s.M.iX=l.EC[0],s.M.iY=l.EC[1]),ZC.DS(s.M.iX+s.M.I/2+s.M.BK,s.A.A.N.iX-s.KE[0],s.A.A.N.iX+s.A.A.N.I+s.KE[0])&&ZC.DS(s.M.iY+s.M.F/2+s.M.BJ,s.A.A.N.iY-s.KE[1],s.A.A.N.iY+s.A.A.N.F+s.KE[1])&&(s.M.paint(),s.M.EP(),!s.M.KK&&"normal"===zingchart.OBJECTMODE&&(r.E["marker_text_"+s.L]=s.M.AK,ZC.AM(f.A.K+"-map"))))){var _=ZC.AO.OB(f.G.K,f.K,s.M);ZC.AM(f.A.K+"-map").innerHTML=ZC.AM(f.A.K+"-map").innerHTML+_}}}else s.A.paintMarker(s)}};ZC.A0N=ZC.DT.CD(A0N);