/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.15
*/
ZC.WJ.push("scalemarkers");var A0N={$i:function(i){this.b(i);i=this;i.C5=.95,i.L=0,i.AF=null,i.M=null,i.FA=null,i.A64=!1,i.BA="bottom",i.A9=0,i.BU=0,i.MM="normal",i.O9="normal",i.KF=[5,5],i.A0C=[0,0],i.YQ=""},parse:function(){this.b();var i,A=this;A.assign_a([["type","AF"],["value-range","A64","b"],["offset-start","A9","i"],["offset-end","BU","i"],[ZC._[7],"BA"],["pair-scale","YQ"],["label-placement","MM"],["label-alignment","O9"],["range","FA"]]),null===ZC._n_(A.o.alpha)&&(A.o.alpha="area"===A.AF?.25:.95),null!==ZC._n_(i=A.o["label-tolerance"])&&("object"==typeof i&&i.length?(A.KF[0]=ZC._i_(i[0]||"5"),A.KF[1]=ZC._i_(i[1]||"5")):A.KF[0]=A.KF[1]=ZC._i_(i||"5")),A.assign_a([["alpha","C5","f",0,1]]),null===ZC._n_(i=A.o.label)&&null===ZC._n_(A.o.text)||(A.M=new ZC.DQ(A),A.A.A.A.B6.load(A.M.o,["("+A.A.AF+").SCALE.marker.label"]),null!==ZC._n_(A.o.text)&&A.M.append({text:A.o.text}),A.M.append(i),A.M.parse(),A.A0C=[A.M.BK,A.M.BJ])},paint:function(){var i,A,e,M,C,a,n,t=this;if(t.FA)if(-1!==t.A.BD.indexOf("scale-r"))t.A.paintMarker(t);else if(t.AP){var o,l,F,p=t.A,Z=t.A.A.P.AU,B=p.A.K+"-scales-"+("top"===t.BA?"f":"b")+"l-0-c",s=(t.Z=t.C8=ZC.AL(p.G.usc()?p.G.K+"-main-c":B),d=ZC.Q.EE(t.Z,p.G.AB),C=[],0),r=0,_=(-1<t.BK&&t.BK<1&&(t.BK=Math.ceil(t.BK*p.AD)),-1<t.BJ&&t.BJ<1&&(t.BJ=Math.ceil(t.BJ*p.AD)),t.M&&(t.M.Z=p.G.usc()?p.G.mc():ZC.AL(p.A.K+"-scales-ml-0-c"),t.M.K=t.A.A.K+"-"+t.A.BD.replace(/\-/g,"_")+"-marker_"+t.L,t.M.GN=t.A.K+"-marker-label "+t.A.A.K+"-scale-marker-label zc-scale-marker-label"),t.A.A),c=function(i,A){var e=-1!==(A+"").indexOf("%")?(e=ZC._f_(A.replace("%","")),"k"===i.AF?ZC._i_(e*(i.DP-i.D4)/100):e*(i.GW-i.FQ)/100):A;return t.A64||"v"===i.AF?i.AR(e):i.II(e)};if("poly"===t.AF){var h,K,f,Y,_=t.A.A;for("k"===p.AF?(h=p,K=""!==t.YQ&&_.BM(t.YQ)||_.BW("v")[0]):"v"===p.AF&&(K=p,h=""!==t.YQ&&_.BM(t.YQ)||_.BW("k")[0]),a=0,n=t.FA.length;a<n;a++)f=c(h,t.FA[a][0]),Y=K.AR(t.FA[a][1]),C.push([f,Y]),s+=f,r+=Y;if(s/=C.length,r/=C.length,3<=C.length){if(C[0].join("/")!==C[C.length-1].join("/")&&C.push([C[0][0],C[0][1]]),p.A.AJ["3d"])for(p.A.O7(),A=0,e=C.length;A<e;A++)M=new ZC.CE(p.A,C[A][0]-ZC.AM.E1,C[A][1]-ZC.AM.E2,ZC.AM.FE),C[A][0]=M.EC[0],C[A][1]=M.EC[1];(F=new ZC.DT(t.A)).K=p.K+"-marker-"+t.L,F.Z=F.C8=p.G.usc()?p.G.mc():ZC.AL(B),"canvas"===p.G.AB&&(i=F.Z.getContext("2d")),F.copy(t),F.B1=0,F.AU=0,F.EU=0,F.G3=0,F.D=C,F.parse(),"canvas"===p.G.AB&&(i.save(),i.beginPath(),i.rect(_.P.iX-2,_.P.iY-2,_.P.I+4,_.P.F+4),i.clip()),F.paint(),"canvas"===p.G.AB&&i.restore()}}else if("line"===t.AF){if((-1!==p.BD.indexOf(ZC._[50])||-1!==p.BD.indexOf(ZC._[51]))&&(1===t.FA.length?o=l=c(p,t.FA[0]):2===t.FA.length&&(o=c(p,t.FA[0]),l=c(p,t.FA[1]))),-1!==p.BD.indexOf(ZC._[50])&&p.CM||-1!==p.BD.indexOf(ZC._[51])&&!p.CM){if(C.push([p.iX+t.A9,o],[p.iX+p.I-t.BU,l]),t.o&&t.o.tooltip){_.o[ZC._[10]]=_.o[ZC._[10]]||[];for(var D=p.BD.replace(/\-/g,"")+"marker"+this.L,g=0;g<_.o[ZC._[10]].length;g++)_.o[ZC._[10]][g].id&&_.o[ZC._[10]][g].id===D&&_.o[ZC._[10]].splice(g,1);_.o[ZC._[10]].push({id:D,cls:"zcScaleMarkerLabel",x:p.iX,y:o-t.B1,width:p.I,height:2*t.B1,alpha:0,tooltip:t.o.tooltip})}t.M&&("opposite"===t.MM?t.M.iX=p.iX+p.I-t.M.I-t.BU:t.M.iX=p.iX+t.A9,"opposite"===t.MM?t.M.iY=l-(p.AW?0:t.M.F):t.M.iY=o-(p.AW?0:t.M.F))}else{if(C.push([o,p.iY+p.F-t.A9],[l,p.iY+t.BU]),t.o&&t.o.tooltip){_.o[ZC._[10]]=_.o[ZC._[10]]||[];for(D=p.BD.replace(/\-/g,"")+"marker"+this.L,g=0;g<_.o[ZC._[10]].length;g++)_.o[ZC._[10]][g].id&&_.o[ZC._[10]][g].id===D&&_.o[ZC._[10]].splice(g,1);_.o[ZC._[10]].push({id:D,cls:"zcScaleMarkerLabel",x:o-t.B1,y:p.iY,width:2*t.B1,height:p.F,alpha:0,tooltip:t.o.tooltip})}t.M&&("opposite"===t.MM?t.M.iX=l-(p.AW?t.M.I:0):t.M.iX=o-(p.AW?t.M.I:0),"opposite"===t.MM?t.M.iY=p.iY+t.M.I-t.M.F+t.BU:t.M.iY=p.iY+p.F-t.M.F-t.A9)}if(p.A.AJ["3d"])for(p.A.O7(),A=0,e=C.length;A<e;A++)M=new ZC.CE(p.A,C[A][0]-ZC.AM.E1,C[A][1]-ZC.AM.E2,ZC.AM.FE),C[A][0]=M.EC[0],C[A][1]=M.EC[1];2===C.length&&("canvas"===p.G.AB&&(d.save(),d.beginPath(),d.rect(_.P.iX-2,_.P.iY-2,_.P.I+4,_.P.F+4),d.clip()),ZC.CO.setup(d,t),ZC.CO.paint(d,t,C),"canvas"===p.G.AB)&&d.restore()}else if("area"===t.AF&&(-1!==p.BD.indexOf(ZC._[50])?2===t.FA.length?(o=I=c(p,t.FA[0]),l=X=c(p,t.FA[1])):4===t.FA.length&&(o=c(p,t.FA[0]),l=c(p,t.FA[1]),I=c(p,t.FA[2]),X=c(p,t.FA[3])):-1!==p.BD.indexOf(ZC._[51])&&(2===t.FA.length?(o=I=p.AR(t.FA[0]),l=X=p.AR(t.FA[1])):4===t.FA.length&&(o=p.AR(t.FA[0]),l=p.AR(t.FA[1]),I=p.AR(t.FA[2]),X=p.AR(t.FA[3]))),l=o===l?l+1:l,X=I===X?X+1:X,-1!==p.BD.indexOf(ZC._[50])&&p.CM||-1!==p.BD.indexOf(ZC._[51])&&!p.CM?(C.push([p.iX+Z,o],[p.iX+p.I-Z,I],[p.iX+p.I-Z,X],[p.iX+Z,l],[p.iX+Z,o]),t.M&&("opposite"===t.MM?t.M.iX=p.iX+p.I-t.M.I-t.BU:t.M.iX=p.iX+t.A9,"opposite"===t.MM?t.M.iY=l-(p.AW?0:t.M.F):t.M.iY=o-(p.AW?0:t.M.F))):(C.push([o,p.iY+p.F-Z],[I,p.iY+Z],[X,p.iY+Z],[l,p.iY+p.F-Z],[o,p.iY+p.F-Z]),t.M&&("opposite"===t.MM?t.M.iX=l-(p.AW?t.M.I:0):t.M.iX=o-(p.AW?t.M.I:0),"opposite"===t.MM?t.M.iY=p.iY+t.M.I-t.M.F+t.BU:t.M.iY=p.iY+p.F-t.M.F-t.A9)),4<=C.length)){if(p.A.AJ["3d"])for(p.A.O7(),A=0,e=C.length;A<e;A++)M=new ZC.CE(p.A,C[A][0]-ZC.AM.E1,C[A][1]-ZC.AM.E2,ZC.AM.FE),C[A][0]=M.EC[0],C[A][1]=M.EC[1];(F=new ZC.DT(t.A)).K=p.K+"-marker-"+t.L,F.Z=F.C8=p.G.usc()?p.G.mc():ZC.AL(B),"canvas"===p.G.AB&&(i=F.Z.getContext("2d")),F.copy(t),F.B1=0,F.AU=0,F.EU=0,F.G3=0,F.D=C,F.parse(),F.BK=t.BK,F.BJ=t.BJ,"canvas"===p.G.AB&&(i.save(),i.beginPath(),i.rect(_.P.iX-2,_.P.iY-2,_.P.I+4,_.P.F+4),i.clip()),F.paint(),"canvas"===p.G.AB&&i.restore()}var d=!0,I=p.A.P,X=(2===C.length&&(-1!==p.BD.indexOf(ZC._[50])&&p.CM||-1!==p.BD.indexOf(ZC._[51])&&!p.CM?ZC.DS(C[0][1],I.iY-t.KF[1],I.iY+I.F+t.KF[1])&&ZC.DS(C[1][1],I.iY-t.KF[1],I.iY+I.F+t.KF[1])||(d=!1):ZC.DS(C[0][0],I.iX-t.KF[0],I.iX+I.I+t.KF[0])&&ZC.DS(C[1][0],I.iX-t.KF[0],I.iX+I.I+t.KF[0])||(d=!1)),t.O9);t.M&&d&&("poly"===t.AF?(t.M.iX=ZC._i_(s-t.M.I/2),t.M.iY=ZC._i_(r-t.M.F/2)):("auto"===t.O9&&(X=-1!==p.BD.indexOf(ZC._[50])&&!p.CM||-1!==p.BD.indexOf(ZC._[51])&&p.CM?o<p.iX+p.I/2?"normal":"opposite":o>p.iY+p.F/2?"normal":"opposite"),t.M.BK=t.M.BJ=0,(-1!==p.BD.indexOf(ZC._[50])&&!p.CM||-1!==p.BD.indexOf(ZC._[51])&&p.CM)&&null===ZC._n_(t.M.o.angle)&&(t.M.AA=270),-1!==p.BD.indexOf(ZC._[50])&&!p.CM||-1!==p.BD.indexOf(ZC._[51])&&p.CM?(t.M.AA%180==90&&(t.M.BK-=(p.AW?-1:1)*(t.M.I/2-t.M.F/2),t.M.BJ-=t.M.I/2-t.M.F/2,"opposite"===t.MM&&(t.M.BJ=-t.M.I/2+t.M.F/2),"opposite"===X)&&(t.M.BK-=t.M.F),t.M.AA%180==0&&("opposite"===t.MM&&(t.M.BJ=-t.M.I+t.M.F),"opposite"===X)&&(t.M.BK-=t.M.I)):(t.M.AA%180==90&&(t.M.BK-=t.M.I/2-t.M.F/2,t.M.BJ-=(p.AW?-1:1)*(t.M.I/2-t.M.F/2),"opposite"===t.MM&&(t.M.BK=t.M.I/2-t.M.F/2),"opposite"===X)&&(t.M.BJ+=t.M.I),t.M.AA%180==0&&"opposite"===X&&(t.M.BJ+=t.M.F)),t.M.BK+=t.A0C[0]+t.BK,t.M.BJ+=t.A0C[1]+t.BJ),p.A.AJ["3d"]&&(M=new ZC.CE(p.A,t.M.iX-ZC.AM.E1,t.M.iY-ZC.AM.E2,ZC.AM.FE),t.M.iX=M.EC[0],t.M.iY=M.EC[1]),ZC.DS(t.M.iX+t.M.I/2+t.M.BK,t.A.A.P.iX-t.KF[0],t.A.A.P.iX+t.A.A.P.I+t.KF[0]))&&ZC.DS(t.M.iY+t.M.F/2+t.M.BJ,t.A.A.P.iY-t.KF[1],t.A.A.P.iY+t.A.A.P.F+t.KF[1])&&(t.M.paint(),t.M.EO(),t.M.KD||"normal"!==zingchart.OBJECTMODE||(p.E["marker_text_"+t.L]=t.M.AN,ZC.AL(_.A.K+"-map")&&(Z=ZC.AO.OB(_.G.K,_.K,t.M),ZC.AL(_.A.K+"-map").innerHTML=ZC.AL(_.A.K+"-map").innerHTML+Z)))}}};ZC.A0N=ZC.DT.CD(A0N);