/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.15
*/
ZC.WJ.push("pie3d"),ZC.A5C=ZC.A3U.CD({$i:function(C){this.b(C);C=this;C.AF="pie3d",C.AY=new ZC.A88(C),C.CN=new ZC.ST,C.AJ["3d"]=!0,C.AJ[ZC._[55]]=!1,C.AJ["x-angle-min"]=15,C.AJ["x-angle-max"]=75,C.AJ["y-angle-min"]=0,C.AJ["y-angle-max"]=0,C.AJ["z-angle-min"]=0,C.AJ["z-angle-max"]=0},clear:function(){this.b(),this.CN.clear()},paint:function(){var C=this;C.b(),C.SI(),C.flatten(),C.Q6(),C.FB.length&&(C.CN.clear(),C.KM(),C.SI()),-1===ZC.AV(C.G.KQ,ZC._[41])&&C.S5()}}),ZC.A88=ZC.A58.CD({ACU:function(){return new ZC.XK(this)}}),ZC.XK=ZC.W9.CD({$i:function(C){this.b(C);this.AF="pie3d",this.JK=-1},parse:function(){this.b(),this.assign_a([["thickness","JK","ia"]])},U2:function(){return new ZC.A7M(this)}}),ZC.A7M=ZC.LM.CD({bCXY:!0,U:null,$i:function(C){this.b(C)},parse:function(){this.b()},AB2:function(){this.b();var C=this.C.E;C.update.npv=C.update["node-percent-value"]=this.K2("%npv")},K2:function(C,A,n,Z){var t=this,i=t.A.MU(),e=(ZC._cp_(A,i),-1===C.indexOf("%npv")&&-1===C.indexOf("%node-percent-value")||null!==ZC._n_(i[ZC._[12]])&&-1!==i[ZC._[12]]||(i[ZC._[12]]=1),0),o="0";if(0<t.A.A.KP[t.L]&&(o=""+(e=100*t.AC/t.A.A.KP[t.L])),1<t.A.A.A4.length&&t.A.L===t.A.A.A4.length-1){var a=0;if(null===ZC._n_(t.A.o.totals)){for(var E,_,s=0;s<t.A.A.A4.length-1;s++)t.A.A.A4[s].AP&&null!==ZC._n_(t.A.A.A4[s].S[t.L])&&(_="0",(E=0)<t.A.A.KP[t.L]&&(_=""+(E=100*t.A.A.A4[s].S[t.L].AC/t.A.A.KP[t.L])),null!==ZC._n_(i[ZC._[12]])&&(_=E.toFixed(ZC.BR(0,ZC._i_(i[ZC._[12]])))),a+=ZC._f_(_));o=""+(e=Math.max(0,100-a))}}null!==ZC._n_(i[ZC._[12]])&&(o=e.toFixed(ZC.BR(0,ZC._i_(i[ZC._[12]]))));e=ZC._f_(t.A.A.KP[t.L]||"0"),e=ZC.AO.G5(e,i,t.A);return t.CA=[["%node-percent-value",o],["%npv",o],["%pie-total-value",e]],C=t.b(C,A,n,Z)},V7:function(C){var A=this,n=(A.B4+A.BL)/2%360,Z=0;(Z=null!==ZC._n_(C=C["offset-r"])?ZC._f_(ZC._p_(C)):Z)<1&&(Z*=A.AI);C=new ZC.CE(A.C,(A.CP+.5*(A.AI-A.CP)+A.DX+Z)*ZC.EF(n),(A.CP+.5*(A.AI-A.CP)+A.DX+Z)*ZC.EL(n),0).EC;return[C[0],C[1],{reference:A,center:!0}]},setup:function(){var C=this,A=C.C.BM(C.A.BW("k")[0]),n=C.L%A.H7,Z=Math.floor(C.L/A.H7);C.iX=A.iX+n*A.GM+A.GM/2+A.BK,C.iY=A.iY+Z*A.GH+A.GH/2+A.BJ,C.I3||(C.copy(C.A),C.E6=C.A.E6,C.DG()&&C.parse(),C.I3=!0)},ABE:function(C){var A={},n="out";return null!==ZC._n_(C.o[ZC._[7]])&&(n=C.o[ZC._[7]]),A.color="out"===n?this.A0:this.C2,A},AC6:function(Z){var C,A,n,t,i=this,e="out",o=(null!==ZC._n_(E=Z.o[ZC._[7]])&&(e=E),Z.I),a=Z.F;E=(i.B4+i.BL)/2%360;if("out"===e){var E=C=i.A.A.YB["n"+i.L][i.A.L],_=function(C,A){A<0&&(A=360+A),A%=360;var C=ZC.AQ.BN(i.iX,i.iY,C+i.DX+Z.DX+20,A),n=i.C.ES[ZC._[27]],n=(45<n&&10<i.A.A.A4.length&&(i.C.ES[ZC._[27]]=45+(n-45)/3),t=new ZC.CE(i.C,C[0]-ZC.AM.E1,C[1]-ZC.AM.E2,0),i.C.ES[ZC._[27]]=n,C[0]=t.EC[0],C[1]=t.EC[1],C[0]+Z.BK-o/2),C=C[1]+Z.BJ-a/2;return 0<=A&&A<=90||270<=A&&A<=360?n+=o/2+10:n-=o/2+10,[n,C]},s=_(i.AI,C),u=s[0],r=s[1];i.U=Z;for(var h={x:u,y:r,width:o,height:a},l=zingchart.DEV.SPREADTYPE,B=(P=!0,0),p=0,L=-1,f=0,c=0;P&&c<1024;)for(var P=!1,d=0,D=i.A.A.TS.length;d<D;d++)A=i.A.A.TS[d],(ZC.AQ.VD(h,A,10<i.A.A.A4.length?-8:-2)||h.x+Z.I>i.C.P.iX+i.C.P.I||h.x<i.C.P.iX||h.y+Z.F>i.C.P.iY+i.C.P.F||h.y<i.C.P.iY)&&(P=!0,0===l?(B+=.4,L*=-1):1===l&&(p+=1),s=_(i.AI+p,C+B*L),h.x=s[0],h.y=s[1],c++,100<++f)&&((f=0)===l?(B=0,p+=4):1===l&&(p=0,B+=1,L*=-1));u=h.x,r=h.y,E=C+B,A={text:i.A.AN,x:h.x,y:h.y,width:o,height:a,plotindex:i.A.L,nodeindex:i.L},i.A.A.TS.push(A)}else"in"===e?(n=i.CP<30?.65:.5,n=ZC.AQ.BN(i.iX,i.iY,i.CP+n*(i.AI-i.CP)+i.DX+Z.DX,E),t=new ZC.CE(i.C,n[0]-ZC.AM.E1,n[1]-ZC.AM.E2,0),n[0]=t.EC[0],n[1]=t.EC[1],u=n[0]+Z.BK-o/2,r=n[1]+Z.BJ-a/2):"center"===e&&(u=(t=new ZC.CE(i.C,i.iX-ZC.AM.E1,i.iY-ZC.AM.E2,0)).EC[0]+Z.BK-o/2,r=t.EC[1]+Z.BJ-a/2);return P&&(Z.AP=!(r=u=-9999)),null!==ZC._n_(Z.o.x)&&(u=Z.iX),null!==ZC._n_(Z.o.y)&&(r=Z.iY),-2<=u&&(u=ZC._a_(u)),-2<=r&&(r=ZC._a_(r)),[ZC._i_(u),ZC._i_(r),E]},H1:function(C,A){var n,Z,t,i,e=this,A=e.b(C,A);if(C)return A;e.AP&&A.AP&&null!==ZC._n_(A.AN)&&""!==A.AN&&(C="out")===(C=null!==ZC._n_(A.o[ZC._[7]])?A.o[ZC._[7]]:C)&&(C=!0,C=null!==ZC._n_(n=A.o.connected)?ZC._b_(n):C)&&((n=new ZC.DT(e.A)).Z=n.C8=e.A.CS("bl",0),n.append(e.A.C3.o),n.B9=e.A0,n.DH="line",n.D=[],C=A.E.positioninfo,(t=0)<=(Z=(e.B4+e.BL)/2%360)&&Z<=180&&(t=e.E.thickness/2),i=ZC.AQ.BN(e.iX,e.iY,e.AI+e.DX+A.DX,Z),(i=new ZC.CE(e.C,i[0]-ZC.AM.E1,i[1]-ZC.AM.E2,t).EC)[0]+=e.BK,i[1]+=e.BJ,n.D.push(i),i=ZC.AQ.BN(e.iX,e.iY,e.AI+e.DX+A.DX+20,Z),(i=new ZC.CE(e.C,i[0]-ZC.AM.E1,i[1]-ZC.AM.E2,t).EC)[0]+=e.BK,i[1]+=e.BJ,A.iX>=e.iX?n.D.push([i[0],i[1],C[0],C[1]+A.F/2]):n.D.push([i[0],i[1],C[0]+A.I+2,C[1]+A.F/2]),n.parse(),n.IQ=function(C){return e.IQ(C)},n.DG()&&n.parse(),n.AP)&&n.paint()},paint:function(){var C,i,A,e=this,o=e.C.CN,n=e.C.BM(e.A.BW("k")[0]),Z=e.C.ES[ZC._[27]],t=e.C.ES[ZC._[28]],a=(e.setup(),"pie-sel-"+e.A.L+"-"+e.L);if(typeof e.o.detached!==ZC._[31]&&(e.C.E[a]=ZC._b_(e.o.detached)),!(e.AC<0)){var E,Z=ZC.BR(.7,ZC.EF(Z)),_=(e.AI=ZC.CY(n.GH/Z,n.GM)/2,null!==ZC._n_(e.A.o[ZC._[21]])?e.AI=e.A.AI:e.AI=n.JU*e.AI,e.CP<1&&(e.CP*=e.AI),e.CP=Math.max(0,e.CP),e.o[ZC._[8]]=e.CP,e.DX<1&&(e.DX*=e.AI),e.o["offset-r"]=e.DX,e.A.JK),s=(-1===_&&(_=e.AI/5),e.E.thickness=_,e.iX-ZC.AM.E1),u=e.iY-ZC.AM.E2,Z=(e.B4=ZC._i_(e.B4),e.BL=ZC._i_(e.BL),(e.B4+e.BL)/2),n=(e.C.E[a]&&(e.DX+=ZC._i_(.15*e.AI)),0<e.DX&&(s+=e.DX*ZC.EF(Z),u+=e.DX*ZC.EL(Z)),e.O=e.A.IJ(e,e)),r=(n.DF=e.K+"-3dfacet",new ZC.CZ(e));if(r.copy(n),r.A0=ZC.AO.JR(ZC.AO.GD(r.A0)),r.AE=ZC.AO.JR(ZC.AO.GD(r.AE)),0<=e.AC||0===e.A.A.KP[e.L]){for(C=e.B4,(A=[]).push([s+e.CP*ZC.EF(C),u+e.CP*ZC.EL(C),0]),C=e.B4;C<=e.BL;C+=1)A.push([s+e.AI*ZC.EF(C),u+e.AI*ZC.EL(C),0]);for(C=e.BL,A.push([s+e.CP*ZC.EF(C),u+e.CP*ZC.EL(C),0]),C=e.BL;C>=e.B4;--C)A.push([s+e.CP*ZC.EF(C),u+e.CP*ZC.EL(C),0]);if((a=ZC.DL.DA(n,e.C,A)).K=e.K+"-facet1",o.add(a),i=null,(e.B4%360>=0+t&&e.B4%360<180+t||e.BL%360>0+t)&&(E=e.B4,Z=e.BL,n=function(C,A,n){var Z=[],t=C;for(Z.push([s+e.AI*ZC.EF(t),u+e.AI*ZC.EL(t),0]),t=C;t<=A;t+=1)Z.push([s+e.AI*ZC.EF(t),u+e.AI*ZC.EL(t),0]);for(t=A,Z.push([s+e.AI*ZC.EF(t),u+e.AI*ZC.EL(t),_]),t=A;C<=t;--t)Z.push([s+e.AI*ZC.EF(t),u+e.AI*ZC.EL(t),_]);(i=ZC.DL.DA(r,e.C,Z)).MG=[.01,1,1,1],i.K=e.K+"-facet2"+n,o.add(i)},E<180&&360<Z?(n(E=E<0?E+360:E,180,1),n(360,Z,2)):(E=ZC.BR(E,360<Z?365:5))<(Z=ZC.CY(Z,360<Z?535:175))&&n(E,Z,1)),Z=null,e.CP>0+t&&e.BL>180+t){for(C=e.B4,E=e.B4,e.B4<180+t&&e.BL>180+t&&(E=C=180+t),(A=[]).push([s+e.CP*ZC.EF(C),u+e.CP*ZC.EL(C),0]),C=E;C<=e.BL;C+=1)A.push([s+e.CP*ZC.EF(C),u+e.CP*ZC.EL(C),0]);for(C=e.BL,A.push([s+e.CP*ZC.EF(C),u+e.CP*ZC.EL(C),_]),C=e.BL;E<=C;--C)A.push([s+e.CP*ZC.EF(C),u+e.CP*ZC.EL(C),_]);(Z=ZC.DL.DA(r,e.C,A)).K=e.K+"-facet3",o.add(Z)}var n=function(C,A,n){return[[s+C*ZC.EF(n),u+C*ZC.EL(n),0],[s+C*ZC.EF(n),u+C*ZC.EL(n),_],[s+A*ZC.EF(n),u+A*ZC.EL(n),_],[s+A*ZC.EF(n),u+A*ZC.EL(n),0]]},h=((t=ZC.DL.DA(r,e.C,{points:n(e.CP,e.AI,e.B4),mathpoints:n(e.CP+1,e.AI+1,e.B4-1)})).K=e.K+"-facet4",o.add(t),(n=ZC.DL.DA(r,e.C,{points:n(e.CP,e.AI,e.BL),mathpoints:n(e.CP+1,e.AI+1,e.BL+1)})).K=e.K+"-facet5",o.add(n),e.C.K+ZC._[34]+e.C.K+ZC._[35]+e.A.L+ZC._[6]),h=ZC.Q.FP("poly",e.A.E9)+'class="'+h+'" id="'+e.K,l=e.A.A.H3;l.push(h+'--top" '+e.a11y()+' data-z-sort="1" coords="'+a.F1()+'" />'),i&&l.push(h+'--outer" data-z-sort="1" coords="'+i.F1()+'" />'),(0<e.CP||0<e.DX)&&(Z&&l.push(h+'--inner" data-z-sort="2" coords="'+Z.F1()+'" />'),l.push(h+'--start" data-z-sort="2" coords="'+t.F1()+'" />',h+'--end" data-z-sort="2" coords="'+n.F1()+'" />'))}e.A.U&&e.H1()}},X6:function(C,A){var n=this;n.b(C,A),"click"===A&&C.which<=1&&n.A.A7U&&(A="pie-sel-"+n.A.L+"-"+n.L,n.C.E[A]=typeof n.C.E[A]===ZC._[31]||!n.C.E[A],n.C.KC())}});