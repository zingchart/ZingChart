/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.15
*/
var WW={$i:function(e,i){this.b(e);var l=this;l.BE=e,l.IX=!1,l.Z=null,l.A78="",l.KV=1,l.H7=1,l.AF="scroll-"+(i||"y")},parse:function(){var e,i=this;i.K=i.BE.K+"-legend-"+i.AF;var l=i.BE.A.G.B6,n="("+i.BE.A.AF+")";i.B2=new ZC.HU(i.BE),l.load(i.B2.o,[n+".legend.scroll.bar",i.AF+".bar"]),null!==ZC._n_(e=i.o.bar)&&i.B2.append(e),i.B2.parse(),i.B3=new ZC.HU(i.BE),l.load(i.B3.o,[n+".legend.scroll.handle",i.AF+".handle"]),null!==ZC._n_(e=i.o.handle)&&i.B3.append(e),i.B3.parse()},paint:function(){var e,i=this;if(!i.IX){i.Z=ZC.AL(i.BE.A.K+"-legend-scroll-c");var l=ZC.AL(i.G.K+"-top");"scroll-y"===i.AF?(i.B2.iX=i.BE.iX+i.BE.I-i.B2.I-1,i.B2.iY=i.BE.EK,i.B2.F=i.BE.F-(i.BE.KN?i.BE.KN.F:0)-(i.BE.EK-i.BE.iY),e=Math.ceil(i.BE.B8.length/i.H7-i.BE.EJ/i.H7)+1,i.B3.F=i.B2.F/e,i.B3.iY=i.B2.iY,0!==i.BE.D6.min&&(i.B3.iY+=i.BE.D6.min/i.H7*i.B3.F),ZC.AL(i.K+"-legend-handle")?(ZC.A3("#"+i.K+"-legend-handle").css("left",i.B2.iX+"px").css("top",i.B3.iY+"px").css("height",i.B3.F-0*i.B3.AU+"px"),ZC.A3("#"+i.K+"-legend-bar").css("left",i.B2.iX+"px").css("top",i.B2.iY+"px"),ZC.A3("#"+i.BE.K+"-frame").css("left",i.BE.iX+"px").css("top",i.BE.EK+"px"),i.paint_()):(i.AAE=ZC.Q.I2({cls:"zc-abs zc-scroll zc-scroll-y-bar "+i.BE.K+"-scroll-y-legend-bar",id:i.K+"-legend-bar",wh:i.B2.I+"/"+i.B2.F,tl:i.B2.iY+"/"+i.B2.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.ZG=ZC.Q.I2({cls:"zc-abs zc-scroll zc-scroll-y-handle "+i.BE.K+"-scroll-y-legend-handle",id:i.K+"-legend-handle",wh:i.B2.I-0*i.B3.AU+"/"+(i.B3.F-0*i.B3.AU),tl:i.B3.iY+"/"+i.B2.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.ZG.style.cursor="pointer",i.paint_())):"scroll-x"===i.AF&&(i.B2.iX=i.BE.iX,i.B2.iY=i.BE.iY+i.BE.F-i.B2.F-1,i.B2.I=i.BE.I,e=Math.ceil(i.BE.B8.length/i.KV-i.BE.EJ/i.KV)+1,i.B3.I=i.B2.I/e,i.B3.iX=i.B2.iX,0!==i.BE.D6.min&&(i.B3.iX+=i.BE.D6.min/i.KV*i.B3.I),ZC.AL(i.K+"-legend-handle")?(ZC.A3("#"+i.K+"-legend-handle").css("left",i.B3.iX+"px").css("top",i.B2.iY+"px").css("width",i.B3.I-0*i.B3.AU+"px"),ZC.A3("#"+i.K+"-legend-bar").css("left",i.B2.iX+"px").css("top",i.B2.iY+"px"),ZC.A3("#"+i.BE.K+"-frame").css("left",i.BE.iX+"px").css("top",i.BE.EK+"px"),i.paint_()):(i.AAD=ZC.Q.I2({cls:"zc-abs zc-scroll zc-scroll-x-bar "+i.BE.K+"-scroll-x-legend-bar",id:i.K+"-legend-bar",wh:i.B2.I+"/"+i.B2.F,tl:i.B2.iY+"/"+i.B2.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.ZF=ZC.Q.I2({cls:"zc-abs zc-scroll zc-scroll-x-handle "+i.BE.K+"-scroll-x-legend-handle",id:i.K+"-legend-handle",wh:i.B3.I-0*i.B3.AU+"/"+(i.B2.F-0*i.B3.AU),tl:i.B2.iY+"/"+i.B3.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.ZF.style.cursor="pointer",i.paint_())),ZC.move||i.bind()}},paint_:function(){var e,i,l=this;"scroll-y"===l.AF?((e=new ZC.HU(l)).K=l.BE.K+"-scroll-y-legend-bar",e.copy(l.B2),e.Z=l.Z,e.iX=l.B2.iX,e.iY=l.B2.iY,e.I=l.B2.I,e.F=l.B2.F,e.paint(),(i=new ZC.HU(l)).K=l.BE.K+"-scroll-y-legend-handle",i.copy(l.B3),i.Z=l.Z,i.iX=l.B2.iX,i.iY=l.B3.iY,i.I=l.B3.I,i.F=l.B3.F,i.paint()):"scroll-x"===l.AF&&((e=new ZC.HU(l)).K=l.BE.K+"-scroll-x-legend-bar",e.copy(l.B2),e.Z=l.Z,e.iX=l.B2.iX,e.iY=l.B2.iY,e.I=l.B2.I,e.F=l.B2.F,e.paint(),(i=new ZC.HU(l)).K=l.BE.K+"-scroll-x-legend-handle",i.copy(l.B3),i.Z=l.Z,i.iX=l.B3.iX,i.iY=l.B2.iY,i.I=l.B3.I,i.F=l.B2.F,i.paint())},update:function(e){var i,l,n,o,a,t,r=this,d=r.BE;if("scroll-y"===r.AF){if(e<r.B3.iY&&!1,e===r.B3.iY)return;r.B3.iY=e,ZC.A3("#"+r.K+"-legend-handle").css("top",e+"px"),i=r.B3.iY-r.B2.iY,o=Math.ceil(d.B8.length/r.H7-d.EJ/r.H7)+1,l=r.B2.F/o,t=r.H7}else if("scroll-x"===r.AF){if(e>r.B3.iX&&!1,e===r.B3.iX)return;r.B3.iX=e,ZC.A3("#"+r.K+"-legend-handle").css("left",e+"px"),i=r.B3.iX-r.B2.iX,o=Math.ceil(d.B8.length/r.KV-d.EJ/r.KV)+1,l=r.B2.I/o,t=r.KV}n=Math.round(i/l),a=d.B8.length-d.EJ,d.B8.length%t&&(a+=t-d.B8.length%t),d.D6.min=Math.min(n*t,a),d.D6.max=d.D6.min+d.EJ,d.WE(),d.clear(!1),d.parse(),d.paint(),r.paint_()},unbind:function(){var e=this;ZC.A3("."+e.BE.K+"-"+e.AF+"-legend-handle").unbind("mousedown touchstart",e.RH),ZC.A3("."+e.BE.K+"-"+e.AF+"-legend-bar").unbind("click",e.RJ)},bind:function(){var e=this,i=e.G.K,l=0,n=0;e.RH=function(o){if(o.preventDefault(),!(o.button>1)){for(var a=o.target;a&&"BODY"!==a.tagName.toUpperCase();){if(-1!==ZC.Q.TC(a).indexOf("zc-"+e.AF+"-handle"))break;a=a.parentNode}if((ZC.mobile||!(o.which>1))&&a){var t=ZC.Q.MJ(o),r=ZC.A3("#"+i+"-top").offset();if("scroll-y"===e.AF){var d=t[1]-r.top;n=d-e.B3.iY}else if("scroll-x"===e.AF){var A=t[0]-r.left;l=A-e.B3.iX}return ZC.A3(document.body).bind("mousemove touchmove",e.RI),ZC.A3(document.body).bind("mouseup touchend",e.MB),e.IX=!0,!1}}},e.RI=function(o){if(e.IX){var a=ZC.Q.MJ(o),t=ZC.A3("#"+i+"-top").offset();if("scroll-y"===e.AF){var r=a[1]-t.top;r-n<e.B2.iY&&(r=e.B2.iY+n),r-n+e.B3.F>e.B2.iY+e.B2.F&&(r=e.B2.iY+e.B2.F+n-e.B3.F),e.update(r-n)}else if("scroll-x"===e.AF){var d=a[0]-t.left;d-l<e.B2.iX&&(d=e.B2.iX+l),d-l+e.B3.I>e.B2.iX+e.B2.I&&(d=e.B2.iX+e.B2.I+l-e.B3.I),e.update(d-l)}}return!1},e.MB=function(){return e.G.KQ=e.A78.split(","),e.IX&&(ZC.A3(document.body).unbind("mousemove touchmove",e.RI),ZC.A3(document.body).unbind("mouseup touchend",e.MB),e.IX=!1,e.bind()),!1},e.A3T=function(i){(i.detail?-120*i.detail:i.wheelDelta)/120>0?e.update(ZC.BR(e.B2.iY,e.B3.iY-e.B3.F)):e.update(ZC.CY(e.B2.iY+e.B2.F-e.B3.F,e.B3.iY+e.B3.F))},e.RJ=function(l){var n=ZC.Q.MJ(l),o=ZC.A3("#"+i+"-top").offset();"scroll-y"===e.AF?n[1]-o.top>e.B3.iY?e.update(ZC.CY(e.B2.iY+e.B2.F-e.B3.F,e.B3.iY+e.B3.F)):e.update(ZC.BR(e.B2.iY,e.B3.iY-e.B3.F)):"scroll-x"===e.AF&&(n[0]-o.left>e.B3.iX?e.update(ZC.CY(e.B2.iX+e.B2.I-e.B3.I,e.B3.iX+e.B3.I)):e.update(ZC.BR(e.B2.iX,e.B3.iX-e.B3.I)))},ZC.A3("."+e.BE.K+"-"+e.AF+"-legend-handle").bind("mousedown touchstart",e.RH),ZC.A3("."+e.BE.K+"-"+e.AF+"-legend-bar").bind("click",e.RJ)}};ZC.WW=ZC.CZ.CD(WW);var V5={$i:function(e){this.b(e);var i=this;i.NY="legend",i.B8=null,i.Q7=null,i.N4="x1",i.I5="hide",i.R4="",i.PW="",i.UU=!1,i.V2=!1,i.TQ="none",i.UJ="header",i.EJ=9999,i.D3=null,i.BQ=null,i.ZD=null,i.A2=null,i.NN=null,i.FR=null,i.KN=null,i.QH=0,i.MI=0,i.YL=!0,i.EK=0,i.GQ=0,i.sAlign="",i.K3="",i.D6={enabled:!1,min:-1,max:-1,page:-1,pages:-1},i.M5=!1,i.NC=!1,i.ND=-1,i.PV=!1,i.A4W=1,i.WV=0,i.LH=!1,i.XO=!1,i.YS=!1,i.XQ=[]},highlightItem:function(e){var i,l=this,n=!1,o=ZC.move,a=l.LH;-1!==e&&(a=l.LH||l.A.AY.A4[e].LH),l.o.item&&null!==ZC._n_(i=l.o.item["highlight-item"])&&(n=ZC._b_(i),null===ZC._n_(l.o["highlight-legend"])&&null===l.A.AY.A4[e].o["highlight-legend"]&&(a=n)),(n||a)&&(n&&(l.E["highlight-item"]=e),a&&(l.E["highlight-legend"]=ZC._i_(e)),l.scrollTo(ZC._i_(e)),l.WE(),l.clear(!0,!1),l.YL=!0,l.parse(),l.fixPlacement(!0),l.paint(),ZC.move=o)},scrollTo:function(e){var i,l,n=this,o=!1;if(n.D3)return e>=0&&(e<n.D6.min||e>=n.D6.max)&&(o=!0,"scroll"===n.TQ?(e%(l="scroll-y"===n.D3.AF?n.D3.H7:n.D3.KV)&&(e-=e%l),n.D6.min=e,n.D6.max=e+n.EJ,n.D6.max>n.B8.length&&(n.D6.min=n.B8.length-n.EJ,n.B8.length%l&&(n.D6.min=n.D6.min+(l-n.B8.length%l)),n.D6.max=n.B8.length)):"page"===n.TQ&&(i=Math.floor(e/n.EJ),n.D6.min=i*n.EJ,n.D6.max=n.D6.min+n.EJ,n.D6.page=i+1)),o},parse:function(){var e,i,l,n,o=this;if(o.E["force-margins"]=!0,o.QH=0,o.MI=0,null!==ZC._n_(e=o.A.A.E["graph-"+o.A.K+"-legend-info"])&&(null!==ZC._n_(e.x)&&(o.o.x=e.x-o.A.iX),null!==ZC._n_(e.y)&&(o.o.y=e.y-o.A.iY)),ZC.move)o.FR&&o.FR.parse(),o.KN&&o.KN.parse();else{n=o.A.G.B6;var a="("+o.A.AF+")";o.b(),o.assign_a([["collapse","M5","b"],["minimize","UU","b"],["draggable","V2","b"],["shared","PV","b"],["overflow","TQ"],["max-items","EJ","i"],["group","A4W","i"],["drag-handler","UJ"],["highlight-plot","WV","b"],["highlight-legend","LH","b"],["align","sAlign"],["vertical-align","K3"]]),o.M5&&!o.UU&&(o.M5=!1),zingchart.DEV.MEDIARULES&&(o.E["forced-align-position"]||(o.alignPosition({align:o.sAlign,"vertical-align":o.K3,layout:o.N4}),o.E["forced-align-position"]=!0)),o.WV&&null===ZC._n_(o.o["highlight-legend"])&&(o.LH=o.WV),o.BQ=new ZC.DQ(o),n.load(o.BQ.o,a+".legend.item",!1,!0),o.o.item&&null===ZC._n_(o.o.item.visible)&&(o.o.item.visible=!0),o.BQ.append(o.o.item),o.BQ.parse(),o.ZD=new ZC.DQ(o),n.load(o.ZD.o,a+".legend.item-off",!1,!0),o.o["item-off"]&&null===ZC._n_(o.o["item-off"].visible)&&(o.o["item-off"].visible=!0),o.ZD.append(o.o["item-off"]),o.ZD.parse(),o.A2=new ZC.DT(o),n.load(o.A2.o,a+".legend.marker",!1,!0),o.o.marker&&null===ZC._n_(o.o.marker.visible)&&(o.o.marker.visible=!0),o.A2.append(o.o.marker),o.A2.E.type="default",o.A2.E["show-marker"]=!0,o.A2.E["show-line"]=!1,null!==ZC._n_(e=o.A2.o.type)&&(o.A2.E.type=e),null!==ZC._n_(e=o.A2.o["show-line"])&&(o.A2.E["show-line"]=ZC._b_(e)),null!==ZC._n_(e=o.BQ.o["marker-style"])&&(o.A2.E.type=e),null!==ZC._n_(e=o.BQ.o["show-line"])&&(o.A2.E["show-line"]=ZC._b_(e)),null!==ZC._n_(e=o.BQ.o["show-marker"])&&(o.A2.o.visible=ZC._b_(e)),o.A2.parse(),o.NN=new ZC.DT(o),n.load(o.NN.o,a+".legend.marker-off",!1,!0),o.o["marker-off"]&&(o.o["marker-off"].visible=!0),o.NN.append(o.o["marker-off"]),o.NN.E.type="default",o.NN.E["show-marker"]=!0,o.NN.E["show-line"]=!1,null!==ZC._n_(e=o.NN.o.type)&&(o.NN.E.type=e),null!==ZC._n_(e=o.NN.o["show-line"])&&(o.NN.E["show-line"]=ZC._b_(e)),null!==ZC._n_(e=o.BQ.o["marker-style"])&&(o.NN.E.type=e),null!==ZC._n_(e=o.BQ.o["show-line"])&&(o.NN.E["show-line"]=ZC._b_(e)),null!==ZC._n_(e=o.BQ.o["show-marker"])&&(o.NN.o.visible=ZC._b_(e)),o.NN.parse(),(null!==ZC._n_(e=o.o.header)||o.V2||o.UU)&&(o.FR=new ZC.DQ(o),o.FR.NY="legendheader",o.FR.GN="zc-legend-item "+o.K+"-header",o.FR.K=o.K+"-header",n.load(o.FR.o,a+".legend.header"),o.FR.o.text=o.FR.o.text||"\xa0",o.FR.append(e),o.FR.parse(),o.FR.AP||(o.FR=null)),null!==ZC._n_(e=o.o.footer)&&(o.KN=new ZC.DQ(o),o.KN.NY="legendfooter",o.KN.GN="zc-legend-item "+o.K+"-footer",o.KN.K=o.K+"-footer",n.load(o.KN.o,a+".legend.footer"),o.KN.append(e),o.KN.parse(),o.KN.AP||(o.KN=null));var t=o.A.AY.A4;null!==ZC._n_(e=o.o.layout)?o.N4=e:25*t.length>o.A.F&&(o.N4="x"+Math.ceil(25*t.length/o.A.F)),null!==ZC._n_(e=o.o["toggle-action"])&&(o.I5=e),o.R4=o.PW=o.I5,null!==ZC._n_(o.o.item)&&null!==ZC._n_(e=o.o.item["toggle-action"])&&(o.R4=e),null!==ZC._n_(o.o.marker)&&null!==ZC._n_(e=o.o.marker["toggle-action"])&&(o.PW=e);var r=function(e){if(t[i]&&t[i].FM(0)){var l=ZC.AO.OA(o.BQ.o,t[i].o);e=t[i].FM(0).K2(e,l)}return e},d=[];o.B8=[];var A=0;for(i=0,l=t.length;i<l;i++){var s=o.A.AY.MA[i];if(t[s].o["skip-paint"]||null!==ZC._n_(t[s].o["show-in-legend"])&&!ZC._b_(t[s].o["show-in-legend"]))t[s].bShowInLegend=!1;else if(!t[s].o["legend-item"]||null===ZC._n_(t[s].o["legend-item"].visible)||ZC._b_(t[s].o["legend-item"].visible)){var g=new ZC.DQ(o);g.copy(o.BQ),g.append(t[s].o["legend-item"]),null===ZC._n_(g.o.text)&&null!==ZC._n_(e=t[s].A62)&&(g.o.text=e),null===ZC._n_(g.o.text)&&null!==ZC._n_(e=t[s].AN)&&(g.o.text=e),g.AN=null===ZC._n_(g.o.text)?"Series "+(s+1):g.o.text,g.E.order=s,g.E.index=s,null!==ZC._n_(t[s].o["legend-item"])&&null!==ZC._n_(e=t[s].o["legend-item"].order)&&(g.E.order=ZC._i_(e)),d.push([A,s,g.E.order]),A++,-1!==g.AN.indexOf("%")&&(g.K2=r),g.parse(),o.B8.push(g)}else t[s].bShowInLegend=!1}for(d.sort(function(e,i){return e[2]-i[2]}),i=0;i<d.length;i++)d[i][2]=i,t[d[i][1]].o["legend-item"]=t[d[i][1]].o["legend-item"]||{},t[d[i][1]].o["legend-item"].order=d[i][2],o.B8[d[i][0]].E.order=d[i][2];(e=o.A.E["legend-info"])&&(o.NC=e.collapsed)}if(o.B8&&o.A2){"page"===o.TQ?((e=o.A.E["legend-info"])?(o.D6.min=e.min,o.D6.max=e.max,o.D6.page=e.page):(o.D6.min=0,o.D6.max=o.EJ,o.D6.page=1),o.D6.pages=Math.ceil(o.B8.length/o.EJ),o.D6.page>o.D6.pages&&(o.D6.page=o.D6.pages,o.D6.min=(o.D6.page-1)*o.EJ,o.D6.max=o.D6.page*o.EJ-1),o.D6.page=ZC.CY(o.D6.page,o.D6.pages)):"scroll"===o.TQ?(e=o.A.E["legend-info"])?(o.D6.min=e.min,o.D6.max=e.max,o.D6.page=e.page):(o.D6.min=0,o.D6.max=o.EJ,o.D6.page=1):(o.D6.min=0,o.D6.max="hidden"===o.TQ?o.EJ:o.B8.length,o.D6.page=1),o.WE(!1),o.B8.sort(function(e,i){return e.E.order-i.E.order}),o.o["reverse-series"]&&o.B8.reverse();var C=.9*o.A.I;null!==ZC._n_(o.o.width)&&(C=o.I);var Z=0,c=0,p=-ZC.MAX,B=-ZC.MAX,u=o.A2.E["show-line"]?3:2,m=0,h=1,E=1;if("float"===o.N4){for(i=0,l=o.B8.length;i<l;i++)if(m+=o.B8[i].AP?1:0,!(i<o.D6.min||i>=o.D6.max||o.NC)&&o.B8[i].AP){var f=o.B8[i].I+o.B8[i].E0+o.B8[i].EA+u*o.B8[i].DI;B=ZC.BR(B,o.B8[i].F+o.B8[i].EB+o.B8[i].DW),Z+f>C?(p=ZC.BR(p,Z),c+=B,Z=f,B=ZC.BR(B,o.B8[i].F+o.B8[i].EB+o.B8[i].DW)):Z+=f}p=ZC.BR(p,Z),B!==-ZC.MAX&&(c+=B),p!==-ZC.MAX&&(Z=p)}else{var _=0;for(i=0,l=o.B8.length;i<l;i++)m+=o.B8[i].AP?1:0,i<o.D6.min||i>=o.D6.max||o.NC||(_+=o.B8[i].AP?1:0);var v=ZC.AQ.A2F(o.N4,_);for(h=v[0],E=v[1],i=0,l=o.B8.length;i<l;i++)(i<o.D6.min||i>=o.D6.max||o.NC)&&("scroll"!==o.TQ||m<=o.EJ)||o.B8[i].AP&&(p=ZC.BR(p,o.B8[i].I+o.B8[i].E0+o.B8[i].EA+u*o.B8[i].DI),B=ZC.BR(B,o.B8[i].F+o.B8[i].EB+o.B8[i].DW),1===E&&(c+=o.B8[i].F+o.B8[i].EB+o.B8[i].DW));Z=E*p,c=h*B}if("page"===o.TQ&&m>o.EJ&&(o.D6.enabled=!0),"scroll"===o.TQ&&m>o.EJ&&(o.D3||(!h||h>E?(o.D3=new ZC.WW(o,"y"),n.load(o.D3.o,".scroll-y")):(o.D3=new ZC.WW(o,"x"),n.load(o.D3.o,".scroll-x")),o.D3.append(o.o.scroll),o.D3.KV=h,o.D3.H7=E,o.D3.parse()),o.NC||("scroll-y"===o.D3.AF?Z+=o.D3.B2.I:c+=o.D3.B2.F)),o.FR){var F=o.FR.I;o.V2&&"icon"===o.UJ?(F+=15,o.UU&&(F+=25)):o.UU&&(F+=15),Z=ZC.BR(Z,F)}o.KN&&(Z=ZC.BR(Z,o.KN.I));var D=!1,K=!1;if(null===ZC._n_(o.o.width)&&(o.o.width=Z,D=!0),null===ZC._n_(o.o.height)&&(o.o.height=c,K=!0),o.iX=-1,o.iY=-1,!ZC.move&&o.FR&&null!==ZC._n_(e=o.A.A.E["legend"+o.A.L+"-xy-ratio"])){o.locate();var I=o.I+o.ER+o.FO,b=o.F+o.FJ+o.FX,Y=o.PV?o.A.A:o.A;o.iX=Y.I*e[0],o.iX=ZC.BR(o.iX,1.1),o.o.x=o.iX=ZC.CY(o.iX,Y.I-I-2),o.iY=(Y.F-o.FR.F)*e[1],o.iY=ZC.BR(o.iY,1.1),o.o.y=o.iY=ZC.CY(o.iY,Y.F-b-o.FR.F-2)}if(o.locate(),null!==ZC._n_(o.o.position)&&"undefined"!=typeof o.E["position-info"]?(o.E["position-info"][0]>.5&&(o.QH+=o.ER+o.FO),o.E["position-info"][1]>.5?o.MI+=o.FJ+o.FX:(o.FR&&(o.MI-=o.FR.F),o.KN&&(o.MI-=o.KN.F),o.D6&&o.D6.enabled&&(o.MI-=20))):((0===o.A.iX||o.iX+o.I/2>o.A.iX+o.A.I/2)&&(o.QH+=o.ER+o.FO),(0===o.A.iY||o.iY+o.F/2>o.A.iY+o.A.F/2)&&(o.MI+=o.FJ+o.FX)),!ZC.move&&(e=o.A.A.E["graph-"+o.A.K+"-legend-info"])&&(e.x&&(o.iX=e.x),e.y&&(o.iY=e.y)),o.GQ=o.F,o.EK=o.iY,o.FR&&(o.F+=o.FR.F,o.EK+=o.FR.F,o.MI+=o.FR.F),o.KN&&(o.F+=o.KN.F,o.MI+=o.KN.F),o.D6.enabled&&!o.NC){var X=new ZC.DQ(o);X.AN=" ",X.append(o.o["page-status"]),null!==ZC._n_(X.o.text)&&""!==X.o.text||(X.o.text="#"),X.parse(),o.F+=X.F+4,o.MI+=X.F+4}D&&(o.o.width=null),K&&(o.o.height=null),o.NC||(o.I+=o.ER+o.FO,o.F+=o.FJ+o.FX),o.E["default-width"]&&(o.I=o.E["default-width"])}},alignPosition:function(e){var i=this;if(null!==ZC._n_(e)){var l=i.A.G.B6.B6.graph.legend,n=e.align||l.align,o=e["vertical-align"]||l["vertical-align"],a=e.layout||l.layout;(n||o)&&("center"===n?(null===ZC._n_(i.o.layout)&&(a=i.o.layout="horizontal"),i.o.position="50% "):i.o.position="left"===n?"0% ":"100% ",i.o.position+="middle"===o?"50%":"bottom"===o?"100%":"0%","horizontal"!==a&&"middle"!==o||(i.o["adjust-layout"]=!0))}},WE:function(e){var i=this;void 0===e&&(e=!0),i.A.E["legend-info"]={collapsed:i.NC,min:i.D6.min,max:i.D6.max,page:i.D6.page},e&&(i.A.A.E["graph-"+i.A.K+"-legend-info"]={x:i.iX,y:i.iY})},clear:function(e,i){null===ZC._n_(e)&&(e=!1),null===ZC._n_(i)&&(i=!1);var l=this,n=l.A.K+"-legend-",o=null;ZC.A3("."+n+"item",o).remove(),ZC.A3("."+n+"header",o).remove(),ZC.A3("."+n+"footer",o).remove(),ZC.A3("#"+n+"page-status",o).remove(),e&&!i||(ZC.move||l.unbind(),ZC.A3("."+n+"page-area",o).remove(),ZC.A3("."+n+"header-area",o).remove(),ZC.A3("."+n+"item-area",o).remove(),ZC.A3("."+n+"marker-area",o).remove()),ZC.move?ZC.Q.IW(ZC.AL(n+"c"),l.A.G.AB,l.A.iX,l.A.iY,l.A.I,l.A.F):ZC.Q.IW(ZC.AL(n+"c"),l.A.G.AB,l.iX-2*l.AU-2*l.JZ,l.iY-2*l.AU-2*l.JZ,l.I+4*l.AU+4*l.JZ,l.F+4*l.AU+4*l.JZ),l.D3&&ZC.Q.IW(ZC.AL(n+"scroll-c"),l.A.G.AB,l.A.iX,l.A.iY,l.A.I,l.A.F)},unbind:function(){var e=this;ZC.A3("#"+e.K+"-frame").die(ZC.Q.C1("mouseover"),e.zc_legend_mouseover).die(ZC.Q.C1("mouseout"),e.zc_legend_mouseout),ZC.A3("#"+e.K+"-move-area").die(ZC.Q.C1("mousedown"),e.Z6),ZC.A3("#"+e.K+"-minimize-area").die(ZC.Q.C1("click"),e.Y2),ZC.A3("."+e.K+"-page-area").die(ZC.Q.C1("click"),e.YZ),e.D3&&e.D3.unbind(),e.BQ&&e.BQ.o.reorder&&ZC.A3("."+e.A.K+"-legend-item-area").die("mousedown",e.W7)},fixPlacement:function(e){var i=this;if(i.YL&&null===ZC._n_(i.o.y)||e){if(!i.o.position&&e||(i.iX-=i.QH),i.iX<i.E0&&(i.E0<i.EA||-2===i.EA)&&(i.iX=i.E0),!i.o.position&&e||(i.iY-=i.MI,i.EK-=i.MI),i.iY<i.EB&&(i.EB<i.DW||-2===i.DW)){var l=i.EK-i.iY;i.iY=i.EB,i.EK=i.EB+l}i.YL=!1}},EO:function(e){var i=this;i.FR&&i.FR.EO(e),i.KN&&i.KN.EO(e);for(var l=0;l<i.XQ.length;l++)i.XQ[l].EO(e)},paint:function(e){var i,l,n,o,a,t,r,d,A,s,g,C,Z,c,p,B,u=this;if(u.AP&&(u.E["default-width"]||(u.E["default-width"]=u.I),u.B8)){var m=ZC.AL(u.G.K+"-top"),h=u.A.AY.A4,E=0;for(t=0,r=u.B8.length;t<r;t++)t<u.D6.min||t>=u.D6.max||u.NC||(E+=u.B8[t].AP?1:0);u.A4U=!0,u.b(),u.FR&&(u.FR.iX=u.iX,u.FR.iY=u.iY,u.FR.I=u.I,u.FR.Z=u.FR.C8=u.Z,u.FR.paint(),ZC.move||"canvas"!==u.A.A.AB&&u.FR.EO(),u.V2&&"icon"===u.UJ&&((n=new ZC.DT(u)).Z=u.Z,n.B9="#000",n.B1=1,n.DH="line",u.A.G.B6.load(n.o,"("+u.A.AF+").legend.icon"),n.append(u.o.icon),o=u.FR.iX+u.FR.I-10,a=u.FR.iY+u.FR.F/2,n.D=[[o-7,a],[o+7,a],null,[o,a-7],[o,a+7],null,[o-6,a-1],[o-6,a+1],null,[o-5,a-2],[o-5,a+2],null,[o+6,a-1],[o+6,a+1],null,[o+5,a-2],[o+5,a+2],null,[o-1,a-6],[o+1,a-6],null,[o-2,a-5],[o+2,a-5],null,[o-1,a+6],[o+1,a+6],null,[o-2,a+5],[o+2,a+5]],n.parse(),n.paint()),u.UU&&((l=new ZC.DT(u)).Z=u.Z,l.B9=ZC.AO.AAB(u.A0,"#fff","#000"),l.B1=1,u.A.G.B6.load(l.o,"("+u.A.AF+").legend.icon"),l.append(u.o.icon),l.DH="line",o=u.FR.iX+u.FR.I-10-(u.V2&&"icon"===u.UJ?20:0),a=u.FR.iY+u.FR.F/2,l.D=[[o-7,a-2],[o+2,a-2],[o+2,a+7],[o-7,a+7],[o-7,a-2],[o+2,a-2],null,[o-4,a-5],[o+5,a-5],[o+5,a+4],[o-4,a+4],[o-4,a-5],[o+5,a-5]],l.parse(),l.paint())),u.KN&&(u.KN.iX=u.iX,u.KN.iY=u.iY+u.F-u.KN.F,u.KN.I=u.I,u.KN.Z=u.KN.C8=u.Z,u.KN.paint(),ZC.move||"canvas"!==u.A.A.AB&&u.KN.EO());var f=ZC.AQ.A2F(u.N4,E),_=f[0],v=f[1],F=u.I/v,D=u.GQ/_,K=0,I=0;u.Q7=[];var b,Y=0,X=-ZC.MAX,y=u.A2.E["show-line"]?3:2,x=null,N=function(i){var l=i;if(null===ZC._n_(e)&&(e=0),h[b]&&h[b].S[e]){var n=ZC.AO.OA(u.BQ.o,h[b].o);i=h[b].FM(e).K2(i,n)}return u.XO=u.XO||i!==l,i},Q=0;for(u.XO=!1,t=0,r=u.B8.length;t<r;t++)if(!(t-Q<u.D6.min||t-Q>=u.D6.max||u.NC)){var R=new ZC.DQ(u);R.copy(u.B8[t]),u.E["highlight-legend"]===t&&(R.append({bold:!0}),null!==ZC._n_(R.o["highlight-state"])&&R.append(R.o["highlight-state"])),b=R.E.index;var w=new ZC.DQ(u);w.NY="legenditem",w.K=u.K+"-item_"+b,w.GN="zc-legend-item "+u.K+"-item",w.copy(R),u.A.E["plot"+b+".visible"]&&"off"!==h[b].o["legend-status"]||w.append(u.ZD.o),w.append(h[b].o["legend-item"]),w.K2=N,w.parse(),w.AP?("float"===u.N4?(X=ZC.BR(X,R.F),null===ZC._n_(x)?(R.iX=u.iX+u.ER+R.E0+y*R.DI,R.iY=u.EK+u.FJ+R.EB,Y=u.EK):(R.iX=x.iX+x.I+x.EA+R.E0+y*R.DI,ZC._i_(R.iX+R.I+R.EA)>ZC._i_(u.iX+u.I)&&(R.iX=u.iX+u.ER+R.E0+y*R.DI,Y+=X+R.EB+R.DW,X=-ZC.MAX),R.iY=Y+u.FJ+R.EB)):(R.iX=u.iX+(0===I?u.ER:0)+I*F+R.E0+y*R.DI,R.iY=u.EK+u.FJ+K*D+R.EB,++I===v&&(I=0,K++)),x=R,w.iX=R.iX=ZC._i_(R.iX),w.iY=R.iY=ZC._i_(R.iY),w.Z=w.C8=u.Z,w.iX+=u.BK,w.iY+=u.BJ,b===u.ND&&(u.E["calculate-y"]&&(u.E["calculate-y"]=!1,u.E["dragged-offset-y"]=u.E["dragged-y"]-w.iY),w.iY=u.E["dragged-y"]-u.E["dragged-offset-y"]-w.DI/4),w.paint(),"undefined"!=typeof u.E.showhide&&null!==ZC._n_(u.E.showhide)||ZC.move||("canvas"!==u.A.A.AB?w.EO():u.XQ.push(w))):Q++;var z=u.A2.E.type;null!==ZC._n_(i=h[b].o["legend-marker"])&&null!==ZC._n_(i.type)&&(z=i.type);var G,M=!1;switch("match"!==z&&"inherit"!==z||(M=!0,null!==ZC._n_(i=h[b].A2.o.type)?(z=i,u.A2.o.type=null):z="default"),-1!==ZC.AV(["default","square"],z)?G=new ZC.HU(u):(G=new ZC.DT(u)).DH=z,G.NY="legendmarker",G.append(u.A2.o),u.A.E["plot"+b+".visible"]&&"off"!==h[b].o["legend-status"]||G.append(u.NN.o),G.NB=h[b].NB,h[b].AF){case"pie":case"pie3d":case"nestedpie":case"vbar":case"vbar3d":case"hbar":case"hbar3d":case"vbullet":case"hbullet":case"area":case"area3d":case"gauge":case"vfunnel":case"hfunnel":case"venn":G.A0=h[b].A0,G.AE=h[b].AE,G.GT=h[b].GT,G.HQ=h[b].HQ;break;case"scatter":case"hscatter":case"bubble":case"hbubble":G.A0="-1"!==h[b].A2.A0?h[b].A2.A0:h[b].A0,G.AE="-1"!==h[b].A2.AE?h[b].A2.AE:h[b].AE,G.GT=""!==h[b].A2.GT?h[b].A2.GT:h[b].GT,G.HQ=""!==h[b].A2.HQ?h[b].A2.HQ:h[b].HQ;break;default:G.A0=h[b].B9,G.AE=h[b].B9}if("line"!==G.DH&&"area"!==G.DH||(G.B9=G.A0,G.B1=2),M){var k=-1,J=!0;null!==ZC._n_(G.o.size)&&(k=G.o.size),null!==ZC._n_(G.o.visible)&&(J=G.o.visible),G.append(h[b].A2.o),-1!==k&&(G.o.size=k),G.o.visible=J}G.o["line-style"]="solid",G.o.type=G.DH,G.append(h[b].o["legend-marker"]),M&&(G.o.type=G.DH),G.E["show-marker"]=!0,G.E["show-line"]=!1,null!==ZC._n_(i=G.o["show-line"])&&(G.E["show-line"]=ZC._b_(i)),null!==ZC._n_(i=w.o["show-line"])&&(G.E["show-line"]=ZC._b_(i)),null!==ZC._n_(i=w.o["show-marker"])&&(G.o.visible=ZC._b_(i)),-1!==ZC.AV(["default","square"],z)&&null!==ZC._n_(i=G.o.size)&&(null===ZC._n_(G.o.width)&&(G.o.width=2*ZC._i_(i)),null===ZC._n_(G.o.height)&&(G.o.height=2*ZC._i_(i))),G.K=u.K+"-marker_"+b,G.Z=G.C8=u.Z,G.iX=w.iX-y*w.DI+(y-1)*w.DI/2+w.DI/2,G.iY=w.iY+(w.F-w.DI)/2+w.DI/2,G.parse(),u.E["highlight-legend"]===t&&(G.append({size:G.AI+1,width:G.I+2,height:G.F+2}),h[b]&&h[b].S[e]&&h[b].S[e].GL&&G.append({A0:h[b].S[e].GL.A0,AE:h[b].S[e].GL.AE}),null!==ZC._n_(u.o.marker)&&G.append(u.o.marker["highlight-state"]),G.parse()),"line"===G.DH?(G.o.points=[[G.iX-1.75*G.AI,G.iY],[G.iX+1.75*G.AI,G.iY]],G.parse()):"area"===G.DH&&(G.o.points=[[G.iX-1.75*G.AI,G.iY+G.AI],[G.iX+1.75*G.AI,G.iY+G.AI],[G.iX+1*G.AI,G.iY-G.AI/2],[G.iX,G.iY],[G.iX-1.25*G.AI,G.iY-G.AI],[G.iX-1.75*G.AI,G.iY+G.AI]],G.parse());var P=G.iX+G.BK,H=G.iY+G.BJ;-1!==ZC.AV(["default","square"],z)&&(G.iX-=G.I/2,G.iY-=G.F/2);var L="On";if(u.A.E["plot"+b+".visible"]&&"off"!==h[b].o["legend-status"]||(G.C5/=4,L="Off"),w.AP&&G.E["show-line"]){var V=ZC.Q.EE(u.Z,u.A.G.AB),W=new ZC.CZ(u);W.Z=u.Z,W.copy(h[b]),W.o["line-style"]=u.A2.GE,W.append(h[b].o),W.append(u.A2.o),W.append(h[b].o["legend-item"]),W.append(h[b].o["legend-marker"]),W.o["top-state"]=null,W.o["bottom-state"]=null,W.parse(),u.A.E["plot"+b+".visible"]||(W.C5=.25);var O=[],U=G.AP?2:1;d="box"===G.DH?G.I/2:G.AI,O.push([P-U*d-(W.B1>1?1:0),H-(W.B1>1?.5:0)]),O.push([P+U*d,H-(W.B1>1?.5:0)]),W.D0=!0,ZC.CO.paint(V,W,O)}b===u.ND&&(G.iY=u.E["dragged-y"]-u.E["dragged-offset-y"]/2),G.AP&&w.AP&&G.paint(),u.Q7.push(G);var T=!0;if(null!==ZC._n_(i=u.BQ.o.toggle)&&(T=ZC._b_(i)),u.E["item.toggle"]=T,w.AP||G.AP){if(-1===ZC.AV(u.A.G.KQ,"skip_interactivity")){var S=G.BK+("box"===G.DH?G.iX+G.I/2:G.iX),q=G.BJ+("box"===G.DH?G.iY+G.F/2:G.iY);d="box"===G.DH?G.I/2:G.AI,A="box"===G.DH?G.F/2:G.AI;var $=(G.E["show-line"]?2:1)*d;if(!ZC.AL(w.K+"-area")&&(G.AP&&"disabled"!==u.PW&&"disabled"!==G.o["toggle-action"]&&(ZC.AL(G.K+"-area")||ZC.Q.I2({cls:u.K+"-marker-area zc-legend-marker-area zc-abs",id:G.K+"-area",wh:2*$+"/"+2*A,tl:q-A+"/"+(S-$),opacity:0,background:"#fff",cursor:G.IE,p:m,zidx:1})),w.AP&&"disabled"!==u.R4&&"disabled"!==w.o["toggle-action"])){ZC.AL(w.K+"-area")||ZC.Q.I2({cls:u.K+"-item-area zc-legend-item-area zc-abs",id:w.K+"-area",wh:w.I+"/"+w.F,tl:w.iY+w.BJ+"/"+(w.iX+w.BK),opacity:0,background:"#fff",cursor:w.IE,p:m,zidx:1});var j=u.K+"-item-a11yarea zc-legend-item-a11yarea zc-abs",ee=ZC.Q.FP("poly",u.A.E9,u.IE)+'class="'+j+'" id="'+w.K+"-a11yarea";u.A.AY.H3=u.A.AY.H3||[],u.A.AY.H3.push(ee+'" coords="0,0,0,0" data-z-sort="-199" data-coords="'+w.F1()+'" tabindex="0" role="button" aria-label="Legend item. '+w.AN+". "+L+'" />')}}}else h[t].bShowInLegend=!1}if(u.D3&&!u.NC&&(u.D3.paint(),ZC.AL(u.K+"-scroll-c").style.display="block"),u.D3&&u.NC&&(ZC.AL(u.K+"-scroll-c").style.display="none"),u.D6.enabled&&!u.NC){var ie=new ZC.DQ(u);ie.Z=ie.C8=u.Z,ie.K=u.K+"-page-status",ie.AN=ZC.HG["legend-pagination"].replace("%page%",u.D6.page).replace("%pages%",u.D6.pages),ie.append(u.o["page-status"]),ie.parse(),u.I<ie.I+48&&(ie.AN=u.D6.page+"/"+u.D6.pages,ie.parse()),ie.iX=u.iX+u.I/2-ie.I/2,ie.iY=u.iY+u.F-(u.KN?u.KN.F:0)-ie.F-4,ie.AP&&ie.paint();var le=u.A.G.B6,ne="("+u.A.AF+")",oe={"background-color":"#999"},ae={"background-color":"#f90"};le.load(oe,ne+".legend.page-off"),le.load(ae,ne+".legend.page-on"),(g=new ZC.DT(u)).Z=g.C8=u.Z,g.K=u.K+"-page-prev",g.A0=g.AE=u.D6.page>1?ae["background-color"]:oe["background-color"],g.append(u.D6.page>1?u.o["page-on"]:u.o["page-off"]),s=u.iX+u.I/2-ie.I/2-6,C=ie.iY+ie.F/2,g.parse(),g.AI=ZC.BR(g.AI,8),B=ZC._i_(.75*g.AI),g.D=[[s,C-B],[s,C+B],[s-g.AI,C],[s,C-B]],g.parse(),g.AP&&g.paint(),(c=new ZC.DT(u)).Z=c.C8=u.Z,c.K=u.K+"-page-next",c.A0=c.AE=u.D6.page<u.D6.pages?ae["background-color"]:oe["background-color"],c.append(u.D6.page<u.D6.pages?u.o["page-on"]:u.o["page-off"]),Z=u.iX+u.I/2+ie.I/2+6,p=ie.iY+ie.F/2,c.parse(),c.AI=ZC.BR(c.AI,8),B=ZC._i_(.75*c.AI),c.D=[[Z,p-B],[Z,p+B],[Z+c.AI,p],[Z,p-B]],c.parse(),c.AP&&c.paint()}if(!ZC.move){var te,re,de=u.F,Ae=u.iY;u.FR&&(de-=u.FR.F,Ae+=u.FR.F),ZC.AL(u.K+"-frame")?ZC.A3("#"+u.K+"-frame").css("top",Ae+"px").css("left",u.iX+"px").css("width",u.I+"px").css("height",de+"px"):ZC.Q.I2({cls:"zc-abs zc-legend-frame "+u.G.K+"-legend-frame "+u.K+"-frame",id:u.K+"-frame",wh:u.I+"/"+de,tl:Ae+"/"+u.iX,opacity:0,background:"#fff",p:m,zidx:0}),u.D6.enabled&&!u.NC&&(u.D6.page>1&&ZC.Q.I2({cls:u.K+"-page-area zc-legend-page-area zc-abs",id:u.K+"-page-prev-area",wh:g.AI+"/"+2*g.AI,tl:ZC._i_(C+g.BJ-g.AI)+"/"+ZC._i_(s+g.BK-g.AI),opacity:0,p:m,zidx:1}),u.D6.page<u.D6.pages&&ZC.Q.I2({cls:u.K+"-page-area zc-legend-page-area zc-abs",id:u.K+"-page-next-area",wh:c.AI+"/"+2*c.AI,tl:ZC._i_(p+g.BJ-c.AI)+"/"+ZC._i_(Z+c.BK),opacity:0,p:m,zidx:1})),u.FR&&u.V2&&("icon"===u.UJ?(re=ZC._i_(u.FR.iY+ZC.MAPTX+n.BJ)+"/"+ZC._i_(u.FR.iX+u.FR.I-20+ZC.MAPTX+n.BK),te="20/"+u.FR.F):(re=ZC._i_(u.FR.iY+ZC.MAPTX)+"/"+ZC._i_(u.FR.iX+ZC.MAPTX),te=u.FR.I-(u.UU?23:0)+"/"+u.FR.F),ZC.Q.I2({cls:u.K+"-header-area zc-legend-header-area zc-abs",id:u.K+"-move-area",wh:te,tl:re,opacity:0,p:m,zidx:1})),u.UU&&(u.V2&&"icon"===u.UJ?(re=ZC._i_(u.FR.iY+ZC.MAPTX+l.BJ)+"/"+ZC._i_(u.FR.iX+u.FR.I-41+ZC.MAPTX+l.BK),te="20/"+u.FR.F):(re=ZC._i_(u.FR.iY+ZC.MAPTX+l.BJ)+"/"+ZC._i_(u.FR.iX+u.FR.I-22+ZC.MAPTX+l.BK),te="20/"+u.FR.F),ZC.Q.I2({cls:u.K+"-header-area zc-legend-header-area zc-abs",id:u.K+"-minimize-area",wh:te,tl:re,opacity:0,p:m,zidx:1})),u.OY=0,u.A03=0,u.zc_legend_mouseover=function(){u.YS=!0},u.zc_legend_mouseout=function(){u.YS=!1},u.Z6=function(e){if(e.preventDefault(),u.G.hideCM(),ZC.move=!0,ZC.mobile||!(e.which>1)){u.A.A.E["graph-"+u.A.K+"-legend-info"]=null;var i=ZC.Q.MJ(e),l=ZC.A3("#"+u.A.A.K+"-top").offset();u.OY=i[0]-l.left-u.FR.iX,u.A03=i[1]-l.top-u.FR.iY,u.oldcursor=document.body.style.cursor,document.body.style.cursor="move",ZC.A3(document.body).bind(ZC.Q.C1("mousemove"),u.Z7),ZC.A3(document.body).bind(ZC.Q.C1("mouseup"),u.A0W)}},u.Z7=function(e){var i=ZC.Q.MJ(e),l=ZC.A3("#"+u.A.A.K+"-top").offset(),n=i[0]-l.left-u.OY,o=i[1]-l.top-u.A03;if(u.PV?(n=ZC.BR(n,u.G.iX+2),n=ZC.CY(n,u.G.iX+u.G.I-u.I-2),o=ZC.BR(o,u.G.iY+2),o=ZC.CY(o,u.G.iY+u.G.F-u.F-4)):(n=ZC.BR(n,u.A.iX+2),n=ZC.CY(n,u.A.iX+u.A.I-u.I-2),o=ZC.BR(o,u.A.iY+2),o=ZC.CY(o,u.A.iY+u.A.F-u.F-4)),u.PV||(n-=u.A.iX,o-=u.A.iY),u.o.x=n,u.o.y=o,u.o.position=null,u.clear(!0),u.parse(),u.paint(),u.FR){var a=u.PV?u.A.A:u.A;u.A.A.E["legend"+u.A.L+"-xy-ratio"]=[n/a.I,o/(a.F-u.FR.F)]}},u.A0W=function(){ZC.move=!1,document.body.style.cursor=u.oldcursor,delete u.oldcursor,ZC.A3(document.body).unbind(ZC.Q.C1("mousemove"),u.Z7),ZC.A3(document.body).unbind(ZC.Q.C1("mouseup"),u.A0W),u.XQ=[],u.clear(!1),u.parse(),u.paint(),u.WE()},u.YZ=function(e){u.E["default-width"]=null,-1!==(e.targetid||e.target.id).indexOf("-page-next-area")?(u.D6.min+=u.EJ,u.D6.max+=u.EJ,u.D6.page+=1):(u.D6.min-=u.EJ,u.D6.max-=u.EJ,u.D6.page-=1),(!(i=u.A.A.E["graph-"+u.A.K+"-legend-info"])||null===ZC._n_(i.x)&&null===ZC._n_(i.y))&&(u.iX=null,u.iY=null),u.WE(),u.A.KC()},u.Y2=function(e){var i=u.NC?"legendmaximize":"legendminimize";e&&(u.A.A.E["legend-toggling"]=1),zingchart.exec(u.A.G.K,i,{graphid:u.A.L}),e&&(u.A.A.E["legend-toggling"]=0),e&&(u.A.A.E["g"+u.A.L+"-legend-collapsed"]="legendminimize"===i)},u.MS=function(e){ZC.move=!0;var i=ZC.Q.MJ(e),l=ZC.A3("#"+u.A.A.K+"-top").offset(),n=i[0]-l.left,o=i[1]-l.top;u.E["dragged-x"]=n,u.E["dragged-y"]=o,u.WE(),u.clear(!1),u.parse(),u.paint()},u.W7=function(e){if(e.preventDefault(),u.G.hideCM(),u.IE=document.body.style.cursor,document.body.style.cursor="move",ZC.mobile||!(e.which>1)){var i=new RegExp("-legend-item_([0-9]+)-area","g").exec(e.target.id);i&&(u.E["dragged-offset-y"]=0,u.E["calculate-y"]=!0,u.E["dragged-x"]=0,u.E["dragged-y"]=0,u.ND=ZC._i_(i[1]),u.iDragPos=ZC.AV(u.A.AY.MA,u.ND),ZC.A3(document.body).bind(ZC.Q.C1("mousemove"),u.MS),ZC.A3(document.body).bind(ZC.Q.C1("mouseup"),u.XG))}},u.XG=function(){var e=u.ND,i=u.iDragPos;if(u.ND=-1,u.iDragPos=-1,u.E["calculate-y"]=!1,document.body.style.cursor=u.IE,ZC.move||(e=-1,i=-1),ZC.A3(document.body).unbind(ZC.Q.C1("mousemove"),u.MS),ZC.A3(document.body).unbind(ZC.Q.C1("mouseup"),u.XG),ZC.move&&-1!==e){for(var l=u.A.AY.A4,n=u.A.AY.MA,o=0,a=l.length;o<a;o++)l[o].o["legend-item"]=l[o].o["legend-item"]||{},null===ZC._n_(l[o].o["legend-item"].order)&&(l[o].o["legend-item"].order=ZC._i_(l[o].o["z-index"]||o+1));for(var t=l[e].o["legend-item"].order,r=-1,d=0,A=u.Q7.length;d<A;d++)u.E["dragged-y"]-u.E["dragged-offset-y"]/2>u.Q7[d].iY&&(r=d);for(l[e].o["legend-item"].order=-1===r?.5:l[n[r]].o["legend-item"].order+.5,d=0,A=u.Q7.length;d<A;d++)r>i?l[d].o["legend-item"].order<l[e].o["legend-item"].order&&l[d].o["legend-item"].order>t&&l[d].o["legend-item"].order--:l[d].o["legend-item"].order>l[e].o["legend-item"].order&&l[d].o["legend-item"].order<t&&l[d].o["legend-item"].order++;for(l[e].o["legend-item"].order=r>i?Math.floor(l[e].o["legend-item"].order):Math.ceil(l[e].o["legend-item"].order),d=0,A=u.Q7.length;d<A;d++)u.A.o.series[d]["z-index"]=l[d].o["legend-item"].order}u.A.AY.E["plot-sort"]=!0,ZC.move=!1,u.clear(!1),u.A.KC()},ZC.A3("#"+u.K+"-frame").live(ZC.Q.C1("mouseover"),u.zc_legend_mouseover).live(ZC.Q.C1("mouseout"),u.zc_legend_mouseout),ZC.A3("#"+u.K+"-move-area").live(ZC.Q.C1("mousedown"),u.Z6),ZC.A3("#"+u.K+"-minimize-area").live(ZC.Q.C1("click"),u.Y2),ZC.A3("."+u.K+"-page-area").live(ZC.Q.C1("click"),u.YZ),u.BQ.o.reorder&&ZC.A3("."+u.A.K+"-legend-item-area").live("mousedown",u.W7)}u.E.showhide=null,1===u.A.A.E["legend-toggling"]||ZC.move||(u.M5&&null===ZC._n_(u.A.A.E["g"+u.A.L+"-legend-collapsed"])||u.A.A.E["g"+u.A.L+"-legend-collapsed"]&&!u.NC)&&(window.setTimeout(function(){u.Y2(!0)},0),u.A.A.E["g"+u.A.L+"-legend-collapsed"]=!0)}},gc:function(){ZC.AO.gc(this,["B8","D","Q7","Z","C8","o","J2","IB","KN","FR","BQ","ZD","G","A","A2","NN","D6"])}};ZC.V5=ZC.DQ.CD(V5),ZC.WJ.push("legend"),ZC.JN.prototype.ACQ=function(){if(!zingchart.SKIP.LEGEND){var e,i=this;if(i.BE){if(i.BE.PV&&i.L!==i.A.AG.length-1&&!i.BE.o.force)return;i.BE.Z=i.BE.C8=i.G.usc()?i.G.mc("top"):ZC.AL(i.K+"-legend-c"),i.BE.paint(),-1===ZC.AV(i.G.KQ,"skip_interactivity")&&(i.O4=function(e){var l,n;if(!ZC.move){i.A7&&i.A.A7&&i.A7.AP&&i.A.A7.onmouseover(e);var o=e.targetid||e.target.id,a=ZC._i_(o.replace(i.K,"").replace("-legend-item_","").replace("-legend-marker_","").replace("-area","").replace("-marker","")),t=i.AY.A4[a];if(t.FV&&(i.BE.WV||t.I9)&&t.S.length)for(l=0,n=t.S.length;l<n;l++)if(null!==t.S[l]&&t.S[l].J1&&(t.FM(l).A15("highlight"),i.BE.PV))for(var r=0;r<i.A.AG.length;r++)if(i.A.AG[r].BE&&i.A.AG[r].BE.PV&&i.A.AG[r].AY.A4[t.L]){var d=i.A.AG[r].AY.A4[t.L];d.FM(l)&&d.FM(l).A15("highlight")}ZC.move=!0;var A=t.L;t.o["legend-item"]&&null!==ZC._n_(t.o["legend-item"].order)&&(A=ZC._i_(t.o["legend-item"].order)),i.BE.o["reverse-series"]&&(A=i.AY.A4.length-1-A),i.BE.highlightItem(A),ZC.move=!1;var s=i.AY.A4[a].V6(e);i.E["legend-action-index"]=a,ZC.AO.C0("legend_mouseover",i.A,s)}},i.PT=function(e){ZC.move||i.A7&&i.A.A7&&i.A7.AP&&i.A.A7.onmousemove(e)},i.OE=function(e){if(!ZC.move){if(i.A7&&i.A.A7&&i.A7.AP&&i.A.A7.onmouseout(e),i.LN(),i.BE.PV)for(var l=0;l<i.A.AG.length;l++)i.A.AG[l].BE&&i.A.AG[l].BE.PV&&i.A.AG[l].LN();ZC.move=!0,i.BE.highlightItem(-1),ZC.move=!1;var n=ZC._c_(i.E["legend-action-index"],0),o=i.AY.A4[n].V6(e);ZC.AO.C0("legend_mouseout",i.A,o)}},i.zc_legend_mousescroll=function(e){i.BE.D3&&"scroll-y"===i.BE.D3.AF&&(e.preventDefault(),i.BE.D3.A3T(e))},i.SS=function(l){if(i.E.legend_toggle_action=!0,!(ZC.move||(zingchart.SH(l),l.which>1))){var n,o,a,t=l.targetid||l.target.id,r=ZC._b_(i.BE.BQ.o.reorder);ZC.mobile&&i.G.A7&&i.G.A7.hide();var d="item";-1!==t.indexOf("-legend-marker_")&&(d="marker"),i.LN(),l.preventDefault();var A=i.BE.I5;"item"===d?A=i.BE.R4:"marker"===d&&(A=i.BE.PW),i.A.KD&&"hide"===A&&(A="remove"),i.E["legend-last-trigger"]=d;var s=ZC._i_(t.replace(i.K+"-legend-item_","").replace(i.K+"-legend-marker_","").replace("-area",""));if(i.o.series&&i.o.series[s]){if(null!==ZC._n_(e=i.o.series[s]["legend-item"])){var g=e.url||"",C=e.target||"";""!==g&&i.V8(l,g,C)}i.o.series[s].visible=!0}var Z,c,p,B=i.AY.A4[s].V6(l);switch(B.visible=ZC._b_(i.E["plot"+s+".visible"]),B.toggleaction=A,ZC.AO.C0("legend_click",i.A,B),ZC.AO.C0("legend_"+d+"_click",i.A,B),A){default:break;case"hide":case"remove":if(l.shiftKey){var u=0;for(n=0,o=i.AY.A4.length;n<o;n++)if(n!==s&&(a=++u===o-1,i.QL({"ignore-legend":r,KC:a,plotindex:n,"toggle-action":A}),i.BE.PV))for(Z=0,c=i.G.AG.length;Z<c;Z++)(p=i.G.AG[Z]).BE&&p.BE.PV&&p.BE.A4W===i.BE.A4W&&p.K!==i.K&&p.QL({"ignore-legend":!0,KC:a,plotindex:n,"toggle-action":A})}else if(i.QL({"ignore-legend":r,KC:1,plotindex:s,"toggle-action":A}),i.BE.PV)for(Z=0,c=i.G.AG.length;Z<c;Z++)(p=i.G.AG[Z]).BE&&p.BE.PV&&p.BE.A4W===i.BE.A4W&&p.K!==i.K&&p.QL({"ignore-legend":!0,KC:1,plotindex:s,"toggle-action":A})}"hide"===A&&i.E.hooks&&(i.P3(),i.R3())}},ZC.A3("."+i.K+"-legend-item-area").live("mouseup touchstart",i.SS).live("DOMMouseScroll",i.zc_legend_mousescroll).live("mousewheel",i.zc_legend_mousescroll),ZC.A3("."+i.K+"-legend-marker-area").live("mouseup touchstart",i.SS).live("DOMMouseScroll",i.zc_legend_mousescroll).live("mousewheel",i.zc_legend_mousescroll),ZC.A3("#"+i.K+"-legend-frame").live("DOMMouseScroll",i.zc_legend_mousescroll).live("mousewheel",i.zc_legend_mousescroll),ZC.mobile||(ZC.A3("."+i.K+"-legend-item-area").live(ZC.Q.C1("mouseover"),i.O4).live(ZC.Q.C1("mouseout"),i.OE).live(ZC.Q.C1("mousemove"),i.PT),ZC.A3("."+i.K+"-legend-marker-area").live(ZC.Q.C1("mouseover"),i.O4).live(ZC.Q.C1("mouseout"),i.OE).live(ZC.Q.C1("mousemove"),i.PT)))}}};