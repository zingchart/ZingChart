/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.15
*/
ZC.WJ.push("refresh"),ZC.JN.prototype.A37=function(){for(var s=this,e=0,t=0,n=s.BO.length;t<n;t++)"k"===s.BO[t].AF&&s.o[s.BO[t].BD]&&s.o[s.BO[t].BD][ZC._[5]]&&(e=ZC.BR(e,s.o[s.BO[t].BD][ZC._[5]].length));for(t=0,n=s.AY.A4.length;t<n;t++)null!==ZC._n_(s.o[ZC._[11]][t])&&s.o[ZC._[11]][t][ZC._[5]]&&(e=ZC.BR(e,s.o[ZC._[11]][t][ZC._[5]].length));return e},ZC.JN.prototype.UD=function(){var s,e=this;if(e.HI&&"full"!==e.HI.type)for(var t=e.A37(),n=0,r=e.BO.length;n<r;n++)"k"===e.BO[n].AF&&(e.BO[n].CM?(s=(e.BO[n].F-e.BO[n].A9-e.BO[n].BU)/ZC._i_(e.HI["max-ticks"]),e.BO[n].OR=ZC.BR(0,e.BO[n].F-t*s)):(s=(e.BO[n].I-e.BO[n].A9-e.BO[n].BU)/ZC._i_(e.HI["max-ticks"]),e.BO[n].OR=ZC.BR(0,e.BO[n].I-t*s)),ZC._b_(e.HI["adjust-scale"])&&(e.BO[n].OR=0),e.BO[n].A9=e.BO[n].A41+e.BO[n].OR,e.A.E[e.K+"-"+e.BO[n].BD+"-feed-offset-start"]=e.BO[n].A9,e.BO[n].W=ZC.BR(0,e.BO[n].A1-e.HI["max-ticks"]+1),e.BO[n].J6())},ZC.JN.prototype.AC1=function(){var s=this,H,MR,ws,OV,OK,M0,A13,A43,A54,A9N,A0I,A5N,E9,OV;s.E["from-api"]&&(window.clearTimeout(ZC.REFRESH_TICK[s.K]),delete s.E["from-api"]),s.HI&&(OV=ZC._i_(s.HI.interval),OV=50<=OV?OV:1e3*OV,"full"===s.HI.type?"http"===s.HI.transport?ZC.REFRESH_TICK[s.K]=window.setTimeout(function(){s.A.N8(s),ZC.ZS(function(){s.A.load(s.K,s.A9F||s.HI.url)})},OV):"websockets"===s.HI.transport&&ZC.websockets&&(s.G.SE[s.K]?"pull"===s.HI.method&&(ZC.REFRESH_TICK[s.K]=window.setTimeout(function(){s.G.SE[s.K].send("zingchart.getdata")},OV)):(ws=new WebSocket(s.HI.url,"zingchart"),ws.onopen=function(){ws.send("zingchart."+s.HI.type),ws.send("zingchart."+s.HI.method),ws.send("zingchart.getdata")},ws.onmessage=function(e){"ready"===s.M7&&(s.A.N8(s),s.M7="full",ZC.ZS(function(){zingchart.exec(s.A.K,"setdata",{graphid:s.K,data:e.data,softclear:!0})}))},s.G.SE[s.K]=ws)):"feed"===s.HI.type&&null!==ZC._n_(s.HI.url)&&(null!==ZC._n_(s.HI.curtain)&&(OK=s.BW("k"),0<OK.length)&&(ZC.Q.EW(s.K+"-curtain-t"),0<OK[0].OR)&&(M0=new ZC.DQ(s),s.A.B6.load(M0.o,"("+s.AF+").refresh.curtain"),M0.append(s.HI.curtain),M0.parse(),M0.AP)&&(OK[0].CM&&M0.F<=OK[0].OR||!OK[0].CM&&M0.I<=OK[0].OR)&&(M0.K=s.K+"-curtain-t",M0.IP=ZC.AL(s.A.K+"-text-top"),OK[0].CM?(M0.F>OK[0].OR&&(M0.AN="",M0.parse()),M0.iX=s.P.iX,M0.iY=OK[0].AW?s.P.iY:s.P.iY+s.P.F-OK[0].OR,M0.I=s.P.I,M0.F=OK[0].OR):(M0.I>OK[0].OR&&(M0.AN="",M0.parse()),M0.iX=OK[0].AW?s.P.iX+s.P.I-OK[0].OR:s.P.iX,M0.iY=s.P.iY,M0.I=OK[0].OR,M0.F=s.P.F),M0.Z=M0.C8=ZC.AL(s.K+"-scales-ml-0-c"),M0.paint()),A13=s.HI.transport,A43=ZC._i_(s.HI["reset-timeout"]),A54=ZC._i_(s.HI["stop-timeout"]),A9N=ZC._b_(s.HI.storage),A0I=!0,null!==ZC._n_(s.HI["preserve-data"])&&(A0I=ZC._b_(s.HI["preserve-data"])),A5N=function(KK){for(var TW=eval("("+KK+")"),i,A6,A8P=TW instanceof Array?TW:[TW],r=0,rLen=A8P.length;r<rLen;r++){for(var DM=A8P[r],i=0,A6=s.BO.length,BD,A3S;i<A6;i++){"k"===s.BO[i].AF&&(BD=s.BO[i].BD,null!==ZC._n_(DM[BD]))&&null!==ZC._n_(s.o[BD])&&(null===ZC._n_(s.o[BD][ZC._[5]])&&(s.G.o[ZC._[16]][s.L][BD][ZC._[5]]=[],s.o[BD][ZC._[5]]=[]),s.o[BD][ZC._[5]].push(DM[BD]),!A0I&&s.o[BD][ZC._[5]].length>ZC._i_(s.HI["max-ticks"])&&s.o[BD][ZC._[5]].splice(0,1),s.G.o[ZC._[16]][s.L][BD][ZC._[5]].push(DM[BD]),(s.o[BD][ZC._[5]].length>A43||1===s.MH[1])&&(s.G.o[ZC._[16]][s.L][BD][ZC._[5]]=[],s.o[BD][ZC._[5]]=[],s.G.E["graph"+s.L+".zoom"]&&(s.G.E["graph"+s.L+".zoom"].xmin=null,s.G.E["graph"+s.L+".zoom"].xmax=null),s.HO&&(s.HO.unbind(),ZC.Q.IW(ZC.AL(s.K+"-scroll-x-c"),s.A.AB,s.iX,s.iY,s.I,s.F,s.K),ZC.A3("#"+s.K+"-scroll-x-handle").remove(),ZC.A3("#"+s.K+"-scroll-x-bar").remove()),s.HY)&&(s.HY.unbind(),ZC.Q.IW(ZC.AL(s.K+"-scroll-y-c"),s.A.AB,s.iX,s.iY,s.I,s.F,s.K),ZC.A3("#"+s.K+"-scroll-y-handle").remove(),ZC.A3("#"+s.K+"-scroll-y-bar").remove()),ZC.webstorage)&&A9N&&ZC.AO.storage.push("zingchart.scale."+s.K+"."+BD,""+DM[BD])}for(i=0,A6=s.AY.A4.length;i<A6;i++){null!==ZC._n_(s.o[ZC._[11]][i])&&(A3S=null,null===ZC._n_(H=DM["plot-"+i])&&null===ZC._n_(H=DM["plot"+i])||(A3S=H),"xy"===s.AJ.layout||"yx"===s.AJ.layout?(s.G.o[ZC._[16]][s.L][ZC._[11]][i][ZC._[5]].push(A3S),!A0I&&s.G.o[ZC._[16]][s.L][ZC._[11]][i][ZC._[5]].length>ZC._i_(s.HI["max-ticks"])&&s.G.o[ZC._[16]][s.L][ZC._[11]][i][ZC._[5]].splice(0,1)):s.G.o[ZC._[16]][s.L][ZC._[11]][i][ZC._[5]]=[A3S],ZC.webstorage&&A9N&&(H=DM["plot"+i],"object"==typeof H&&(H=H.join("###")),ZC.AO.storage.push("zingchart.plot."+s.K+".plot"+i,""+H)),s.o[ZC._[11]][i][ZC._[5]].length>A43||1===s.MH[1])&&(ZC.AO.C0("feed_clear",s.A,s.H2(),DM),s.G.o[ZC._[16]][s.L][ZC._[11]][i][ZC._[5]]=[])}MR=s.A37()}("ready"===s.M7||s.GG)&&(1===s.MH[1]&&(s.MH[1]=0),MR<=A54||0===A54)&&(s.M7="feed",ZC.ZS(function(){ZC.AL(s.A.K+"-main")&&(ZC.AO.C0("feed_step",s.G,s.H2(),s.o),s.parse(),s.clear(!0),s.UD(),s.paint(!0,!0))}))},"http"===A13||"js"===A13?(E9=s.HI.url,ZC.REFRESH_TICK[s.K]=window.setTimeout(function(){if(1===s.MH[0]||1===s.MH[1])if(s.A.N8(s),"http"===A13){var EX=["query-string"===s.A.N5?"zcrandom="+Math.random():"",zingchart.ZCOUTPUT?"zcoutput="+s.G.AB:""].join("&");ZC.A3.ajax({type:"GET",url:E9,beforeSend:function(e){s.A.RV.data||"http-headers"!==s.A.N5||e.setRequestHeader(ZC._[45],"Thu, 01 Jan 1970 00:00:00 GMT")},data:EX,dataType:"text",error:function(){},success:function(s){A5N(s)}})}else if("()"===E9.substring(E9.length-2)||"javascript:"===E9.substring(0,11))try{var ED=E9.replace("javascript:","").replace("()","");eval(ED)&&eval(ED).call(s,function(s){A5N(s)},s.H2())}catch(e){}},OV)):"websockets"===A13&&ZC.websockets&&(s.G.SE[s.K]?"pull"===s.HI.method&&(ZC.REFRESH_TICK[s.K]=window.setTimeout(function(){s.G.SE[s.K].send("zingchart.getdata")},OV)):(ws=new WebSocket(s.HI.url,"zingchart"),ws.onopen=function(){ws.send("zingchart."+s.HI.type),ws.send("zingchart."+s.HI.method),ws.send("zingchart.startfeed"),"pull"===s.HI.method&&ws.send("zingchart.getdata")},ws.onmessage=function(e){1!==s.MH[0]&&1!==s.MH[1]||A5N(e.data)},s.G.SE[s.K]=ws))))},zingchart.ABP=function(s,e,t){document.getElementById("zc-fullscreen")&&(s="zc-fullscreen"),"string"==typeof(t=t||{})&&(t=JSON.parse(t));var n,r=zingchart.getLoader(s);if(r){var a=r.CB(t[ZC._[3]]);switch(e){case"clearfeed":a.MH[1]=1,0===a.MH[0]&&ZC.ZS(function(){a.parse(),a.clear(!0),a.UD(),a.paint(!0,!0)});break;case"getinterval":return a.HI.interval;case"setinterval":ZC.AO.C0("feed_interval_modify",r,a.H2()),a.o.refresh=a.o.refresh||{},a.o.refresh.interval=t.interval||1;break;case"stopfeed":1===a.MH[0]&&(ZC.AO.C0("feed_stop",r,a.H2()),a.MH[0]=0,null!==ZC._n_(n=r.SE[a.K]))&&n.send("zingchart.stopfeed");break;case"startfeed":0===a.MH[0]&&(ZC.AO.C0("feed_start",r,a.H2()),a.MH[0]=1,null!==ZC._n_(n=r.SE[a.K])&&n.send("zingchart.startfeed"),ZC.ZS(function(){a.parse(),a.clear(!0),a.UD(),a.paint(!0,!0)}))}}return null};