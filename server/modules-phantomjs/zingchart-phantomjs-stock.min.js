/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.8
*/
ZC.WI.push("stock"),ZC.A9X=ZC.NI.CA({$i:function(e){this.b(e);var A=this;A.AF="stock",A.AY=new ZC.A7Y(A),A.AJ["enable-guide"]=!0,A.AJ["enable-animation"]=!1,A.AJ["enable-scroll"]=!0,A.AJ["enable-preview"]=!0},MO:function(e,A){switch(e){case"x":var a=this.b(e,A);return a.DJ=!0,a;case"y":return this.b(e,A)}}}),ZC.A7Y=ZC.LJ.CA({ACW:function(){return new ZC.VB(this)}}),ZC.VB=ZC.A21.CA({$i:function(e){this.b(e);var A=this;A.AF="stock",A.CW="candlestick",A.MV={size:0},A.P3="bg"},TQ:function(){return new ZC.A7B(this)},parse:function(){this.b()},paint:function(){this.b(),this.paintPreview()},paintPreview:function(){var e=this,A=e.C.BL(e.BU("v")[0]),a=A.AT(A.H6);if(e.C.B9&&e.C.B9.I2&&e.QN){for(var n=e.C.P,t=e.C.B9,o=[],r=[],i=!0,C=0,s=e.S.length;C<s;C++)if(null!==ZC._n_(e.S[C])&&null!==ZC._n_(e.S[C].DP[2])){var l=A.AT(e.S[C].DP[2]);i&&(r.push([e.S[C].iX,a]),i=!1),o.push([e.S[C].iX,l]),r.push([e.S[C].iX,l])}r.length&&r.push([r[r.length-1][0],a]);var u=e.mapPointsToPreview(r),p=e.o.preview||{};if("area"===(p.type||"area")){var c=new ZC.DT(e.A);c.copy(e),c.append({"background-color":e.BW,"alpha-area":.2}),c.append(p),c.parse(),c.CZ=!0,c.L5=!0,c.AZ=0,c.AU=0,c.EX=0,c.G9=0,c.C6=ZC._f_(c.o["alpha-area"]),c.D1=[n.iX,n.iY,n.iX+n.I,n.iY+n.F],c.K=e.K+"-area-preview",c.Z=t.Z,c.D=u,c.paint()}var d=e.mapPointsToPreview(o),v=ZC.Q.EB(t.Z,e.H.AA),D=new ZC.D0(e);D.copy(e),D.append({"line-color":e.BW,"line-width":1}),D.append(p),D.parse(),ZC.CR.paint(v,D,d,null,3)}}}),ZC.A7B=ZC.LG.CA({$i:function(e){this.b(e),this.J0=null},setup:function(){var e=this,A=e.A.B1,a=e.A.CM,n=[A.W,A.A1,a.W,a.A1];if(e.JO!==n&&(null!==e.BT?e.iX=A.AT(e.BT):e.iX=A.IB(e.L),e.iY=a.AT(e.AD),e.E.XF=a.AT(e.AD),e.E.A9R=a.AT(e.DP[0]),e.E.AAV=a.AT(e.DP[1]),e.E.VC=a.AT(e.DP[2]),e.JO=n),(!e.I2||e.A.I3&&e.A.MV.size<3)&&(e.copy(e.A),e.E7=e.A.E7,e.DE()&&e.parse(!1),e.J0=new ZC.DN(e.A),e.J0.copy(e),e.DP[2]<e.AD&&(e.J0.A0=e.J0.AE=e.C2,e.J0.BW=e.B7),e.DP[2]<e.AD?(e.A.o["trend-down"]&&(e.J0.append(e.A.o["trend-down"]),e.J0.parse()),e.A.MV.down||(e.A.MV.down=new ZC.DN(e.A),e.A.MV.down.copy(e.J0),e.A.MV.size++)):e.DP[2]>e.AD?(e.A.o["trend-up"]&&(e.J0.append(e.A.o["trend-up"]),e.J0.parse()),e.A.MV.up||(e.A.MV.up=new ZC.DN(e.A),e.A.MV.up.copy(e.J0),e.A.MV.size++)):(e.A.o["trend-equal"]&&(e.J0.append(e.A.o["trend-equal"]),e.J0.parse()),e.A.MV.equal||(e.A.MV.equal=new ZC.DN(e.A),e.A.MV.equal.copy(e.J0),e.A.MV.size++)),e.I2=!0),e.A.I3){e.DP[2]<e.AD?e.J0=e.A.MV.down:e.DP[2]>e.AD?e.J0=e.A.MV.up:e.J0=e.A.MV.equal;var t=ZC.CY(e.E.XF,e.E.VC),o=ZC.BQ(e.E.XF,e.E.VC)-ZC.CY(e.E.XF,e.E.VC);o<2&&(o=2),e.E.A7M=t+o/2}},JV:function(e,A,a,n){var t=this,o=t.A.MP();function r(e){return ZC.AP.G2(e,o)}return ZC._cp_(A,o),t.CV=[["%node-value-stock-open",r(t.AD)],["%open",r(t.AD)],["%v0",r(t.AD)],["%node-value-stock-high",r(t.DP[0])],["%high",r(t.DP[0])],["%v1",r(t.DP[0])],["%node-value-stock-low",r(t.DP[1])],["%low",r(t.DP[1])],["%v2",r(t.DP[1])],["%node-value-stock-close",r(t.DP[2])],["%close",r(t.DP[2])],["%v3",r(t.DP[2])]],e=t.b(e,A,a,n)},A96:function(){var e,A,a=this;if(a.DP=[],a.o.value instanceof Array&&5===a.o.value.length)a.BT=ZC._f_(a.o.value[0]),null!==a.BT&&(null!==ZC._n_(a.A.K2[a.BT])&&-1!==ZC.AV(a.A.K2[a.BT],a.L)||a.A.V4(a.BT,a.L)),A=[a.o.value[1],a.o.value[2],a.o.value[3],a.o.value[4]];else if(a.o.value[1]instanceof Array){if("string"==typeof a.o.value[0]){var n=ZC.AV(a.A.B1.IQ,a.o.value[0]);-1!==n?a.BT=n:(a.A.B1.IQ.push(a.o.value[0]),a.BT=a.A.B1.IQ.length-1)}else a.BT=ZC._f_(a.o.value[0]);null!==a.BT&&(null!==ZC._n_(a.A.K2[a.BT])&&-1!==ZC.AV(a.A.K2[a.BT],a.L)||a.A.V4(a.BT,a.L)),A=a.o.value[1]}else A=a.o.value;a.CK=A.join(" "),a.AD=ZC._f_(A[0]),null!==ZC._n_(e=A[1])&&a.DP.push(ZC._f_(e)),null!==ZC._n_(e=A[2])&&a.DP.push(ZC._f_(e)),null!==ZC._n_(e=A[3])&&a.DP.push(ZC._f_(e))},ABF:function(){var e=this,A={};return e.DP[2]<e.AD?A["background-color"]=e.J0.B7:A["background-color"]=e.J0.A0,A.color=e.J0.C2,A},Y4:function(){var e=this,A={};return e.DP[2]<e.AD?A["background-color"]=e.J0.B7:A["background-color"]=e.J0.A0,A["border-color"]=A["background-color"],A.color=e.J0.C2,A},A8E:function(){return this.Y4()},paint:function(){var e,A=this;A.b();var a=A.A.B1;A.setup();for(var n=a.AC*A.A.Y,t=A.A.L,o=0,r=0;r<A.A.A.K3.stock.length;r++)o++,-1!==ZC.AV(A.A.A.K3[A.A.AF][r],A.A.L)&&(t=r);var i=A.A.CF;i<=1&&(i*=n);var C=A.A.CT;C<=1&&(C*=n);var s=n-i-C,l=A.A.F4;l<=1&&(l*=s),s<1&&(s=.8*n,i=.1*n,C=.1*n);var u=s,p=A.A.EZ;0!==p&&(l=0),o>1&&(p>1?u=(s-(o-1)*l+(o-1)*p)/o:p*=u=(s-(o-1)*l)/(o-(o-1)*p)),u=ZC._l_(u,1,s);var c=A.iX-n/2+i+t*(u+l)-t*p;c=ZC._l_(c,A.iX-n/2+i,A.iX+n/2-C);var d,v=u,D=ZC.CY(A.E.XF,A.E.VC),Z=ZC.BQ(A.E.XF,A.E.VC)-ZC.CY(A.E.XF,A.E.VC);if(Z<2&&(Z=2),i+C===0&&(c-=.5,v+=1),A.I=v,A.F=Z,A.iX=c,A.E.A7M=D+Z/2,A.setNodeData({x:c,y:D,w:v,h:Z}),A.AN){d=ZC.Q.EB(A.H.usc()?A.H.K+"-main-c":A.H.K9?A.C.K+"-plots-bl-c":A.C.K+"-plot-"+A.A.L+"-bl-1-c",A.H.AA);var h,P=A.iX+A.I/2;A.DP[2]<A.AD&&(e=A.A.o["trend-down"])?(A.E["selected-state"]=e["selected-state"],A.E["background-state"]=e["background-state"]):A.DP[2]>A.AD&&(e=A.A.o["trend-up"])?(A.E["selected-state"]=e["selected-state"],A.E["background-state"]=e["background-state"]):A.DP[2]===A.AD&&(e=A.A.o["trend-equal"])&&(A.E["selected-state"]=e["selected-state"],A.E["background-state"]=e["background-state"]);var E=A.A.ID(A,A.J0);switch(A.A.CW){default:var B,V;(h=[]).push([P,A.E.A9R],[P,ZC.CY(A.E.XF,A.E.VC)],null,[P,A.E.AAV],[P,ZC.BQ(A.E.XF,A.E.VC)]),ZC.CR.paint(d,E,h),V=A.DP[2]<A.AD?A.A.ABS:A.DP[2]>A.AD?A.A.ACP:A.A.AB8,0!==A.A.E7.length||void 0===V||A.N.o.override||A.C.KI?(B=new ZC.HL(A.A)).copy(E):B=V,A.H3(B),B.Z=A.A.CP("bl",1),B.C7=A.A.CP("bl",0),B.K=A.K,B.iX=c,B.iY=D,B.I=A.I,B.F=A.F,B.paint(),0!==A.A.E7.length||void 0!==V||A.N.o.override||A.C.KI||(A.DP[2]<A.AD?A.A.ABS=B:A.DP[2]>A.AD?A.A.ACP=B:A.A.AB8=B);break;case"whisker":case"ohlc":h=[];var f=Math.max(A.I/4,4);h.push([P,A.E.A9R],[P,A.E.AAV],null,[P-f,A.E.XF],[P,A.E.XF],null,[P+f,A.E.VC],[P,A.E.VC]),A.H3(E),ZC.CR.paint(d,E,h)}if(A.A.FY){var _=A.C.K+"-node-area "+A.C.K+"-plotset-plot-"+A.A.L+"-node-area zc-node-area";A.A.A.HE.push(ZC.Q.G0("rect",A.A.EA,A.A.IV)+'class="'+_+'" id="'+A.K+'" coords="'+ZC._i_(c+ZC.MAPTX)+","+ZC._i_(A.E.A9R+ZC.MAPTX)+","+ZC._i_(c+v+ZC.MAPTX)+","+ZC._i_(A.E.AAV+ZC.MAPTX)+'" />')}A.A.U&&A.A.U.AN&&A.GW()}},A0W:function(){var e=this;if(!ZC.move&&e.A.IE&&e.A.AN)switch(e.b(),e.A.CW){case"candlestick":var A=new ZC.HL(e.A);A.K=e.K+"-hover",A.Z=ZC.AK(e.C.K+"-hover-c"),A.C2=e.A.BP[0],A.AE=e.A.BP[3],A.B7=e.A.BP[1],A.BW=e.A.BP[1],A.A0=e.A.BP[2],A.append(e.A.IE.o),A.PU=!0,A.parse(),A.J2=function(A){return e.J2(A)},A.DE()&&A.parse(),e.DP[2]<e.AD&&(A.A0=A.AE=A.C2,A.BW=A.B7),e.DP[2]<e.AD&&e.A.o["trend-down"]?(A.append(e.A.o["trend-down"]),A.append(e.A.o["hover-state"]),e.A.o["trend-down"]["hover-state"]&&A.append(e.A.o["trend-down"]["hover-state"]),A.parse()):e.DP[2]>e.AD&&e.A.o["trend-up"]?(A.append(e.A.o["trend-up"]),A.append(e.A.o["hover-state"]),e.A.o["trend-up"]["hover-state"]&&A.append(e.A.o["trend-up"]["hover-state"]),A.parse()):e.DP[2]===e.AD&&e.A.o["trend-equal"]&&(A.append(e.A.o["trend-equal"]),A.append(e.A.o["hover-state"]),e.A.o["trend-equal"]["hover-state"]&&A.append(e.A.o["trend-equal"]["hover-state"]),A.parse()),A.iX=e.getNodeData("x"),A.iY=e.getNodeData("y"),A.I=e.getNodeData("w"),A.F=e.getNodeData("h");var a=e.C.P;A.iY<a.iY&&(A.F=A.F-(a.iY-A.iY),A.iY=a.iY),A.iY+A.F>a.iY+a.F&&(A.F=a.iY+a.F-A.iY),A.AN&&A.paint()}}});