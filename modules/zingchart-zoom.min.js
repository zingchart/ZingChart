/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.13
*/
ZC.WI.push("zoom"),ZC.Q4.prototype.AD9=function(o){var n,i,C,e,a,l=this;if((o=o||{}).action="pan",n=null!==ZC._n_(o.graphid)?l.OV(o.graphid):l.AG[0]){for(i=0,C=n.BW("k").length;i<C;i++){var A=n.BW("k")[i];if(e=1===A.L?"":"-"+A.L,A.GN&&(null===ZC._n_(o["zoomx"+e])||o["zoomx"+e])){o["zoomx"+e]=!0;var t,m=o.xdist||50;a=A.I/ZC.CY(A.I,Math.abs(m));var Z=A.W,r=A.A1;m<0?(t=ZC.CY(A.W-A.D6,ZC._i_((A.A1-A.W)/a)),Z=A.W-t,r=A.A1-t):(t=ZC.CY(A.DR-A.A1,ZC._i_((A.A1-A.W)/a)),Z=A.W+t,r=A.A1+t),o["xmin"+e]=Z,o["xmax"+e]=r}}for(i=0,C=n.BW("v").length;i<C;i++){var u=n.BW("v")[i];if(e=1===u.L?"":"-"+u.L,u.GN&&(null===ZC._n_(o["zoomy"+e])||o["zoomy"+e])){o["zoomy"+e]=!0;var _,x=o.ydist||50;a=u.F/ZC.CY(u.F,Math.abs(x));var B=u.AY,d=u.BD;m<0?(_=ZC.CY(u.AY-u.FR,ZC._i_((u.BD-u.AY)/a)),B=u.AY-_,d=u.BD-_):(_=ZC.CY(u.GU-u.BD,ZC._i_((u.BD-u.AY)/a)),B=u.AY+_,d=u.BD+_),u.PY&&1===u.E1&&(B=Math.round(B),d=Math.round(d)),o["ymin"+e]=B,o["ymax"+e]=d}}l.Q0(o)}},ZC.Q4.prototype.A90=function(o){var n,i,C,e,a=this;if((o=o||{}).action="zoomin",n=null!==ZC._n_(o.graphid)?a.OV(o.graphid):a.AG[0]){for(i=0,C=n.BW("k").length;i<C;i++){var l=n.BW("k")[i];if(e=1===l.L?"":"-"+l.L,l.GN&&(null===ZC._n_(o["zoomx"+e])||o["zoomx"+e])){o["zoomx"+e]=!0;var A=l.A1-l.W,t=l.W+(A<2?0:ZC._i_(A/4)),m=l.A1-(A<2?0:ZC._i_(A/4));t<m?(o["xmin"+e]=t,o["xmax"+e]=m):(o["xmin"+e]=l.W,o["xmax"+e]=l.A1)}}for(i=0,C=n.BW("v").length;i<C;i++){var Z=n.BW("v")[i];if(e=1===Z.L?"":"-"+Z.L,Z.GN&&(null===ZC._n_(o["zoomy"+e])||o["zoomy"+e])){o["zoomy"+e]=!0;var r=Z.BD-Z.AY,u=Z.AY+ZC._f_(r/4),_=Z.BD-ZC._f_(r/4);Z.PY&&1===Z.E1&&(u=Math.round(u),_=Math.round(_)),u<_&&(o["ymin"+e]=u,o["ymax"+e]=_)}}a.Q0(o)}},ZC.Q4.prototype.A8D=function(o){var n,i,C,e,a,l,A,t=this;if((o=o||{}).action="zoomout",o.previewscale=!0,n=null!==ZC._n_(o.graphid)?t.OV(o.graphid):t.AG[0]){for(i=0,C=n.BW("k").length;i<C;i++){var m=n.BW("k")[i];if(A=1===m.L?"":"-"+m.L,m.GN&&(null===ZC._n_(o["zoomx"+A])||o["zoomx"+A]))if(o["zoomx"+A]=!0,n.B6&&n.B6.KS){var Z=ZC._i_(n.B6.NO[m.BF].values.length*n.B6.II/n.B6.AT.I),r=ZC._i_(n.B6.NO[m.BF].values.length*n.B6.H8/n.B6.AT.I);e=ZC.BQ(2,r-Z),(a=ZC.BQ(0,Z-ZC._i_(e/2)))<(l=ZC.CY(n.B6.NO[m.BF].values.length-1,r+ZC._i_(e/2)))&&(o["xmin"+A]=a,o["xmax"+A]=l)}else e=ZC.BQ(2,m.A1-m.W),(a=ZC.BQ(m.D6,m.W-ZC._i_(e/2)))<(l=ZC.CY(m.DR,m.A1+ZC._i_(e/2)))&&(o["xmin"+A]=a,o["xmax"+A]=l)}for(i=0,C=n.BW("v").length;i<C;i++){var u=n.BW("v")[i];if(A=1===u.L?"":"-"+u.L,u.GN&&(null===ZC._n_(o["zoomy"+A])||o["zoomy"+A])){o["zoomy"+A]=!0;var _=u.BD-u.AY,x=ZC.BQ(u.FR,u.AY-ZC._f_(_/2)),B=ZC.CY(u.GU,u.BD+ZC._f_(_/2));u.PY&&1===u.E1&&(Math.round(B)-Math.round(x)>1?(x=Math.round(x),B=Math.round(B)):(x=Math.floor(x),B=Math.ceil(B))),(x=ZC.BQ(u.FR,x))<(B=ZC.CY(u.GU,B))&&(o["ymin"+A]=x,o["ymax"+A]=B)}}t.Q0(o)}},ZC.Q4.prototype.A8E=function(o){var n,i,C,e,a,l=this;for(o=o||{},i=null!==ZC._n_(o.graphid)?l.OV(o.graphid):l.AG[0],o.action="viewall",C=0,e=i.BW("k").length;C<e;C++)if((n=i.BW("k")[C]).aForcedMinMax[2]=1,o["zoomx"+(a=1===n.L?"":"-"+n.L)]=!0,o["xmin"+a]=null,o["xmax"+a]=null,i.o[n.BF]&&(i.o[n.BF]["zoom-to"]=null,i.o[n.BF]["zoom-to-values"]=null),i.B6&&i.B6.KS){var A=i.B6.NO[n.BF].values;o["kmin"+a+"-async"]=A[0],o["kmax"+a+"-async"]=A[A.length-1]}for(C=0,e=i.BW("v").length;C<e;C++)n=i.BW("v")[C],i.o[n.BF]&&(i.o[n.BF]["zoom-to"]=null,i.o[n.BF]["zoom-to-values"]=null),n.DT=null!==ZC._n_(n.E.decimals)&&-1!==n.E.decimals?n.E.decimals:null,a=1===n.L?"":"-"+n.L,n.KN=null,o["zoomy"+a]=!0,o["ymin"+a]=null,o["ymax"+a]=null;l.Q0(o)},ZC.Q4.prototype.Q0=function(o){var n,i,C,e,a,l,A,t,m,Z,r,u,_,x,B,d=this;(o=o||{}).id=d.K;var f=null!==ZC._n_(o.zoom)&&!o.zoom;if(i=null!==ZC._n_(o.graphid)?d.OV(o.graphid):d.AG[0]){f&&(d.E["graph."+i.L+".ignore-zoom"]=!0),d.E["graph."+i.L+".ignore-zoom"]&&(f=!0),"undefined"==typeof o.scroll&&(ZC.Q.IV(ZC.AL(i.K+"-scroll-x-c"),i.A.AC,i.iX,i.iY,i.I,i.F),ZC.Q.IV(ZC.AL(i.K+"-scroll-y-c"),i.A.AC,i.iX,i.iY,i.I,i.F)),i.B6&&(i.B6.HZ=!1);var h=d.E["graph"+i.L+".zoom"]||{};for(o.yzoomed=!1,(a=i.BW("v")[0])&&null!==ZC._n_(o.ymin)&&null!==ZC._n_(o.ymax)&&(o.ymin===a.FR&&o.ymax===a.GU||(o.yzoomed=!0)),t=0,m=i.BW("k").length;t<m;t++)if(Z=1===(e=i.BW("k")[t]).L?"":"-"+e.L,null!==ZC._n_(o["kmin"+Z])&&null!==ZC._n_(o["kmax"+Z]))if(o["kmin"+Z]===o["kmax"+Z])delete o["kmin"+Z],delete o["kmax"+Z];else{for(var v=!1,s=!1,p=0,g=e.V.length;p<g&&(o["kmin"+Z]<=e.V[p]&&!v&&(o["xmin"+Z]=p,v=!0),o["kmax"+Z]<=e.V[p]&&!s&&(o["xmax"+Z]=p,s=!0),!v||!s);p++);v||(o["xmin"+Z]=0),s||(o["xmax"+Z]=e.V.length-1),o["zoomx"+Z]=!0,o.xzoomed=!(v&&s)}else C=i.B6&&i.B6.KS&&o.previewscale?i.B6.NO[e.BF].values:e.V,null!==ZC._n_(n=C[o["xmin"+Z]])&&(o["kmin"+Z]=n),null!==ZC._n_(n=C[o["xmax"+Z]])&&(o["kmax"+Z]=n),i.B6&&i.B6.KS?o.xzoomed=!(0===o["xmin"+Z]&&o["xmax"+Z]===C.length-1):o.xzoomed=!(o["xmin"+Z]===e.D6&&o["xmax"+Z]===e.DR);"viewall"===o.action&&(o.xzoomed=!1,o.yzoomed=!1);var c=ZC.AP.C0("zoom",i.A,o,!0);if(o.async&&!f)return;if(i.B6&&i.B6.KS){C=i.B6.NO[e.BF].values;var y=ZC.Y5(C),L=ZC.A1U(C);null!==ZC._n_(o.kmin)&&"undefined"!=typeof o.kmin?(l=ZC._i_(i.B6.AT.I*(o.kmin-y)/(L-y)),l=ZC.BQ(l,0)):l=0,null!==ZC._n_(o.kmax)&&"undefined"!=typeof o.kmax?(A=ZC._i_(i.B6.AT.I*(o.kmax-y)/(L-y)),A=ZC.CY(A,i.B6.AT.I)):A=i.B6.AT.I,f||i.B6.update(l,A,i.B6.KU,i.B6.HB)}if(c||void 0===c){for(t=0,m=i.BW("k").length;t<m;t++)o["zoomx"+(Z=1===(e=i.BW("k")[t]).L?"":"-"+e.L)]&&(f||e.zoomTo(o["xmin"+Z],o["xmax"+Z]),h["xmin"+Z]=o["xmin"+Z],h["xmax"+Z]=o["xmax"+Z]);for(t=0,m=i.BW("v").length;t<m;t++)o["zoomy"+(Z=1===(a=i.BW("v")[t]).L?"":"-"+a.L)]&&null!==ZC._n_(a)&&(f||a.zoomTo(o["ymin"+Z],o["ymax"+Z]),h["ymin"+Z]=o["ymin"+Z],h["ymax"+Z]=o["ymax"+Z]);if(f&&(d.H2.C=i),d.H2.parse(),d.H2.A0B)for(d.E["graph"+i.L+".zoom"]=h,x=0,B=d.AG.length;x<B;x++)i.K!==d.AG[x].K&&d.AG[x].H2&&ZC._b_(d.AG[x].H2.o.shared)&&(d.E["graph"+d.AG[x].L+".zoom"]=h);if(i.B6&&!o.preview&&i.B6.update(o.xmin,o.xmax,o.ymin,o.ymax,!0),f)return;i.clear(!0);for(var I=i.BW("v"),K=0;K<I.length;K++)if((a=i.BW("v")[K])&&(a.aAutoFit[0]||a.aAutoFit[1])){for(var z=a.aAutoFit[0]?ZC.MAX:a.FR,F=a.aAutoFit[1]?-ZC.MAX:a.GU,Y=0,W=i.AZ.A3.length;Y<W;Y++)if(i.AZ.A3[Y].AN&&-1!==ZC.AV(i.AZ.A3[Y].BO,a.BF))if(e.EG){for(t=0,m=i.AZ.A3[Y].R.length;t<m;t++)if((_=i.AZ.A3[Y].R[t])&&ZC.DP(_.BV,e.V[e.W],e.V[e.A1]))for(a.aAutoFit[0]&&(z=ZC.CY(z,_.CP)),a.aAutoFit[1]&&(F=ZC.BQ(F,_.CP)),r=0,u=_.DS.length;r<u;r++)a.aAutoFit[0]&&(z=ZC.CY(z,_.DS[r])),a.aAutoFit[1]&&(F=ZC.BQ(F,_.DS[r]))}else for(t=e.W;t<=e.A1;t++)if(_=i.AZ.A3[Y].R[t])for(a.aAutoFit[0]&&(z=ZC.CY(z,_.CP)),a.aAutoFit[1]&&(F=ZC.BQ(F,_.CP)),r=0,u=_.DS.length;r<u;r++)a.aAutoFit[0]&&(z=ZC.CY(z,_.DS[r])),a.aAutoFit[1]&&(F=ZC.BQ(F,_.DS[r]));"log"===a.BT&&(z=ZC.FT(z,a.DX),F=ZC.FT(F,a.DX)),a.QI(z,F,!0),a.J3();var b=i.BW("v");for(t=0;t<b.length;t++)b[t].BF!==a.BF&&b[t].sMaster===a.BF&&(b[t].QI(z,F,!0),b[t].J3())}var H=ZC._b_(o.zoomto);i.E["skip-preview"]=!0;var M=["top","right","bottom","left"];for(t=0;t<M.length;t++)(i.P.E["d-margin-"+M[t]]||i.E["plotarea.d-margin-"+M[t]]||ZC._b_(i.P.o["adjust-layout"]))&&(i.o.plotarea["margin-"+M[t]]&&!Number.isNaN(i.o.plotarea["margin-"+M[t]])||(i.o.plotarea["margin-"+M[t]]=i.P.o["margin-"+M[t]]="dynamic",i.E["plotarea.d-margin"]=i.E["plotarea.d-margin-"+M[t]]=!0));i.setupDynamicPlotArea(),i.paint(!H),d.H2.C=null,ZC.AP.C0("postzoom",i.A,o)}else i.ZA=!1}},zingchart.ABR=function(o,n,i){var C,e,a,l,A,t,m,Z,r;document.getElementById("zc-fullscreen")&&(o="zc-fullscreen"),"string"==typeof(i=i||{})&&(i=JSON.parse(i));var u=zingchart.getLoader(o);if(null!==ZC._n_(i.preservezoom)&&(u.E.preservezoom=ZC._b_(i.preservezoom)),u)switch(n){case"getzoom":if(l={},a=u.CA(i.graphid))for(C=0,e=a.BO.length;C<e;C++){var _=a.BO[C];"k"===_.AF?l[_.BF]={xmin:_.W,xmax:_.A1,vmin:_.V[_.W],vmax:_.V[_.A1]}:l[_.BF]={ymin:_.AY,ymax:_.BD,vmin:_.V[_.W],vmax:_.V[_.A1]}}return l;case"pan":u.AD9(i);break;case"zoomin":u.A90(i);break;case"zoomout":u.A8D(i);break;case"zoomto":if(a=u.CA(i.graphid),null!==ZC._n_(i.xall)&&i.xall)for(C=0,e=a.BW("k").length;C<e;C++)i["xmin"+(m=1===(A=a.BW("k")[C]).L?"":"-"+A.L)]=i.xmin||null,i["xmax"+m]=i.xmax||null,i["kmin"+m]=i.kmin||null,i["kmax"+m]=i.kmax||null;for(C=0,e=a.BW("k").length;C<e;C++)null===i["xmin"+(m=1===(A=a.BW("k")[C]).L?"":"-"+A.L)]&&null===ZC._n_(i["xmax"+m])&&null===ZC._n_(i["kmin"+m])&&null===ZC._n_(i["kmax"+m])||(i["zoomx"+m]=!0),"log"===A.BT&&(null!==ZC._n_(i["xmin"+m])&&(i["xmin"+m]=ZC.FT(i["xmin"+m],A.DX)),null!==ZC._n_(i["xmax"+m])&&(i["xmax"+m]=ZC.FT(i["xmax"+m],A.DX)));if(null!==ZC._n_(i.yall)&&i.yall)for(C=0,e=a.BW("v").length;C<e;C++)i["ymin"+(m=1===(t=a.BW("v")[C]).L?"":"-"+t.L)]=i.ymin||null,i["ymax"+m]=i.ymax||null;for(C=0,e=a.BW("v").length;C<e;C++)m=1===(t=a.BW("v")[C]).L?"":"-"+t.L,null===ZC._n_(i["ymin"+m])&&null===ZC._n_(i["ymax"+m])||(i["zoomy"+m]=!0),"log"===t.BT&&(null!==ZC._n_(i["ymin"+m])&&(i["ymin"+m]=ZC.FT(i["ymin"+m],t.DX)),null!==ZC._n_(i["ymax"+m])&&(i["ymax"+m]=ZC.FT(i["ymax"+m],t.DX)));u.Q0(i);break;case"zoomtovalues":if(a=u.CA(i.graphid),null!==ZC._n_(i.xall)&&i.xall)for(C=0,e=a.BW("k").length;C<e;C++)i["xmin"+(m=1===(A=a.BW("k")[C]).L?"":"-"+A.L)]=i.xmin||null,i["xmax"+m]=i.xmax||null;for(C=0,e=a.BW("k").length;C<e;C++)m=1===(A=a.BW("k")[C]).L?"":"-"+A.L,null===ZC._n_(i["xmin"+m])&&null===ZC._n_(i["xmax"+m])||(a.B6&&a.B6.KS?(i.previewscale=!0,i["kmin"+m+"-async"]=i["xmin"+m],i["xmin"+m]=ZC.A1X(a.B6.NO[A.BF].values,i["xmin"+m])):-1!==(Z=ZC.AV(A.V,i["xmin"+m]))?i["xmin"+m]=Z:i["xmin"+m]=ZC.A1X(A.V,i["xmin"+m]),a.B6&&a.B6.KS?(i.previewscale=!0,i["kmax"+m+"-async"]=i["xmax"+m],i["xmax"+m]=ZC.A1X(a.B6.NO[A.BF].values,i["xmax"+m])):-1!==(r=ZC.AV(A.V,i["xmax"+m]))?i["xmax"+m]=r:i["xmax"+m]=ZC.A1X(A.V,i["xmax"+m]),i["zoomx"+m]=!0);if(null!==ZC._n_(i.yall)&&i.yall)for(C=0,e=a.BW("v").length;C<e;C++)i["ymin"+(m=1===(t=a.BW("v")[C]).L?"":"-"+t.L)]=i.ymin||null,i["ymax"+m]=i.ymax||null;for(C=0,e=a.BW("v").length;C<e;C++)m=1===(t=a.BW("v")[C]).L?"":"-"+t.L,null===ZC._n_(i["ymin"+m])&&null===ZC._n_(i["ymax"+m])||(i["zoomy"+m]=!0);u.Q0(i);break;case"viewall":u.A8E(i)}return null};var A55={$i:function(o){this.b(o);var n=this;n.H=o,n.IO=!1,n.C=null,n.R2=null,n.WR=null,n.IA=0,n.LH=0,n.I9=0,n.LG=0,n.A8=null,n.AK=null,n.Z8=!1,n.AB6=0,n.A0B=!1,n.M=null},parse:function(){var o=this;o.C&&(o.C.H2&&o.append(o.C.H2.o),o.b(),o.ZO("preserve-zoom","A0B","b"),o.M=new ZC.DN(o),o.C.A.B9.load(o.M.o,"graph.zoom.label"),o.M.append(o.o.label),o.M.parse(),o.o.label&&!1!==o.o.label.visible&&(o.M.AN=!0))},unbind:function(){var o=this;zingchart.DEV.SKIPTRACKERS?ZC.A5(document.body).unbind("mousedown touchstart",o.R4):ZC.A5("#"+o.H.K+"-img").unbind("mousedown touchstart",o.R4),ZC.A5(".zc-node-area").die("mousedown touchstart",o.R4),ZC.A5(document.body).unbind("mousemove touchmove",o.U7),ZC.A5(document.body).unbind("mouseup touchend",o.TU)},bind:function(){var o=this,n=o.H.K;o.R4=function(i){if((!ZC.mobile||"pinch"!==zingchart.TOUCHZOOM)&&!(i.which>1||-1!==ZC.Q.T7(i.target).indexOf("zc-menu-item")||ZC.move)&&("mousedown"!==i.type||!ZC.TOUCHEVENTS)&&-1===i.target.id.indexOf("-legend-header-area")&&(ZC.mobile||i.preventDefault(),o.H.hideCM(),(ZC.mobile||!(i.which>1))&&("vml"!==o.H.AC||-1===i.target.className.indexOf("zc-node-area")))){i.shiftKey&&(o.Z8=!0);var C=ZC.Q.MI(i),e=ZC._tx_(o.H.K),a=ZC.A5("#"+n+"-top").offset(),l=(C[0]-a.left)/e[0],A=(C[1]-a.top)/e[1];o.R2=l,o.WR=A,o.Z8&&(o.AB6=l);for(var t,m=!1,Z=0,r=o.H.AG.length;Z<r;Z++)t=o.H.AG[Z].P,ZC.DP(l,t.iX-5,t.iX+t.I+5)&&ZC.DP(A,t.iY-5,t.iY+t.F+5)&&(o.C=o.H.AG[Z]);if(null!==o.C){var u={id:o.H.K,graphid:o.C.K,ev:i},_=ZC.AP.C0("beforezoom",o.H,u,!0);if(void 0!==_&&!_)return;if(o.C.H2&&null!==ZC._n_(o.C.H2.o.active)&&!ZC._b_(o.C.H2.o.active))return;t=o.C.P,o.C.AZ.A3.length>0&&(o.A8=o.C.BM(o.C.AZ.A3[0].BW("k")[0]),o.AK=o.C.BM(o.C.AZ.A3[0].BW("v")[0])),null!==o.A8&&null!==o.AK&&o.C.AJ["enable-zooming"]&&(o.A8.GN||o.AK.GN)&&(o.IA=o.A8.CK?A:l,o.I9=o.AK.CK?l:A,m=!0,o.A8.GN?o.A8.CK?o.IA=ZC._l_(o.IA,t.iY,t.iY+t.F):o.IA=ZC._l_(o.IA,t.iX,t.iX+t.I):o.IA=o.A8.CK?t.iY:t.iX,o.AK.GN?o.AK.CK?o.I9=ZC._l_(o.I9,t.iX,t.iX+t.I):o.I9=ZC._l_(o.I9,t.iY,t.iY+t.F):o.I9=o.AK.CK?t.iX:t.iY)}return m&&(o.LH=o.IA,o.LG=o.I9,o.IO=!0,ZC.A5(document.body).bind("mousemove touchmove",o.U7),ZC.A5(document.body).bind("mouseup touchend",o.TU),o.Z8?document.body.style.cursor="pointer":(o.parse(),o.C.AJ["3d"]||ZC.Q.I4({id:n+"-zoom",p:ZC.AL(n+"-top"),top:-9,left:-9,wh:"1/1",position:"absolute",border:o.AU+"px solid "+o.BX,background:o.A0,opacity:o.C5}),o.M.AN&&(ZC.Q.I4({id:n+"-from",p:ZC.AL(n+"-top"),top:-9999,left:-9999,position:"absolute",paddingTop:o.M.FI,paddingRight:o.M.FN,paddingBottom:o.M.FW,paddingLeft:o.M.EP,border:o.M.AU+"px solid "+o.M.BX,background:o.M.A0,color:o.M.C2,fontFamily:o.M.GH,fontWeight:o.M.sFontWeight,fontStyle:o.M.N3?"oblique":"normal",fontSize:o.M.DH,text:""}),ZC.Q.I4({id:n+"-to",p:ZC.AL(n+"-top"),top:-9999,left:-9999,position:"absolute",paddingTop:o.M.FI,paddingRight:o.M.FN,paddingBottom:o.M.FW,paddingLeft:o.M.EP,border:o.M.AU+"px solid "+o.M.BX,background:o.M.A0,color:o.M.C2,fontFamily:o.M.GH,fontWeight:o.M.sFontWeight,fontStyle:o.M.N3?"oblique":"normal",fontSize:o.M.DH,text:""})),document.body.style.cursor="crosshair")),!!ZC.mobile&&void 0}},o.U7=function(i){if("mousemove"!==i.type||!ZC.TOUCHEVENTS){var C,e;if(ZC.mobile||i.preventDefault(),ZC.move=!0,o.C||(ZC.move=!1,o.IO=!1,ZC.A5(document.body).unbind("mousemove touchmove",o.U7),ZC.A5(document.body).unbind("mouseup touchend",o.TU),document.body.style.cursor="auto",ZC.Q.EV([n+"-zoom",n+"-from",n+"-to"])),o.IO){o.C.A.A7.hide();var a=ZC.Q.MI(i),l=ZC._tx_(o.H.K),A=ZC.A5("#"+n+"-top").offset(),t=(a[0]-A.left)/l[0],m=(a[1]-A.top)/l[1];i.ctrlKey;var Z=o.A8.DE?o.A8.AB:0;if(o.LH=o.A8.CK?m:t,o.LG=o.AK.CK?t:m,!o.Z8){var r,u,_,x,B=o.C.P;C=o.A8.AW?o.A8.BS:o.A8.A9,e=o.A8.AW?o.A8.A9:o.A8.BS,o.A8.GN?o.A8.CK?(o.A8.Y6&&(o.IA=o.A8.iY+C+o.A8.AB*ZC._i_((o.IA-o.A8.iY-C-Z/2)/o.A8.AB),o.LH=o.A8.iY+C+Z+o.A8.AB*ZC._i_((o.LH-o.A8.iY-C-Z/2)/o.A8.AB)),o.IA=ZC._l_(o.IA,B.iY+e,B.iY+B.F-C),o.LH=ZC._l_(o.LH,B.iY+e,B.iY+B.F-C)):(o.A8.Y6&&(o.IA=o.A8.iX+C+o.A8.AB*ZC._i_((o.IA-o.A8.iX-C-Z/2)/o.A8.AB),o.LH=o.A8.iX+C+Z+o.A8.AB*ZC._i_((o.LH-o.A8.iX-C-Z/2)/o.A8.AB)),o.IA=ZC._l_(o.IA,B.iX+C,B.iX+B.I-e),o.LH=ZC._l_(o.LH,B.iX+C,B.iX+B.I-e)):(o.IA=o.A8.CK?B.iY+e:B.iX+C,o.LH=o.A8.CK?B.iY+B.F-C:B.iX+B.I-e),C=o.AK.AW?o.AK.A9:o.AK.BS,e=o.AK.AW?o.AK.BS:o.AK.A9,o.AK.GN?o.AK.CK?(o.AK.Y6&&(o.I9=o.AK.iX+C+o.AK.AB*ZC._i_((o.I9-o.AK.iX-C)/o.AK.AB),o.LG=o.AK.iX+C+o.AK.AB*ZC._i_((o.LG-o.AK.iX-C)/o.AK.AB)),o.I9=ZC._l_(o.I9,B.iX+e,B.iX+B.I-C),o.LG=ZC._l_(o.LG,B.iX+e,B.iX+B.I-C)):(o.AK.Y6&&(o.I9=o.AK.iY+C+o.AK.AB*ZC._i_((o.I9-o.AK.iY-C)/o.AK.AB),o.LG=o.AK.iY+C+o.AK.AB*ZC._i_((o.LG-o.AK.iY-C)/o.AK.AB)),o.I9=ZC._l_(o.I9,B.iY+C,B.iY+B.F-e),o.LG=ZC._l_(o.LG,B.iY+C,B.iY+B.F-e)):(o.I9=o.AK.CK?B.iX+e:B.iY+C,o.LG=o.AK.CK?B.iX+B.I-C:B.iY+B.F-e);var d=ZC.A5.browser.msie?0:2*o.AU;o.C.AJ["3d"]&&(d=0);var f=ZC.AL(n+"-zoom");if(o.A8.CK&&o.AK.CK?(r=ZC._a_(o.LG-o.I9-d),u=ZC._a_(o.LH-o.IA-d),_=ZC.CY(o.I9,o.LG),x=ZC.CY(o.IA,o.LH)):(r=ZC._a_(o.LH-o.IA-d),u=ZC._a_(o.LG-o.I9-d),_=ZC.CY(o.IA,o.LH),x=ZC.CY(o.I9,o.LG)),o.C.AJ["3d"]){o.C.O3();var h=ZC.AL(o.H.K+"-guide-c");h&&(ZC.Q.IV(h,o.H.AC,o.C.iX,o.C.iY,o.C.I,o.C.F),ZC.A5(".zc-guide-label").remove()),(f=new ZC.DQ(o)).Z=h,f.A0=f.AE=o.A0,f.BX=o.BX,f.AU=o.AU,f.C5=o.C5,f.D=[[_,x],[_+r,x],[_+r,x+u],[_,x+u],[_,x]];for(var v=0;v<f.D.length;v++){var s=new ZC.CF(o.C,f.D[v][0]-ZC.AQ.E4,f.D[v][1]-ZC.AQ.E5,0);f.D[v][0]=s.ED[0],f.D[v][1]=s.ED[1]}f.parse(),f.paint()}else ZC.Q.PL(f,{width:r+"px",height:u+"px",left:_+"px",top:x+"px"});if(o.M.AN){var p=ZC.CY(o.IA,o.LH),g=ZC.BQ(o.IA,o.LH),c=ZC.CY(o.I9,o.LG),y=ZC.BQ(o.I9,o.LG),L=ZC.AL(n+"-from"),I=ZC.AL(n+"-to"),K={decimals:null===ZC._n_(o.AK.DT)?1:o.AK.DT};L.innerHTML=o.A8.FQ(o.A8.OH(p))+"/"+o.AK.FQ(-1,o.AK.NH(c),K),I.innerHTML=o.A8.FQ(o.A8.OH(g))+"/"+o.AK.FQ(-1,o.AK.NH(y),K),ZC.Q.PL(L,{left:_-o.AU-ZC._i_(ZC.A5(L).width())+"px",top:x-o.AU-ZC._i_(ZC.A5(L).height())+"px"}),ZC.Q.PL(I,{left:_+o.AU+o.M.AU+r+"px",top:x+o.AU+o.M.AU+u+"px"})}}}return!1}},o.TU=function(i){if((!i||"mouseup"!==i.type||!ZC.TOUCHEVENTS)&&o.C){if(ZC.move=!1,o.IO=!1,document.body.style.cursor="auto",ZC.Q.EV([n+"-zoom",n+"-from",n+"-to"]),o.C.AJ["3d"]){o.C.O3();var C=ZC.AL(o.H.K+"-guide-c");C&&(ZC.Q.IV(C,o.H.AC,o.C.iX,o.C.iY,o.C.I,o.C.F),ZC.A5(".zc-guide-label").remove())}if(ZC.A5(document.body).unbind("mousemove touchmove",o.U7),ZC.A5(document.body).unbind("mouseup touchend",o.TU),o.Z8)o.Z8=!1;else{var e,a,l,A,t,m,Z,r,u,_,x={graphid:o.C.K,ev:i};if(ZC._a_(o.IA-o.LH)>10&&ZC._a_(o.I9-o.LG)>10){var B,d,f=!1,h=!1;for(A=0,t=(l=o.C.BW("k")).length;A<t;A++)(B=l[A])&&l[A].GN&&(_=B.DE?B.AB:0,m=1===B.L?"":"-"+B.L,e=B.OH(ZC.CY(o.IA,o.LH)+_/2),a=B.OH(ZC.BQ(o.IA,o.LH)-_/2),ZC._a_(a-e)>=1&&(x["zoomx"+m]=!0,x["xmin"+m]=ZC.CY(e,a),x["xmax"+m]=ZC.BQ(e,a),"log"===B.BT&&(x["kmin"+m]=B.V[ZC._i_(ZC.FT(x["xmin"+m],B.DX))],x["kmax"+m]=B.V[ZC._i_(ZC.FT(x["xmax"+m],B.DX))],delete x["xmin"+m],delete x["xmax"+m]),f=!0));for(A=0,t=(l=o.C.BW("v")).length;A<t;A++)(d=l[A])&&l[A].GN&&(m=1===d.L?"":"-"+d.L,Z=d.NH(ZC.BQ(o.I9,o.LG)),r=d.NH(ZC.CY(o.I9,o.LG)),u=(d.GU-d.FR)/Math.pow(10,10),ZC._a_(r-Z)>=u&&(x["zoomy"+m]=!0,x["ymin"+m]=ZC.CY(Z,r),x["ymax"+m]=ZC.BQ(Z,r),h=!0));f||h?(zingchart.SKIP.EVENT=!0,o.C.A.Q0(x)):zingchart.SKIP.EVENT=!0}else(ZC._a_(o.IA-o.LH)>5||ZC._a_(o.I9-o.LG)>5)&&(zingchart.SKIP.EVENT=!0);o.C=null}}},ZC.mobile&&"normal"!==zingchart.TOUCHZOOM||(zingchart.DEV.SKIPTRACKERS?ZC.A5(document.body).bind("mousedown touchstart",o.R4):ZC.A5("#"+n+"-img").bind("mousedown touchstart",o.R4),ZC.A5(".zc-node-area").live("mousedown touchstart",o.R4))}};ZC.A55=ZC.HQ.CC(A55);