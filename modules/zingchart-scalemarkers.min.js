/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.15
*/
ZC.WJ.push("scalemarkers");var A0N={$i:function(e){this.b(e);var A=this;A.C5=.95,A.L=0,A.AF=null,A.M=null,A.FA=null,A.A64=!1,A.BA="bottom",A.A9=0,A.BU=0,A.MM="normal",A.O9="normal",A.KF=[5,5],A.A0C=[0,0],A.YQ=""},parse:function(){this.b();var e,A=this;A.assign_a([["type","AF"],["value-range","A64","b"],["offset-start","A9","i"],["offset-end","BU","i"],["placement","BA"],["pair-scale","YQ"],["label-placement","MM"],["label-alignment","O9"],["range","FA"]]),null===ZC._n_(A.o.alpha)&&(A.o.alpha="area"===A.AF?.25:.95),null!==ZC._n_(e=A.o["label-tolerance"])&&("object"==typeof e&&e.length?(A.KF[0]=ZC._i_(e[0]||"5"),A.KF[1]=ZC._i_(e[1]||"5")):A.KF[0]=A.KF[1]=ZC._i_(e||"5")),A.assign_a([["alpha","C5","f",0,1]]),null===ZC._n_(e=A.o.label)&&null===ZC._n_(A.o.text)||(A.M=new ZC.DQ(A),A.A.A.A.B6.load(A.M.o,["("+A.A.AF+").SCALE.marker.label"]),null!==ZC._n_(A.o.text)&&A.M.append({text:A.o.text}),A.M.append(e),A.M.parse(),A.A0C=[A.M.BK,A.M.BJ])},paint:function(){var e,A,i,M,a,l,n,t,o=this;if(o.FA)if(-1===o.A.BD.indexOf("scale-r")){if(o.AP){var s,F,C,p,B=o.A,r=o.A.A.P.AU,c=B.A.K+"-scales-"+("top"===o.BA?"f":"b")+"l-0-c";o.Z=o.C8=ZC.AL(B.G.usc()?B.G.K+"-main-c":c),e=ZC.Q.EE(o.Z,B.G.AB),l=[];var Z,h=0,f=0;o.BK>-1&&o.BK<1&&(o.BK=Math.ceil(o.BK*B.AD)),o.BJ>-1&&o.BJ<1&&(o.BJ=Math.ceil(o.BJ*B.AD)),o.M&&(o.M.Z=B.G.usc()?B.G.mc():ZC.AL(B.A.K+"-scales-ml-0-c"),o.M.K=o.A.A.K+"-"+o.A.BD.replace(/\-/g,"_")+"-marker_"+o.L,o.M.GN=o.A.K+"-marker-label "+o.A.A.K+"-scale-marker-label zc-scale-marker-label");var K=o.A.A,Y=function(e,A){var i;return-1!==(A+"").indexOf("%")?(i=ZC._f_(A.replace("%","")),i="k"===e.AF?ZC._i_(i*(e.DP-e.D4)/100):i*(e.GW-e.FQ)/100):i=A,o.A64||"v"===e.AF?e.AR(i):e.II(i)};if("poly"===o.AF){var g,D,d,x;for(K=o.A.A,"k"===B.AF?(g=B,D=""===o.YQ?K.BW("v")[0]:K.BM(o.YQ)||K.BW("v")[0]):"v"===B.AF&&(D=B,g=""===o.YQ?K.BW("k")[0]:K.BM(o.YQ)||K.BW("k")[0]),n=0,t=o.FA.length;n<t;n++)d=Y(g,o.FA[n][0]),x=D.AR(o.FA[n][1]),l.push([d,x]),h+=d,f+=x;if(h/=l.length,f/=l.length,l.length>=3){if(l[0].join("/")!==l[l.length-1].join("/")&&l.push([l[0][0],l[0][1]]),B.A.AJ["3d"])for(B.A.O7(),i=0,M=l.length;i<M;i++)a=new ZC.CE(B.A,l[i][0]-ZC.AM.E1,l[i][1]-ZC.AM.E2,ZC.AM.FE),l[i][0]=a.EC[0],l[i][1]=a.EC[1];(Z=new ZC.DT(o.A)).K=B.K+"-marker-"+o.L,Z.Z=Z.C8=B.G.usc()?B.G.mc():ZC.AL(c),"canvas"===B.G.AB&&(A=Z.Z.getContext("2d")),Z.copy(o),Z.B1=0,Z.AU=0,Z.EU=0,Z.G3=0,Z.D=l,Z.parse(),"canvas"===B.G.AB&&(A.save(),A.beginPath(),A.rect(K.P.iX-2,K.P.iY-2,K.P.I+4,K.P.F+4),A.clip()),Z.paint(),"canvas"===B.G.AB&&A.restore()}}else if("line"===o.AF){if(-1!==B.BD.indexOf("scale-x")?1===o.FA.length?s=F=Y(B,o.FA[0]):2===o.FA.length&&(s=Y(B,o.FA[0]),F=Y(B,o.FA[1])):-1!==B.BD.indexOf("scale-y")&&(1===o.FA.length?s=F=Y(B,o.FA[0]):2===o.FA.length&&(s=Y(B,o.FA[0]),F=Y(B,o.FA[1]))),-1!==B.BD.indexOf("scale-x")&&B.CM||-1!==B.BD.indexOf("scale-y")&&!B.CM){if(l.push([B.iX+o.A9,s],[B.iX+B.I-o.BU,F]),o.o&&o.o.tooltip){K.o.labels=K.o.labels||[];for(var I=B.BD.replace(/\-/g,"")+"marker"+this.L,X=0;X<K.o.labels.length;X++)K.o.labels[X].id&&K.o.labels[X].id===I&&K.o.labels.splice(X,1);K.o.labels.push({id:I,cls:"zcScaleMarkerLabel",x:B.iX,y:s-o.B1,width:B.I,height:2*o.B1,alpha:0,tooltip:o.o.tooltip})}o.M&&("opposite"===o.MM?o.M.iX=B.iX+B.I-o.M.I-o.BU:o.M.iX=B.iX+o.A9,"opposite"===o.MM?o.M.iY=F-(B.AW?0:o.M.F):o.M.iY=s-(B.AW?0:o.M.F))}else{if(l.push([s,B.iY+B.F-o.A9],[F,B.iY+o.BU]),o.o&&o.o.tooltip){K.o.labels=K.o.labels||[];for(I=B.BD.replace(/\-/g,"")+"marker"+this.L,X=0;X<K.o.labels.length;X++)K.o.labels[X].id&&K.o.labels[X].id===I&&K.o.labels.splice(X,1);K.o.labels.push({id:I,cls:"zcScaleMarkerLabel",x:s-o.B1,y:B.iY,width:2*o.B1,height:B.F,alpha:0,tooltip:o.o.tooltip})}o.M&&("opposite"===o.MM?o.M.iX=F-(B.AW?o.M.I:0):o.M.iX=s-(B.AW?o.M.I:0),"opposite"===o.MM?o.M.iY=B.iY+o.M.I-o.M.F+o.BU:o.M.iY=B.iY+B.F-o.M.F-o.A9)}if(B.A.AJ["3d"])for(B.A.O7(),i=0,M=l.length;i<M;i++)a=new ZC.CE(B.A,l[i][0]-ZC.AM.E1,l[i][1]-ZC.AM.E2,ZC.AM.FE),l[i][0]=a.EC[0],l[i][1]=a.EC[1];2===l.length&&("canvas"===B.G.AB&&(e.save(),e.beginPath(),e.rect(K.P.iX-2,K.P.iY-2,K.P.I+4,K.P.F+4),e.clip()),ZC.CO.setup(e,o),ZC.CO.paint(e,o,l),"canvas"===B.G.AB&&e.restore())}else if("area"===o.AF&&(-1!==B.BD.indexOf("scale-x")?2===o.FA.length?(s=C=Y(B,o.FA[0]),F=p=Y(B,o.FA[1])):4===o.FA.length&&(s=Y(B,o.FA[0]),F=Y(B,o.FA[1]),C=Y(B,o.FA[2]),p=Y(B,o.FA[3])):-1!==B.BD.indexOf("scale-y")&&(2===o.FA.length?(s=C=B.AR(o.FA[0]),F=p=B.AR(o.FA[1])):4===o.FA.length&&(s=B.AR(o.FA[0]),F=B.AR(o.FA[1]),C=B.AR(o.FA[2]),p=B.AR(o.FA[3]))),F=s===F?F+1:F,p=C===p?p+1:p,-1!==B.BD.indexOf("scale-x")&&B.CM||-1!==B.BD.indexOf("scale-y")&&!B.CM?(l.push([B.iX+r,s],[B.iX+B.I-r,C],[B.iX+B.I-r,p],[B.iX+r,F],[B.iX+r,s]),o.M&&("opposite"===o.MM?o.M.iX=B.iX+B.I-o.M.I-o.BU:o.M.iX=B.iX+o.A9,"opposite"===o.MM?o.M.iY=F-(B.AW?0:o.M.F):o.M.iY=s-(B.AW?0:o.M.F))):(l.push([s,B.iY+B.F-r],[C,B.iY+r],[p,B.iY+r],[F,B.iY+B.F-r],[s,B.iY+B.F-r]),o.M&&("opposite"===o.MM?o.M.iX=F-(B.AW?o.M.I:0):o.M.iX=s-(B.AW?o.M.I:0),"opposite"===o.MM?o.M.iY=B.iY+o.M.I-o.M.F+o.BU:o.M.iY=B.iY+B.F-o.M.F-o.A9)),l.length>=4)){if(B.A.AJ["3d"])for(B.A.O7(),i=0,M=l.length;i<M;i++)a=new ZC.CE(B.A,l[i][0]-ZC.AM.E1,l[i][1]-ZC.AM.E2,ZC.AM.FE),l[i][0]=a.EC[0],l[i][1]=a.EC[1];(Z=new ZC.DT(o.A)).K=B.K+"-marker-"+o.L,Z.Z=Z.C8=B.G.usc()?B.G.mc():ZC.AL(c),"canvas"===B.G.AB&&(A=Z.Z.getContext("2d")),Z.copy(o),Z.B1=0,Z.AU=0,Z.EU=0,Z.G3=0,Z.D=l,Z.parse(),Z.BK=o.BK,Z.BJ=o.BJ,"canvas"===B.G.AB&&(A.save(),A.beginPath(),A.rect(K.P.iX-2,K.P.iY-2,K.P.I+4,K.P.F+4),A.clip()),Z.paint(),"canvas"===B.G.AB&&A.restore()}var b=!0,E=B.A.P;2===l.length&&(-1!==B.BD.indexOf("scale-x")&&B.CM||-1!==B.BD.indexOf("scale-y")&&!B.CM?ZC.DS(l[0][1],E.iY-o.KF[1],E.iY+E.F+o.KF[1])&&ZC.DS(l[1][1],E.iY-o.KF[1],E.iY+E.F+o.KF[1])||(b=!1):ZC.DS(l[0][0],E.iX-o.KF[0],E.iX+E.I+o.KF[0])&&ZC.DS(l[1][0],E.iX-o.KF[0],E.iX+E.I+o.KF[0])||(b=!1));var O=o.O9;if(o.M&&b&&("poly"===o.AF?(o.M.iX=ZC._i_(h-o.M.I/2),o.M.iY=ZC._i_(f-o.M.F/2)):("auto"===o.O9&&(O=-1!==B.BD.indexOf("scale-x")&&!B.CM||-1!==B.BD.indexOf("scale-y")&&B.CM?s<B.iX+B.I/2?"normal":"opposite":s>B.iY+B.F/2?"normal":"opposite"),o.M.BK=o.M.BJ=0,(-1!==B.BD.indexOf("scale-x")&&!B.CM||-1!==B.BD.indexOf("scale-y")&&B.CM)&&null===ZC._n_(o.M.o.angle)&&(o.M.AA=270),-1!==B.BD.indexOf("scale-x")&&!B.CM||-1!==B.BD.indexOf("scale-y")&&B.CM?(o.M.AA%180==90&&(o.M.BK-=(B.AW?-1:1)*(o.M.I/2-o.M.F/2),o.M.BJ-=o.M.I/2-o.M.F/2,"opposite"===o.MM&&(o.M.BJ=-o.M.I/2+o.M.F/2),"opposite"===O&&(o.M.BK-=o.M.F)),o.M.AA%180==0&&("opposite"===o.MM&&(o.M.BJ=-o.M.I+o.M.F),"opposite"===O&&(o.M.BK-=o.M.I))):(o.M.AA%180==90&&(o.M.BK-=o.M.I/2-o.M.F/2,o.M.BJ-=(B.AW?-1:1)*(o.M.I/2-o.M.F/2),"opposite"===o.MM&&(o.M.BK=o.M.I/2-o.M.F/2),"opposite"===O&&(o.M.BJ+=o.M.I)),o.M.AA%180==0&&"opposite"===O&&(o.M.BJ+=o.M.F)),o.M.BK+=o.A0C[0]+o.BK,o.M.BJ+=o.A0C[1]+o.BJ),B.A.AJ["3d"]&&(a=new ZC.CE(B.A,o.M.iX-ZC.AM.E1,o.M.iY-ZC.AM.E2,ZC.AM.FE),o.M.iX=a.EC[0],o.M.iY=a.EC[1]),ZC.DS(o.M.iX+o.M.I/2+o.M.BK,o.A.A.P.iX-o.KF[0],o.A.A.P.iX+o.A.A.P.I+o.KF[0])&&ZC.DS(o.M.iY+o.M.F/2+o.M.BJ,o.A.A.P.iY-o.KF[1],o.A.A.P.iY+o.A.A.P.F+o.KF[1])&&(o.M.paint(),o.M.EO(),!o.M.KD&&"normal"===zingchart.OBJECTMODE&&(B.E["marker_text_"+o.L]=o.M.AN,ZC.AL(K.A.K+"-map"))))){var _=ZC.AO.OB(K.G.K,K.K,o.M);ZC.AL(K.A.K+"-map").innerHTML=ZC.AL(K.A.K+"-map").innerHTML+_}}}else o.A.paintMarker(o)}};ZC.A0N=ZC.DT.CD(A0N);